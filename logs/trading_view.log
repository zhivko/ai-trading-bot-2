2025-09-04 14:13:00,893 - logging_config - INFO - AppTradingView.py:78 - Application startup...
2025-09-04 14:13:00,899 - logging_config - INFO - redis_utils.py:32 - Successfully connected to Redis
2025-09-04 14:13:00,899 - logging_config - INFO - AppTradingView.py:83 - üîß STARTING BACKGROUND TASK: Creating fetch_and_publish_klines task...
2025-09-04 14:13:00,899 - logging_config - INFO - background_tasks.py:15 - üöÄ STARTING BACKGROUND TASK: fetch_and_publish_klines
2025-09-04 14:14:11,219 - logging_config - INFO - background_tasks.py:75 - üìä STARTING OPEN INTEREST: Data fetch cycle
2025-09-04 14:15:22,651 - logging_config - INFO - background_tasks.py:75 - üìä STARTING OPEN INTEREST: Data fetch cycle
2025-09-04 14:15:54,686 - logging_config - INFO - AppTradingView.py:158 - Chart page request from 192.168.1.1. Current session state: authenticated=True, email=klemenzivkovic@gmail.com
2025-09-04 14:15:54,687 - logging_config - INFO - AppTradingView.py:159 - Security debug - Headers: X-Forwarded-For=192.168.1.1, X-Real-IP=192.168.1.1, User-Agent=Mozilla/5.0 (Linux; Android 6.0; Nexus 5 Build/MRA58N) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Mobile Safari/537.36
2025-09-04 14:15:54,687 - logging_config - INFO - AppTradingView.py:160 - Security debug - Session ID: None, Client IP: 192.168.1.1
2025-09-04 14:15:54,687 - logging_config - INFO - AppTradingView.py:164 - Security debug - Is local test: False (client_host == '192.168.1.52')
2025-09-04 14:15:54,687 - logging_config - INFO - AppTradingView.py:180 - Email found in session for 192.168.1.1: klemenzivkovic@gmail.com
2025-09-04 14:15:54,702 - logging_config - INFO - utility_endpoints.py:282 - Log stream generator cancelled.
2025-09-04 14:15:55,142 - logging_config - INFO - utility_endpoints.py:243 - GET /get_last_symbol request received.
2025-09-04 14:15:55,143 - logging_config - INFO - utility_endpoints.py:251 - Got last selected symbol for user klemenzivkovic@gmail.com: PAXGUSDT
2025-09-04 14:15:55,199 - logging_config - INFO - AppTradingView.py:382 - Symbol chart page request for favicon.ico from 192.168.1.1. Current session state: authenticated=True, email=klemenzivkovic@gmail.com
2025-09-04 14:15:55,199 - logging_config - INFO - AppTradingView.py:383 - Security debug - Headers: X-Forwarded-For=192.168.1.1, X-Real-IP=192.168.1.1, User-Agent=Mozilla/5.0 (Linux; Android 6.0; Nexus 5 Build/MRA58N) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Mobile Safari/537.36
2025-09-04 14:15:55,199 - logging_config - INFO - AppTradingView.py:384 - Security debug - Session ID: None, Client IP: 192.168.1.1
2025-09-04 14:15:55,199 - logging_config - INFO - AppTradingView.py:388 - Security debug - Is local test: False (client_host == '192.168.1.52')
2025-09-04 14:15:55,199 - logging_config - INFO - AppTradingView.py:404 - Email found in session for favicon.ico request from 192.168.1.1: klemenzivkovic@gmail.com
2025-09-04 14:15:55,220 - logging_config - WARNING - utility_endpoints.py:120 - X-axis timestamps are None for PAXGUSDT, skipping validation
2025-09-04 14:15:55,220 - logging_config - INFO - utility_endpoints.py:141 - GET /settings for PAXGUSDT: Retrieved from Redis: {'resolution': '1d', 'range': '3m', 'xAxisMin': None, 'xAxisMax': None, 'yAxisMin': None, 'yAxisMax': None, 'activeIndicators': [], 'liveDataEnabled': False, 'streamDeltaTime': 1, 'useLocalOllama': False, 'localOllamaModelName': '', 'showAgentTrades': False, 'symbol': 'PAXGUSDT', 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'last_selected_symbol': 'PAXGUSDT'}
2025-09-04 14:15:55,249 - logging_config - INFO - websocket_handlers.py:271 - WebSocket connection accepted for combined data: PAXGUSDT
2025-09-04 14:15:55,282 - logging_config - INFO - websocket_handlers.py:742 - üì® RAW MESSAGE RECEIVED for PAXGUSDT: {
  "type": "config",
  "symbol": "PAXGUSDT",
  "indicators": [],
  "resolution": "1d",
  "from_ts": "2025-08-05T12:15:55.225Z",
  "to_ts": "2025-10-04T12:15:55.225Z"
}
2025-09-04 14:15:55,282 - logging_config - INFO - websocket_handlers.py:747 - [TIMESTAMP DEBUG] websocket_handlers.py - Received timestamps:
2025-09-04 14:15:55,282 - logging_config - INFO - websocket_handlers.py:748 -   from_ts: 2025-08-05T12:15:55.225Z (type: <class 'str'>)
2025-09-04 14:15:55,282 - logging_config - INFO - websocket_handlers.py:749 -   to_ts: 2025-10-04T12:15:55.225Z (type: <class 'str'>)
2025-09-04 14:15:55,282 - logging_config - INFO - websocket_handlers.py:754 - [TIMESTAMP DEBUG] Timestamps are ISO strings (correct format)
2025-09-04 14:15:55,282 - logging_config - INFO - websocket_handlers.py:761 - [TIMESTAMP CONVERSION] ISO strings -> Unix seconds:
2025-09-04 14:15:55,283 - logging_config - INFO - websocket_handlers.py:762 -   2025-08-05T12:15:55.225Z -> 1754396155 (2025-08-05 12:15:55 UTC)
2025-09-04 14:15:55,283 - logging_config - INFO - websocket_handlers.py:763 -   2025-10-04T12:15:55.225Z -> 1759580155 (2025-10-04 12:15:55 UTC)
2025-09-04 14:15:55,283 - logging_config - INFO - websocket_handlers.py:795 - [TIMESTAMP FIX] Final timestamps set:
2025-09-04 14:15:55,283 - logging_config - INFO - websocket_handlers.py:796 -   from_ts: 1754396155 (type: <class 'int'>)
2025-09-04 14:15:55,283 - logging_config - INFO - websocket_handlers.py:797 -   to_ts: 1759580155 (type: <class 'int'>)
2025-09-04 14:15:55,283 - logging_config - INFO - websocket_handlers.py:807 - Client config updated for PAXGUSDT: indicators=[], resolution=1d
2025-09-04 14:15:55,283 - logging_config - INFO - websocket_handlers.py:808 - üìä MESSAGE FIELD VALUES for PAXGUSDT:
2025-09-04 14:15:55,283 - logging_config - INFO - websocket_handlers.py:809 -   symbol: PAXGUSDT (fallback: PAXGUSDT)
2025-09-04 14:15:55,283 - logging_config - INFO - websocket_handlers.py:810 -   from_ts: 2025-08-05T12:15:55.225Z (type: <class 'str'>)
2025-09-04 14:15:55,283 - logging_config - INFO - websocket_handlers.py:811 -   to_ts: 2025-10-04T12:15:55.225Z (type: <class 'str'>)
2025-09-04 14:15:55,283 - logging_config - INFO - websocket_handlers.py:812 -   indicators: [] (type: <class 'list'>)
2025-09-04 14:15:55,283 - logging_config - INFO - websocket_handlers.py:813 -   resolution: 1d (type: <class 'str'>)
2025-09-04 14:15:55,284 - logging_config - INFO - websocket_handlers.py:819 - üìä SERVER TIME RANGE ANALYSIS for PAXGUSDT:
2025-09-04 14:15:55,284 - logging_config - INFO - websocket_handlers.py:820 -   Old range: from_ts=None, to_ts=None
2025-09-04 14:15:55,284 - logging_config - INFO - websocket_handlers.py:821 -   New range: from_ts=1754396155, to_ts=1759580155
2025-09-04 14:15:55,284 - logging_config - INFO - websocket_handlers.py:822 -   Time range changed: True
2025-09-04 14:15:55,284 - logging_config - INFO - websocket_handlers.py:823 -   Historical sent: False
2025-09-04 14:15:55,284 - logging_config - INFO - websocket_handlers.py:824 -   Has timestamps: from_ts=True, to_ts=True
2025-09-04 14:15:55,284 - logging_config - INFO - websocket_handlers.py:843 -   üìÖ SERVER RECEIVED RANGE (UTC):
2025-09-04 14:15:55,284 - logging_config - INFO - websocket_handlers.py:844 -     From: 2025-08-05 12:15:55 UTC (1754396155)
2025-09-04 14:15:55,284 - logging_config - INFO - websocket_handlers.py:845 -     To: 2025-10-04 12:15:55 UTC (1759580155)
2025-09-04 14:15:55,284 - logging_config - INFO - websocket_handlers.py:846 -     Range: 5184000 seconds (1440.0 hours)
2025-09-04 14:15:55,284 - logging_config - INFO - websocket_handlers.py:848 -   üìÖ SERVER RECEIVED RANGE (Local Time):
2025-09-04 14:15:55,284 - logging_config - INFO - websocket_handlers.py:849 -     From: 2025-08-05 14:15:55 Central Europe Summer Time
2025-09-04 14:15:55,284 - logging_config - INFO - websocket_handlers.py:850 -     To: 2025-10-04 14:15:55 Central Europe Summer Time
2025-09-04 14:15:55,284 - logging_config - INFO - websocket_handlers.py:853 -   üåç TIMEZONE ANALYSIS:
2025-09-04 14:15:55,285 - logging_config - INFO - websocket_handlers.py:854 -     Server timezone: Central Europe Summer Time (UTC+2.0)
2025-09-04 14:15:55,285 - logging_config - INFO - websocket_handlers.py:855 -     User timezone (from logs): Europe/Ljubljana (UTC+2)
2025-09-04 14:15:55,285 - logging_config - INFO - websocket_handlers.py:856 -     Timezone difference: 0.0 hours
2025-09-04 14:15:55,285 - logging_config - INFO - websocket_handlers.py:859 -   üì§ DATA TO BE SENT TO CLIENT:
2025-09-04 14:15:55,285 - logging_config - INFO - websocket_handlers.py:860 -     Timestamps will be sent as seconds (not milliseconds)
2025-09-04 14:15:55,285 - logging_config - INFO - websocket_handlers.py:861 -     Client will receive: from_ts=1754396155, to_ts=1759580155
2025-09-04 14:15:55,285 - logging_config - INFO - websocket_handlers.py:862 -     Client local time equivalent: 2025-08-05 14:15:55 to 2025-10-04 14:15:55
2025-09-04 14:15:55,285 - logging_config - INFO - websocket_handlers.py:867 -   üìä USER'S CHART VIEW STATE:
2025-09-04 14:15:55,285 - logging_config - INFO - websocket_handlers.py:868 -     X-Axis Min: 30/08/2025, 10:31:39
2025-09-04 14:15:55,285 - logging_config - INFO - websocket_handlers.py:869 -     X-Axis Max: 04/09/2025, 01:58:37
2025-09-04 14:15:55,285 - logging_config - INFO - websocket_handlers.py:870 -     Expected local time range: 2025-08-30 10:31 to 2025-09-04 01:58
2025-09-04 14:15:55,285 - logging_config - INFO - websocket_handlers.py:871 -     Server received UTC equivalent: 2025-08-05 12:15 to 2025-10-04 12:15
2025-09-04 14:15:55,285 - logging_config - INFO - websocket_handlers.py:881 - Should send historical data: 1759580155
2025-09-04 14:15:55,285 - logging_config - INFO - websocket_handlers.py:884 - Sending historical data for PAXGUSDT - time range changed: True, historical_sent: False
2025-09-04 14:15:55,286 - logging_config - INFO - websocket_handlers.py:309 - Sending historical data for PAXGUSDT with indicators: []
2025-09-04 14:15:55,286 - logging_config - INFO - websocket_handlers.py:310 - Time range: from_ts=1754396155, to_ts=1759580155, resolution=1d
2025-09-04 14:15:55,286 - logging_config - INFO - websocket_handlers.py:320 - WebSocket session email found: klemenzivkovic@gmail.com
2025-09-04 14:15:55,286 - logging_config - INFO - websocket_handlers.py:325 - Looking for drawings: symbol=PAXGUSDT, resolution=1d, email=klemenzivkovic@gmail.com
2025-09-04 14:15:55,286 - logging_config - INFO - websocket_handlers.py:330 - Redis key for drawings: drawings:klemenzivkovic@gmail.com:PAXGUSDT
2025-09-04 14:15:55,286 - logging_config - INFO - drawing_manager.py:60 - get_drawings for PAXGUSDT with resolution '1d': found 4 total, returning 4 filtered.
2025-09-04 14:15:55,287 - logging_config - INFO - websocket_handlers.py:339 - Sending 4 existing drawings for PAXGUSDT
2025-09-04 14:15:55,287 - logging_config - INFO - websocket_handlers.py:345 - Sending drawing (4) message: {'type': 'drawings', 'symbol': 'PAXGUSDT', 'data': [{'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1749504979, 'end_time': 1757034460, 'start_price': 3498.39837005988, 'end_price': 3360.406707317073, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': {'buyOnCross': False, 'sellOnCross': False, 'sendEmailOnCross': True}, 'id': '23a034a5-9e91-488c-a076-b1dc9fa49f8f'}, {'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1750519797, 'end_time': 1756969828, 'start_price': 3263.9115544910173, 'end_price': 3290.8273239708183, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': {'buyOnCross': False, 'sellOnCross': False, 'sendEmailOnCross': True}, 'id': 'baf77e17-16dc-4817-b3ea-430467fa3a06'}, {'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1742353742, 'end_time': 1759291109, 'start_price': 3597.298721036928, 'end_price': 3334.7182204260644, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': None, 'id': '30d5ab26-ece7-434c-b489-9aeeccb27e56'}, {'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1739775769, 'end_time': 1755240008, 'start_price': 3168.595862896743, 'end_price': 3270.412791705037, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': None, 'id': '56ea858d-8f15-4f9d-a3ef-249b5e232b7a'}]}
2025-09-04 14:15:55,287 - logging_config - INFO - websocket_handlers.py:347 - Successfully sent drawings message to client
2025-09-04 14:15:55,287 - logging_config - INFO - redis_utils.py:103 - Querying sorted set 'zset:kline:PAXGUSDT:1d' for range [1754396155, 1759580155]
2025-09-04 14:15:55,287 - logging_config - INFO - redis_utils.py:106 - [TIMESTAMP DEBUG] redis_utils.py - get_cached_klines query:
2025-09-04 14:15:55,287 - logging_config - INFO - redis_utils.py:107 -   start_ts: 1754396155 (type: <class 'int'>)
2025-09-04 14:15:55,287 - logging_config - INFO - redis_utils.py:108 -   end_ts: 1759580155 (type: <class 'int'>)
2025-09-04 14:15:55,287 - logging_config - INFO - redis_utils.py:115 - [TIMESTAMP DEBUG] start_ts 1754396155 appears to be in SECONDS (correct for Redis)
2025-09-04 14:15:55,287 - logging_config - INFO - redis_utils.py:120 - [TIMESTAMP DEBUG] Checking Redis data sample for comparison...
2025-09-04 14:15:55,288 - logging_config - INFO - redis_utils.py:159 - Found 30 cached klines for PAXGUSDT 1d between 1754396155 and 1759580155
2025-09-04 14:15:55,288 - logging_config - INFO - redis_utils.py:163 - üîç DATA GAP ANALYSIS for PAXGUSDT 1d:
2025-09-04 14:15:55,288 - logging_config - INFO - redis_utils.py:164 -   Expected data points based on time range: ~60
2025-09-04 14:15:55,288 - logging_config - INFO - redis_utils.py:165 -   Actual data points retrieved: 30
2025-09-04 14:15:55,288 - logging_config - INFO - redis_utils.py:194 - ‚úÖ No data gaps detected - data appears continuous
2025-09-04 14:15:55,288 - logging_config - INFO - websocket_handlers.py:362 - ‚úÖ REDIS SUCCESS: Retrieved 30 klines from Redis for PAXGUSDT
2025-09-04 14:15:55,288 - logging_config - INFO - websocket_handlers.py:398 - ‚úÖ CACHE HIT: Found 30 klines in Redis cache for PAXGUSDT
2025-09-04 14:15:55,288 - logging_config - INFO - websocket_handlers.py:402 - Calculating indicators for PAXGUSDT: 0 indicators, 30 klines
2025-09-04 14:16:04,328 - logging_config - INFO - AppTradingView.py:158 - Chart page request from 192.168.1.1. Current session state: authenticated=True, email=klemenzivkovic@gmail.com
2025-09-04 14:16:04,328 - logging_config - INFO - AppTradingView.py:159 - Security debug - Headers: X-Forwarded-For=192.168.1.1, X-Real-IP=192.168.1.1, User-Agent=Mozilla/5.0 (Linux; Android 6.0; Nexus 5 Build/MRA58N) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Mobile Safari/537.36
2025-09-04 14:16:04,328 - logging_config - INFO - AppTradingView.py:160 - Security debug - Session ID: None, Client IP: 192.168.1.1
2025-09-04 14:16:04,328 - logging_config - INFO - AppTradingView.py:164 - Security debug - Is local test: False (client_host == '192.168.1.52')
2025-09-04 14:16:04,328 - logging_config - INFO - AppTradingView.py:180 - Email found in session for 192.168.1.1: klemenzivkovic@gmail.com
2025-09-04 14:16:04,340 - logging_config - ERROR - websocket_handlers.py:709 - Failed to receive WebSocket message for PAXGUSDT: (1001, '')
Traceback (most recent call last):
  File "c:\git\ai-trading-bot-2\websocket_handlers.py", line 704, in stream_combined_data_websocket_endpoint
    message = await asyncio.wait_for(websocket.receive_json(), timeout=1.0)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python312\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
           ^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\websockets.py", line 136, in receive_json
    self._raise_on_disconnect(message)
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\websockets.py", line 114, in _raise_on_disconnect
    raise WebSocketDisconnect(message["code"], message.get("reason"))
starlette.websockets.WebSocketDisconnect: (1001, '')
2025-09-04 14:16:04,342 - logging_config - INFO - utility_endpoints.py:282 - Log stream generator cancelled.
2025-09-04 14:16:04,613 - logging_config - INFO - utility_endpoints.py:243 - GET /get_last_symbol request received.
2025-09-04 14:16:04,614 - logging_config - INFO - utility_endpoints.py:251 - Got last selected symbol for user klemenzivkovic@gmail.com: PAXGUSDT
2025-09-04 14:16:04,660 - logging_config - INFO - AppTradingView.py:382 - Symbol chart page request for favicon.ico from 192.168.1.1. Current session state: authenticated=True, email=klemenzivkovic@gmail.com
2025-09-04 14:16:04,661 - logging_config - INFO - AppTradingView.py:383 - Security debug - Headers: X-Forwarded-For=192.168.1.1, X-Real-IP=192.168.1.1, User-Agent=Mozilla/5.0 (Linux; Android 6.0; Nexus 5 Build/MRA58N) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Mobile Safari/537.36
2025-09-04 14:16:04,661 - logging_config - INFO - AppTradingView.py:384 - Security debug - Session ID: None, Client IP: 192.168.1.1
2025-09-04 14:16:04,661 - logging_config - INFO - AppTradingView.py:388 - Security debug - Is local test: False (client_host == '192.168.1.52')
2025-09-04 14:16:04,661 - logging_config - INFO - AppTradingView.py:404 - Email found in session for favicon.ico request from 192.168.1.1: klemenzivkovic@gmail.com
2025-09-04 14:16:04,807 - logging_config - WARNING - utility_endpoints.py:120 - X-axis timestamps are None for PAXGUSDT, skipping validation
2025-09-04 14:16:04,808 - logging_config - INFO - utility_endpoints.py:141 - GET /settings for PAXGUSDT: Retrieved from Redis: {'resolution': '1d', 'range': '3m', 'xAxisMin': None, 'xAxisMax': None, 'yAxisMin': None, 'yAxisMax': None, 'activeIndicators': [], 'liveDataEnabled': False, 'streamDeltaTime': 1, 'useLocalOllama': False, 'localOllamaModelName': '', 'showAgentTrades': False, 'symbol': 'PAXGUSDT', 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'last_selected_symbol': 'PAXGUSDT'}
2025-09-04 14:16:04,836 - logging_config - INFO - websocket_handlers.py:271 - WebSocket connection accepted for combined data: PAXGUSDT
2025-09-04 14:16:04,843 - logging_config - INFO - websocket_handlers.py:742 - üì® RAW MESSAGE RECEIVED for PAXGUSDT: {
  "type": "config",
  "symbol": "PAXGUSDT",
  "indicators": [],
  "resolution": "1d",
  "from_ts": "2025-08-05T12:16:04.812Z",
  "to_ts": "2025-10-04T12:16:04.812Z"
}
2025-09-04 14:16:04,843 - logging_config - INFO - websocket_handlers.py:747 - [TIMESTAMP DEBUG] websocket_handlers.py - Received timestamps:
2025-09-04 14:16:04,843 - logging_config - INFO - websocket_handlers.py:748 -   from_ts: 2025-08-05T12:16:04.812Z (type: <class 'str'>)
2025-09-04 14:16:04,843 - logging_config - INFO - websocket_handlers.py:749 -   to_ts: 2025-10-04T12:16:04.812Z (type: <class 'str'>)
2025-09-04 14:16:04,843 - logging_config - INFO - websocket_handlers.py:754 - [TIMESTAMP DEBUG] Timestamps are ISO strings (correct format)
2025-09-04 14:16:04,844 - logging_config - INFO - websocket_handlers.py:761 - [TIMESTAMP CONVERSION] ISO strings -> Unix seconds:
2025-09-04 14:16:04,844 - logging_config - INFO - websocket_handlers.py:762 -   2025-08-05T12:16:04.812Z -> 1754396164 (2025-08-05 12:16:04 UTC)
2025-09-04 14:16:04,844 - logging_config - INFO - websocket_handlers.py:763 -   2025-10-04T12:16:04.812Z -> 1759580164 (2025-10-04 12:16:04 UTC)
2025-09-04 14:16:04,844 - logging_config - INFO - websocket_handlers.py:795 - [TIMESTAMP FIX] Final timestamps set:
2025-09-04 14:16:04,844 - logging_config - INFO - websocket_handlers.py:796 -   from_ts: 1754396164 (type: <class 'int'>)
2025-09-04 14:16:04,844 - logging_config - INFO - websocket_handlers.py:797 -   to_ts: 1759580164 (type: <class 'int'>)
2025-09-04 14:16:04,844 - logging_config - INFO - websocket_handlers.py:807 - Client config updated for PAXGUSDT: indicators=[], resolution=1d
2025-09-04 14:16:04,844 - logging_config - INFO - websocket_handlers.py:808 - üìä MESSAGE FIELD VALUES for PAXGUSDT:
2025-09-04 14:16:04,844 - logging_config - INFO - websocket_handlers.py:809 -   symbol: PAXGUSDT (fallback: PAXGUSDT)
2025-09-04 14:16:04,845 - logging_config - INFO - websocket_handlers.py:810 -   from_ts: 2025-08-05T12:16:04.812Z (type: <class 'str'>)
2025-09-04 14:16:04,845 - logging_config - INFO - websocket_handlers.py:811 -   to_ts: 2025-10-04T12:16:04.812Z (type: <class 'str'>)
2025-09-04 14:16:04,845 - logging_config - INFO - websocket_handlers.py:812 -   indicators: [] (type: <class 'list'>)
2025-09-04 14:16:04,845 - logging_config - INFO - websocket_handlers.py:813 -   resolution: 1d (type: <class 'str'>)
2025-09-04 14:16:04,845 - logging_config - INFO - websocket_handlers.py:819 - üìä SERVER TIME RANGE ANALYSIS for PAXGUSDT:
2025-09-04 14:16:04,845 - logging_config - INFO - websocket_handlers.py:820 -   Old range: from_ts=None, to_ts=None
2025-09-04 14:16:04,845 - logging_config - INFO - websocket_handlers.py:821 -   New range: from_ts=1754396164, to_ts=1759580164
2025-09-04 14:16:04,845 - logging_config - INFO - websocket_handlers.py:822 -   Time range changed: True
2025-09-04 14:16:04,845 - logging_config - INFO - websocket_handlers.py:823 -   Historical sent: False
2025-09-04 14:16:04,846 - logging_config - INFO - websocket_handlers.py:824 -   Has timestamps: from_ts=True, to_ts=True
2025-09-04 14:16:04,846 - logging_config - INFO - websocket_handlers.py:843 -   üìÖ SERVER RECEIVED RANGE (UTC):
2025-09-04 14:16:04,846 - logging_config - INFO - websocket_handlers.py:844 -     From: 2025-08-05 12:16:04 UTC (1754396164)
2025-09-04 14:16:04,846 - logging_config - INFO - websocket_handlers.py:845 -     To: 2025-10-04 12:16:04 UTC (1759580164)
2025-09-04 14:16:04,846 - logging_config - INFO - websocket_handlers.py:846 -     Range: 5184000 seconds (1440.0 hours)
2025-09-04 14:16:04,846 - logging_config - INFO - websocket_handlers.py:848 -   üìÖ SERVER RECEIVED RANGE (Local Time):
2025-09-04 14:16:04,846 - logging_config - INFO - websocket_handlers.py:849 -     From: 2025-08-05 14:16:04 Central Europe Summer Time
2025-09-04 14:16:04,846 - logging_config - INFO - websocket_handlers.py:850 -     To: 2025-10-04 14:16:04 Central Europe Summer Time
2025-09-04 14:16:04,846 - logging_config - INFO - websocket_handlers.py:853 -   üåç TIMEZONE ANALYSIS:
2025-09-04 14:16:04,846 - logging_config - INFO - websocket_handlers.py:854 -     Server timezone: Central Europe Summer Time (UTC+2.0)
2025-09-04 14:16:04,846 - logging_config - INFO - websocket_handlers.py:855 -     User timezone (from logs): Europe/Ljubljana (UTC+2)
2025-09-04 14:16:04,846 - logging_config - INFO - websocket_handlers.py:856 -     Timezone difference: 0.0 hours
2025-09-04 14:16:04,847 - logging_config - INFO - websocket_handlers.py:859 -   üì§ DATA TO BE SENT TO CLIENT:
2025-09-04 14:16:04,847 - logging_config - INFO - websocket_handlers.py:860 -     Timestamps will be sent as seconds (not milliseconds)
2025-09-04 14:16:04,847 - logging_config - INFO - websocket_handlers.py:861 -     Client will receive: from_ts=1754396164, to_ts=1759580164
2025-09-04 14:16:04,847 - logging_config - INFO - websocket_handlers.py:862 -     Client local time equivalent: 2025-08-05 14:16:04 to 2025-10-04 14:16:04
2025-09-04 14:16:04,847 - logging_config - INFO - websocket_handlers.py:867 -   üìä USER'S CHART VIEW STATE:
2025-09-04 14:16:04,847 - logging_config - INFO - websocket_handlers.py:868 -     X-Axis Min: 30/08/2025, 10:31:39
2025-09-04 14:16:04,848 - logging_config - INFO - websocket_handlers.py:869 -     X-Axis Max: 04/09/2025, 01:58:37
2025-09-04 14:16:04,848 - logging_config - INFO - websocket_handlers.py:870 -     Expected local time range: 2025-08-30 10:31 to 2025-09-04 01:58
2025-09-04 14:16:04,848 - logging_config - INFO - websocket_handlers.py:871 -     Server received UTC equivalent: 2025-08-05 12:16 to 2025-10-04 12:16
2025-09-04 14:16:04,848 - logging_config - INFO - websocket_handlers.py:881 - Should send historical data: 1759580164
2025-09-04 14:16:04,848 - logging_config - INFO - websocket_handlers.py:884 - Sending historical data for PAXGUSDT - time range changed: True, historical_sent: False
2025-09-04 14:16:04,848 - logging_config - INFO - websocket_handlers.py:309 - Sending historical data for PAXGUSDT with indicators: []
2025-09-04 14:16:04,848 - logging_config - INFO - websocket_handlers.py:310 - Time range: from_ts=1754396164, to_ts=1759580164, resolution=1d
2025-09-04 14:16:04,848 - logging_config - INFO - websocket_handlers.py:320 - WebSocket session email found: klemenzivkovic@gmail.com
2025-09-04 14:16:04,848 - logging_config - INFO - websocket_handlers.py:325 - Looking for drawings: symbol=PAXGUSDT, resolution=1d, email=klemenzivkovic@gmail.com
2025-09-04 14:16:04,848 - logging_config - INFO - websocket_handlers.py:330 - Redis key for drawings: drawings:klemenzivkovic@gmail.com:PAXGUSDT
2025-09-04 14:16:04,849 - logging_config - INFO - drawing_manager.py:60 - get_drawings for PAXGUSDT with resolution '1d': found 4 total, returning 4 filtered.
2025-09-04 14:16:04,849 - logging_config - INFO - websocket_handlers.py:339 - Sending 4 existing drawings for PAXGUSDT
2025-09-04 14:16:04,849 - logging_config - INFO - websocket_handlers.py:345 - Sending drawing (4) message: {'type': 'drawings', 'symbol': 'PAXGUSDT', 'data': [{'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1749504979, 'end_time': 1757034460, 'start_price': 3498.39837005988, 'end_price': 3360.406707317073, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': {'buyOnCross': False, 'sellOnCross': False, 'sendEmailOnCross': True}, 'id': '23a034a5-9e91-488c-a076-b1dc9fa49f8f'}, {'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1750519797, 'end_time': 1756969828, 'start_price': 3263.9115544910173, 'end_price': 3290.8273239708183, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': {'buyOnCross': False, 'sellOnCross': False, 'sendEmailOnCross': True}, 'id': 'baf77e17-16dc-4817-b3ea-430467fa3a06'}, {'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1742353742, 'end_time': 1759291109, 'start_price': 3597.298721036928, 'end_price': 3334.7182204260644, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': None, 'id': '30d5ab26-ece7-434c-b489-9aeeccb27e56'}, {'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1739775769, 'end_time': 1755240008, 'start_price': 3168.595862896743, 'end_price': 3270.412791705037, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': None, 'id': '56ea858d-8f15-4f9d-a3ef-249b5e232b7a'}]}
2025-09-04 14:16:04,849 - logging_config - INFO - websocket_handlers.py:347 - Successfully sent drawings message to client
2025-09-04 14:16:04,849 - logging_config - INFO - redis_utils.py:103 - Querying sorted set 'zset:kline:PAXGUSDT:1d' for range [1754396164, 1759580164]
2025-09-04 14:16:04,849 - logging_config - INFO - redis_utils.py:106 - [TIMESTAMP DEBUG] redis_utils.py - get_cached_klines query:
2025-09-04 14:16:04,849 - logging_config - INFO - redis_utils.py:107 -   start_ts: 1754396164 (type: <class 'int'>)
2025-09-04 14:16:04,850 - logging_config - INFO - redis_utils.py:108 -   end_ts: 1759580164 (type: <class 'int'>)
2025-09-04 14:16:04,850 - logging_config - INFO - redis_utils.py:115 - [TIMESTAMP DEBUG] start_ts 1754396164 appears to be in SECONDS (correct for Redis)
2025-09-04 14:16:04,850 - logging_config - INFO - redis_utils.py:120 - [TIMESTAMP DEBUG] Checking Redis data sample for comparison...
2025-09-04 14:16:04,850 - logging_config - INFO - redis_utils.py:159 - Found 30 cached klines for PAXGUSDT 1d between 1754396164 and 1759580164
2025-09-04 14:16:04,851 - logging_config - INFO - redis_utils.py:163 - üîç DATA GAP ANALYSIS for PAXGUSDT 1d:
2025-09-04 14:16:04,851 - logging_config - INFO - redis_utils.py:164 -   Expected data points based on time range: ~60
2025-09-04 14:16:04,851 - logging_config - INFO - redis_utils.py:165 -   Actual data points retrieved: 30
2025-09-04 14:16:04,851 - logging_config - INFO - redis_utils.py:194 - ‚úÖ No data gaps detected - data appears continuous
2025-09-04 14:16:04,851 - logging_config - INFO - websocket_handlers.py:362 - ‚úÖ REDIS SUCCESS: Retrieved 30 klines from Redis for PAXGUSDT
2025-09-04 14:16:04,851 - logging_config - INFO - websocket_handlers.py:398 - ‚úÖ CACHE HIT: Found 30 klines in Redis cache for PAXGUSDT
2025-09-04 14:16:04,851 - logging_config - INFO - websocket_handlers.py:402 - Calculating indicators for PAXGUSDT: 0 indicators, 30 klines
2025-09-04 14:16:14,237 - logging_config - INFO - AppTradingView.py:158 - Chart page request from 192.168.1.1. Current session state: authenticated=True, email=klemenzivkovic@gmail.com
2025-09-04 14:16:14,237 - logging_config - INFO - AppTradingView.py:159 - Security debug - Headers: X-Forwarded-For=192.168.1.1, X-Real-IP=192.168.1.1, User-Agent=Mozilla/5.0 (Linux; Android 6.0; Nexus 5 Build/MRA58N) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Mobile Safari/537.36
2025-09-04 14:16:14,237 - logging_config - INFO - AppTradingView.py:160 - Security debug - Session ID: None, Client IP: 192.168.1.1
2025-09-04 14:16:14,237 - logging_config - INFO - AppTradingView.py:164 - Security debug - Is local test: False (client_host == '192.168.1.52')
2025-09-04 14:16:14,237 - logging_config - INFO - AppTradingView.py:180 - Email found in session for 192.168.1.1: klemenzivkovic@gmail.com
2025-09-04 14:16:14,253 - logging_config - ERROR - websocket_handlers.py:709 - Failed to receive WebSocket message for PAXGUSDT: (1001, '')
Traceback (most recent call last):
  File "c:\git\ai-trading-bot-2\websocket_handlers.py", line 704, in stream_combined_data_websocket_endpoint
    message = await asyncio.wait_for(websocket.receive_json(), timeout=1.0)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python312\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
           ^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\websockets.py", line 136, in receive_json
    self._raise_on_disconnect(message)
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\websockets.py", line 114, in _raise_on_disconnect
    raise WebSocketDisconnect(message["code"], message.get("reason"))
starlette.websockets.WebSocketDisconnect: (1001, '')
2025-09-04 14:16:14,255 - logging_config - INFO - utility_endpoints.py:282 - Log stream generator cancelled.
2025-09-04 14:16:14,533 - logging_config - INFO - utility_endpoints.py:243 - GET /get_last_symbol request received.
2025-09-04 14:16:14,542 - logging_config - INFO - utility_endpoints.py:251 - Got last selected symbol for user klemenzivkovic@gmail.com: PAXGUSDT
2025-09-04 14:16:14,566 - logging_config - INFO - AppTradingView.py:382 - Symbol chart page request for favicon.ico from 192.168.1.1. Current session state: authenticated=True, email=klemenzivkovic@gmail.com
2025-09-04 14:16:14,566 - logging_config - INFO - AppTradingView.py:383 - Security debug - Headers: X-Forwarded-For=192.168.1.1, X-Real-IP=192.168.1.1, User-Agent=Mozilla/5.0 (Linux; Android 6.0; Nexus 5 Build/MRA58N) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Mobile Safari/537.36
2025-09-04 14:16:14,566 - logging_config - INFO - AppTradingView.py:384 - Security debug - Session ID: None, Client IP: 192.168.1.1
2025-09-04 14:16:14,566 - logging_config - INFO - AppTradingView.py:388 - Security debug - Is local test: False (client_host == '192.168.1.52')
2025-09-04 14:16:14,567 - logging_config - INFO - AppTradingView.py:404 - Email found in session for favicon.ico request from 192.168.1.1: klemenzivkovic@gmail.com
2025-09-04 14:16:14,584 - logging_config - WARNING - utility_endpoints.py:120 - X-axis timestamps are None for PAXGUSDT, skipping validation
2025-09-04 14:16:14,584 - logging_config - INFO - utility_endpoints.py:141 - GET /settings for PAXGUSDT: Retrieved from Redis: {'resolution': '1d', 'range': '3m', 'xAxisMin': None, 'xAxisMax': None, 'yAxisMin': None, 'yAxisMax': None, 'activeIndicators': [], 'liveDataEnabled': False, 'streamDeltaTime': 1, 'useLocalOllama': False, 'localOllamaModelName': '', 'showAgentTrades': False, 'symbol': 'PAXGUSDT', 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'last_selected_symbol': 'PAXGUSDT'}
2025-09-04 14:16:14,603 - logging_config - INFO - websocket_handlers.py:271 - WebSocket connection accepted for combined data: PAXGUSDT
2025-09-04 14:16:14,634 - logging_config - INFO - websocket_handlers.py:742 - üì® RAW MESSAGE RECEIVED for PAXGUSDT: {
  "type": "config",
  "symbol": "PAXGUSDT",
  "indicators": [],
  "resolution": "1d",
  "from_ts": "2025-08-05T12:16:14.588Z",
  "to_ts": "2025-10-04T12:16:14.588Z"
}
2025-09-04 14:16:14,634 - logging_config - INFO - websocket_handlers.py:747 - [TIMESTAMP DEBUG] websocket_handlers.py - Received timestamps:
2025-09-04 14:16:14,634 - logging_config - INFO - websocket_handlers.py:748 -   from_ts: 2025-08-05T12:16:14.588Z (type: <class 'str'>)
2025-09-04 14:16:14,634 - logging_config - INFO - websocket_handlers.py:749 -   to_ts: 2025-10-04T12:16:14.588Z (type: <class 'str'>)
2025-09-04 14:16:14,634 - logging_config - INFO - websocket_handlers.py:754 - [TIMESTAMP DEBUG] Timestamps are ISO strings (correct format)
2025-09-04 14:16:14,635 - logging_config - INFO - websocket_handlers.py:761 - [TIMESTAMP CONVERSION] ISO strings -> Unix seconds:
2025-09-04 14:16:14,635 - logging_config - INFO - websocket_handlers.py:762 -   2025-08-05T12:16:14.588Z -> 1754396174 (2025-08-05 12:16:14 UTC)
2025-09-04 14:16:14,635 - logging_config - INFO - websocket_handlers.py:763 -   2025-10-04T12:16:14.588Z -> 1759580174 (2025-10-04 12:16:14 UTC)
2025-09-04 14:16:14,635 - logging_config - INFO - websocket_handlers.py:795 - [TIMESTAMP FIX] Final timestamps set:
2025-09-04 14:16:14,635 - logging_config - INFO - websocket_handlers.py:796 -   from_ts: 1754396174 (type: <class 'int'>)
2025-09-04 14:16:14,635 - logging_config - INFO - websocket_handlers.py:797 -   to_ts: 1759580174 (type: <class 'int'>)
2025-09-04 14:16:14,635 - logging_config - INFO - websocket_handlers.py:807 - Client config updated for PAXGUSDT: indicators=[], resolution=1d
2025-09-04 14:16:14,636 - logging_config - INFO - websocket_handlers.py:808 - üìä MESSAGE FIELD VALUES for PAXGUSDT:
2025-09-04 14:16:14,636 - logging_config - INFO - websocket_handlers.py:809 -   symbol: PAXGUSDT (fallback: PAXGUSDT)
2025-09-04 14:16:14,636 - logging_config - INFO - websocket_handlers.py:810 -   from_ts: 2025-08-05T12:16:14.588Z (type: <class 'str'>)
2025-09-04 14:16:14,636 - logging_config - INFO - websocket_handlers.py:811 -   to_ts: 2025-10-04T12:16:14.588Z (type: <class 'str'>)
2025-09-04 14:16:14,636 - logging_config - INFO - websocket_handlers.py:812 -   indicators: [] (type: <class 'list'>)
2025-09-04 14:16:14,636 - logging_config - INFO - websocket_handlers.py:813 -   resolution: 1d (type: <class 'str'>)
2025-09-04 14:16:14,636 - logging_config - INFO - websocket_handlers.py:819 - üìä SERVER TIME RANGE ANALYSIS for PAXGUSDT:
2025-09-04 14:16:14,637 - logging_config - INFO - websocket_handlers.py:820 -   Old range: from_ts=None, to_ts=None
2025-09-04 14:16:14,637 - logging_config - INFO - websocket_handlers.py:821 -   New range: from_ts=1754396174, to_ts=1759580174
2025-09-04 14:16:14,637 - logging_config - INFO - websocket_handlers.py:822 -   Time range changed: True
2025-09-04 14:16:14,637 - logging_config - INFO - websocket_handlers.py:823 -   Historical sent: False
2025-09-04 14:16:14,637 - logging_config - INFO - websocket_handlers.py:824 -   Has timestamps: from_ts=True, to_ts=True
2025-09-04 14:16:14,637 - logging_config - INFO - websocket_handlers.py:843 -   üìÖ SERVER RECEIVED RANGE (UTC):
2025-09-04 14:16:14,637 - logging_config - INFO - websocket_handlers.py:844 -     From: 2025-08-05 12:16:14 UTC (1754396174)
2025-09-04 14:16:14,637 - logging_config - INFO - websocket_handlers.py:845 -     To: 2025-10-04 12:16:14 UTC (1759580174)
2025-09-04 14:16:14,637 - logging_config - INFO - websocket_handlers.py:846 -     Range: 5184000 seconds (1440.0 hours)
2025-09-04 14:16:14,637 - logging_config - INFO - websocket_handlers.py:848 -   üìÖ SERVER RECEIVED RANGE (Local Time):
2025-09-04 14:16:14,638 - logging_config - INFO - websocket_handlers.py:849 -     From: 2025-08-05 14:16:14 Central Europe Summer Time
2025-09-04 14:16:14,638 - logging_config - INFO - websocket_handlers.py:850 -     To: 2025-10-04 14:16:14 Central Europe Summer Time
2025-09-04 14:16:14,638 - logging_config - INFO - websocket_handlers.py:853 -   üåç TIMEZONE ANALYSIS:
2025-09-04 14:16:14,638 - logging_config - INFO - websocket_handlers.py:854 -     Server timezone: Central Europe Summer Time (UTC+2.0)
2025-09-04 14:16:14,638 - logging_config - INFO - websocket_handlers.py:855 -     User timezone (from logs): Europe/Ljubljana (UTC+2)
2025-09-04 14:16:14,638 - logging_config - INFO - websocket_handlers.py:856 -     Timezone difference: 0.0 hours
2025-09-04 14:16:14,638 - logging_config - INFO - websocket_handlers.py:859 -   üì§ DATA TO BE SENT TO CLIENT:
2025-09-04 14:16:14,638 - logging_config - INFO - websocket_handlers.py:860 -     Timestamps will be sent as seconds (not milliseconds)
2025-09-04 14:16:14,638 - logging_config - INFO - websocket_handlers.py:861 -     Client will receive: from_ts=1754396174, to_ts=1759580174
2025-09-04 14:16:14,638 - logging_config - INFO - websocket_handlers.py:862 -     Client local time equivalent: 2025-08-05 14:16:14 to 2025-10-04 14:16:14
2025-09-04 14:16:14,638 - logging_config - INFO - websocket_handlers.py:867 -   üìä USER'S CHART VIEW STATE:
2025-09-04 14:16:14,639 - logging_config - INFO - websocket_handlers.py:868 -     X-Axis Min: 30/08/2025, 10:31:39
2025-09-04 14:16:14,639 - logging_config - INFO - websocket_handlers.py:869 -     X-Axis Max: 04/09/2025, 01:58:37
2025-09-04 14:16:14,639 - logging_config - INFO - websocket_handlers.py:870 -     Expected local time range: 2025-08-30 10:31 to 2025-09-04 01:58
2025-09-04 14:16:14,639 - logging_config - INFO - websocket_handlers.py:871 -     Server received UTC equivalent: 2025-08-05 12:16 to 2025-10-04 12:16
2025-09-04 14:16:14,639 - logging_config - INFO - websocket_handlers.py:881 - Should send historical data: 1759580174
2025-09-04 14:16:14,639 - logging_config - INFO - websocket_handlers.py:884 - Sending historical data for PAXGUSDT - time range changed: True, historical_sent: False
2025-09-04 14:16:14,639 - logging_config - INFO - websocket_handlers.py:309 - Sending historical data for PAXGUSDT with indicators: []
2025-09-04 14:16:14,639 - logging_config - INFO - websocket_handlers.py:310 - Time range: from_ts=1754396174, to_ts=1759580174, resolution=1d
2025-09-04 14:16:14,639 - logging_config - INFO - websocket_handlers.py:320 - WebSocket session email found: klemenzivkovic@gmail.com
2025-09-04 14:16:14,639 - logging_config - INFO - websocket_handlers.py:325 - Looking for drawings: symbol=PAXGUSDT, resolution=1d, email=klemenzivkovic@gmail.com
2025-09-04 14:16:14,639 - logging_config - INFO - websocket_handlers.py:330 - Redis key for drawings: drawings:klemenzivkovic@gmail.com:PAXGUSDT
2025-09-04 14:16:14,640 - logging_config - INFO - drawing_manager.py:60 - get_drawings for PAXGUSDT with resolution '1d': found 4 total, returning 4 filtered.
2025-09-04 14:16:14,640 - logging_config - INFO - websocket_handlers.py:339 - Sending 4 existing drawings for PAXGUSDT
2025-09-04 14:16:14,640 - logging_config - INFO - websocket_handlers.py:345 - Sending drawing (4) message: {'type': 'drawings', 'symbol': 'PAXGUSDT', 'data': [{'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1749504979, 'end_time': 1757034460, 'start_price': 3498.39837005988, 'end_price': 3360.406707317073, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': {'buyOnCross': False, 'sellOnCross': False, 'sendEmailOnCross': True}, 'id': '23a034a5-9e91-488c-a076-b1dc9fa49f8f'}, {'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1750519797, 'end_time': 1756969828, 'start_price': 3263.9115544910173, 'end_price': 3290.8273239708183, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': {'buyOnCross': False, 'sellOnCross': False, 'sendEmailOnCross': True}, 'id': 'baf77e17-16dc-4817-b3ea-430467fa3a06'}, {'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1742353742, 'end_time': 1759291109, 'start_price': 3597.298721036928, 'end_price': 3334.7182204260644, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': None, 'id': '30d5ab26-ece7-434c-b489-9aeeccb27e56'}, {'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1739775769, 'end_time': 1755240008, 'start_price': 3168.595862896743, 'end_price': 3270.412791705037, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': None, 'id': '56ea858d-8f15-4f9d-a3ef-249b5e232b7a'}]}
2025-09-04 14:16:14,641 - logging_config - INFO - websocket_handlers.py:347 - Successfully sent drawings message to client
2025-09-04 14:16:14,641 - logging_config - INFO - redis_utils.py:103 - Querying sorted set 'zset:kline:PAXGUSDT:1d' for range [1754396174, 1759580174]
2025-09-04 14:16:14,641 - logging_config - INFO - redis_utils.py:106 - [TIMESTAMP DEBUG] redis_utils.py - get_cached_klines query:
2025-09-04 14:16:14,641 - logging_config - INFO - redis_utils.py:107 -   start_ts: 1754396174 (type: <class 'int'>)
2025-09-04 14:16:14,641 - logging_config - INFO - redis_utils.py:108 -   end_ts: 1759580174 (type: <class 'int'>)
2025-09-04 14:16:14,641 - logging_config - INFO - redis_utils.py:115 - [TIMESTAMP DEBUG] start_ts 1754396174 appears to be in SECONDS (correct for Redis)
2025-09-04 14:16:14,641 - logging_config - INFO - redis_utils.py:120 - [TIMESTAMP DEBUG] Checking Redis data sample for comparison...
2025-09-04 14:16:14,642 - logging_config - INFO - redis_utils.py:159 - Found 30 cached klines for PAXGUSDT 1d between 1754396174 and 1759580174
2025-09-04 14:16:14,642 - logging_config - INFO - redis_utils.py:163 - üîç DATA GAP ANALYSIS for PAXGUSDT 1d:
2025-09-04 14:16:14,642 - logging_config - INFO - redis_utils.py:164 -   Expected data points based on time range: ~60
2025-09-04 14:16:14,642 - logging_config - INFO - redis_utils.py:165 -   Actual data points retrieved: 30
2025-09-04 14:16:14,642 - logging_config - INFO - redis_utils.py:194 - ‚úÖ No data gaps detected - data appears continuous
2025-09-04 14:16:14,642 - logging_config - INFO - websocket_handlers.py:362 - ‚úÖ REDIS SUCCESS: Retrieved 30 klines from Redis for PAXGUSDT
2025-09-04 14:16:14,643 - logging_config - INFO - websocket_handlers.py:398 - ‚úÖ CACHE HIT: Found 30 klines in Redis cache for PAXGUSDT
2025-09-04 14:16:14,643 - logging_config - INFO - websocket_handlers.py:402 - Calculating indicators for PAXGUSDT: 0 indicators, 30 klines
2025-09-04 14:16:35,314 - logging_config - INFO - background_tasks.py:75 - üìä STARTING OPEN INTEREST: Data fetch cycle
2025-09-04 14:16:56,457 - logging_config - INFO - AppTradingView.py:158 - Chart page request from 192.168.1.1. Current session state: authenticated=True, email=klemenzivkovic@gmail.com
2025-09-04 14:16:56,457 - logging_config - INFO - AppTradingView.py:159 - Security debug - Headers: X-Forwarded-For=192.168.1.1, X-Real-IP=192.168.1.1, User-Agent=Mozilla/5.0 (Linux; Android 6.0; Nexus 5 Build/MRA58N) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Mobile Safari/537.36
2025-09-04 14:16:56,457 - logging_config - INFO - AppTradingView.py:160 - Security debug - Session ID: None, Client IP: 192.168.1.1
2025-09-04 14:16:56,457 - logging_config - INFO - AppTradingView.py:164 - Security debug - Is local test: False (client_host == '192.168.1.52')
2025-09-04 14:16:56,457 - logging_config - INFO - AppTradingView.py:180 - Email found in session for 192.168.1.1: klemenzivkovic@gmail.com
2025-09-04 14:16:56,463 - logging_config - INFO - utility_endpoints.py:282 - Log stream generator cancelled.
2025-09-04 14:16:56,464 - logging_config - ERROR - websocket_handlers.py:709 - Failed to receive WebSocket message for PAXGUSDT: (1001, '')
Traceback (most recent call last):
  File "c:\git\ai-trading-bot-2\websocket_handlers.py", line 704, in stream_combined_data_websocket_endpoint
    message = await asyncio.wait_for(websocket.receive_json(), timeout=1.0)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python312\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
           ^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\websockets.py", line 136, in receive_json
    self._raise_on_disconnect(message)
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\websockets.py", line 114, in _raise_on_disconnect
    raise WebSocketDisconnect(message["code"], message.get("reason"))
starlette.websockets.WebSocketDisconnect: (1001, '')
2025-09-04 14:16:56,769 - logging_config - INFO - utility_endpoints.py:243 - GET /get_last_symbol request received.
2025-09-04 14:16:56,769 - logging_config - INFO - utility_endpoints.py:251 - Got last selected symbol for user klemenzivkovic@gmail.com: PAXGUSDT
2025-09-04 14:16:56,833 - logging_config - INFO - AppTradingView.py:382 - Symbol chart page request for favicon.ico from 192.168.1.1. Current session state: authenticated=True, email=klemenzivkovic@gmail.com
2025-09-04 14:16:56,833 - logging_config - INFO - AppTradingView.py:383 - Security debug - Headers: X-Forwarded-For=192.168.1.1, X-Real-IP=192.168.1.1, User-Agent=Mozilla/5.0 (Linux; Android 6.0; Nexus 5 Build/MRA58N) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Mobile Safari/537.36
2025-09-04 14:16:56,833 - logging_config - INFO - AppTradingView.py:384 - Security debug - Session ID: None, Client IP: 192.168.1.1
2025-09-04 14:16:56,833 - logging_config - INFO - AppTradingView.py:388 - Security debug - Is local test: False (client_host == '192.168.1.52')
2025-09-04 14:16:56,833 - logging_config - INFO - AppTradingView.py:404 - Email found in session for favicon.ico request from 192.168.1.1: klemenzivkovic@gmail.com
2025-09-04 14:16:56,854 - logging_config - WARNING - utility_endpoints.py:120 - X-axis timestamps are None for PAXGUSDT, skipping validation
2025-09-04 14:16:56,854 - logging_config - INFO - utility_endpoints.py:141 - GET /settings for PAXGUSDT: Retrieved from Redis: {'resolution': '1d', 'range': '3m', 'xAxisMin': None, 'xAxisMax': None, 'yAxisMin': None, 'yAxisMax': None, 'activeIndicators': [], 'liveDataEnabled': False, 'streamDeltaTime': 1, 'useLocalOllama': False, 'localOllamaModelName': '', 'showAgentTrades': False, 'symbol': 'PAXGUSDT', 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'last_selected_symbol': 'PAXGUSDT'}
2025-09-04 14:16:56,872 - logging_config - INFO - websocket_handlers.py:271 - WebSocket connection accepted for combined data: PAXGUSDT
2025-09-04 14:16:56,878 - logging_config - INFO - websocket_handlers.py:742 - üì® RAW MESSAGE RECEIVED for PAXGUSDT: {
  "type": "config",
  "symbol": "PAXGUSDT",
  "indicators": [],
  "resolution": "1d",
  "from_ts": "2025-08-05T12:16:56.859Z",
  "to_ts": "2025-10-04T12:16:56.859Z"
}
2025-09-04 14:16:56,878 - logging_config - INFO - websocket_handlers.py:747 - [TIMESTAMP DEBUG] websocket_handlers.py - Received timestamps:
2025-09-04 14:16:56,878 - logging_config - INFO - websocket_handlers.py:748 -   from_ts: 2025-08-05T12:16:56.859Z (type: <class 'str'>)
2025-09-04 14:16:56,878 - logging_config - INFO - websocket_handlers.py:749 -   to_ts: 2025-10-04T12:16:56.859Z (type: <class 'str'>)
2025-09-04 14:16:56,878 - logging_config - INFO - websocket_handlers.py:754 - [TIMESTAMP DEBUG] Timestamps are ISO strings (correct format)
2025-09-04 14:16:56,878 - logging_config - INFO - websocket_handlers.py:761 - [TIMESTAMP CONVERSION] ISO strings -> Unix seconds:
2025-09-04 14:16:56,879 - logging_config - INFO - websocket_handlers.py:762 -   2025-08-05T12:16:56.859Z -> 1754396216 (2025-08-05 12:16:56 UTC)
2025-09-04 14:16:56,879 - logging_config - INFO - websocket_handlers.py:763 -   2025-10-04T12:16:56.859Z -> 1759580216 (2025-10-04 12:16:56 UTC)
2025-09-04 14:16:56,879 - logging_config - INFO - websocket_handlers.py:795 - [TIMESTAMP FIX] Final timestamps set:
2025-09-04 14:16:56,879 - logging_config - INFO - websocket_handlers.py:796 -   from_ts: 1754396216 (type: <class 'int'>)
2025-09-04 14:16:56,879 - logging_config - INFO - websocket_handlers.py:797 -   to_ts: 1759580216 (type: <class 'int'>)
2025-09-04 14:16:56,879 - logging_config - INFO - websocket_handlers.py:807 - Client config updated for PAXGUSDT: indicators=[], resolution=1d
2025-09-04 14:16:56,879 - logging_config - INFO - websocket_handlers.py:808 - üìä MESSAGE FIELD VALUES for PAXGUSDT:
2025-09-04 14:16:56,879 - logging_config - INFO - websocket_handlers.py:809 -   symbol: PAXGUSDT (fallback: PAXGUSDT)
2025-09-04 14:16:56,879 - logging_config - INFO - websocket_handlers.py:810 -   from_ts: 2025-08-05T12:16:56.859Z (type: <class 'str'>)
2025-09-04 14:16:56,879 - logging_config - INFO - websocket_handlers.py:811 -   to_ts: 2025-10-04T12:16:56.859Z (type: <class 'str'>)
2025-09-04 14:16:56,879 - logging_config - INFO - websocket_handlers.py:812 -   indicators: [] (type: <class 'list'>)
2025-09-04 14:16:56,879 - logging_config - INFO - websocket_handlers.py:813 -   resolution: 1d (type: <class 'str'>)
2025-09-04 14:16:56,879 - logging_config - INFO - websocket_handlers.py:819 - üìä SERVER TIME RANGE ANALYSIS for PAXGUSDT:
2025-09-04 14:16:56,879 - logging_config - INFO - websocket_handlers.py:820 -   Old range: from_ts=None, to_ts=None
2025-09-04 14:16:56,880 - logging_config - INFO - websocket_handlers.py:821 -   New range: from_ts=1754396216, to_ts=1759580216
2025-09-04 14:16:56,880 - logging_config - INFO - websocket_handlers.py:822 -   Time range changed: True
2025-09-04 14:16:56,880 - logging_config - INFO - websocket_handlers.py:823 -   Historical sent: False
2025-09-04 14:16:56,880 - logging_config - INFO - websocket_handlers.py:824 -   Has timestamps: from_ts=True, to_ts=True
2025-09-04 14:16:56,880 - logging_config - INFO - websocket_handlers.py:843 -   üìÖ SERVER RECEIVED RANGE (UTC):
2025-09-04 14:16:56,880 - logging_config - INFO - websocket_handlers.py:844 -     From: 2025-08-05 12:16:56 UTC (1754396216)
2025-09-04 14:16:56,880 - logging_config - INFO - websocket_handlers.py:845 -     To: 2025-10-04 12:16:56 UTC (1759580216)
2025-09-04 14:16:56,880 - logging_config - INFO - websocket_handlers.py:846 -     Range: 5184000 seconds (1440.0 hours)
2025-09-04 14:16:56,880 - logging_config - INFO - websocket_handlers.py:848 -   üìÖ SERVER RECEIVED RANGE (Local Time):
2025-09-04 14:16:56,880 - logging_config - INFO - websocket_handlers.py:849 -     From: 2025-08-05 14:16:56 Central Europe Summer Time
2025-09-04 14:16:56,880 - logging_config - INFO - websocket_handlers.py:850 -     To: 2025-10-04 14:16:56 Central Europe Summer Time
2025-09-04 14:16:56,880 - logging_config - INFO - websocket_handlers.py:853 -   üåç TIMEZONE ANALYSIS:
2025-09-04 14:16:56,880 - logging_config - INFO - websocket_handlers.py:854 -     Server timezone: Central Europe Summer Time (UTC+2.0)
2025-09-04 14:16:56,881 - logging_config - INFO - websocket_handlers.py:855 -     User timezone (from logs): Europe/Ljubljana (UTC+2)
2025-09-04 14:16:56,881 - logging_config - INFO - websocket_handlers.py:856 -     Timezone difference: 0.0 hours
2025-09-04 14:16:56,881 - logging_config - INFO - websocket_handlers.py:859 -   üì§ DATA TO BE SENT TO CLIENT:
2025-09-04 14:16:56,881 - logging_config - INFO - websocket_handlers.py:860 -     Timestamps will be sent as seconds (not milliseconds)
2025-09-04 14:16:56,881 - logging_config - INFO - websocket_handlers.py:861 -     Client will receive: from_ts=1754396216, to_ts=1759580216
2025-09-04 14:16:56,881 - logging_config - INFO - websocket_handlers.py:862 -     Client local time equivalent: 2025-08-05 14:16:56 to 2025-10-04 14:16:56
2025-09-04 14:16:56,881 - logging_config - INFO - websocket_handlers.py:867 -   üìä USER'S CHART VIEW STATE:
2025-09-04 14:16:56,881 - logging_config - INFO - websocket_handlers.py:868 -     X-Axis Min: 30/08/2025, 10:31:39
2025-09-04 14:16:56,881 - logging_config - INFO - websocket_handlers.py:869 -     X-Axis Max: 04/09/2025, 01:58:37
2025-09-04 14:16:56,881 - logging_config - INFO - websocket_handlers.py:870 -     Expected local time range: 2025-08-30 10:31 to 2025-09-04 01:58
2025-09-04 14:16:56,881 - logging_config - INFO - websocket_handlers.py:871 -     Server received UTC equivalent: 2025-08-05 12:16 to 2025-10-04 12:16
2025-09-04 14:16:56,881 - logging_config - INFO - websocket_handlers.py:881 - Should send historical data: 1759580216
2025-09-04 14:16:56,881 - logging_config - INFO - websocket_handlers.py:884 - Sending historical data for PAXGUSDT - time range changed: True, historical_sent: False
2025-09-04 14:16:56,881 - logging_config - INFO - websocket_handlers.py:309 - Sending historical data for PAXGUSDT with indicators: []
2025-09-04 14:16:56,881 - logging_config - INFO - websocket_handlers.py:310 - Time range: from_ts=1754396216, to_ts=1759580216, resolution=1d
2025-09-04 14:16:56,882 - logging_config - INFO - websocket_handlers.py:320 - WebSocket session email found: klemenzivkovic@gmail.com
2025-09-04 14:16:56,882 - logging_config - INFO - websocket_handlers.py:325 - Looking for drawings: symbol=PAXGUSDT, resolution=1d, email=klemenzivkovic@gmail.com
2025-09-04 14:16:56,882 - logging_config - INFO - websocket_handlers.py:330 - Redis key for drawings: drawings:klemenzivkovic@gmail.com:PAXGUSDT
2025-09-04 14:16:56,882 - logging_config - INFO - drawing_manager.py:60 - get_drawings for PAXGUSDT with resolution '1d': found 4 total, returning 4 filtered.
2025-09-04 14:16:56,882 - logging_config - INFO - websocket_handlers.py:339 - Sending 4 existing drawings for PAXGUSDT
2025-09-04 14:16:56,882 - logging_config - INFO - websocket_handlers.py:345 - Sending drawing (4) message: {'type': 'drawings', 'symbol': 'PAXGUSDT', 'data': [{'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1749504979, 'end_time': 1757034460, 'start_price': 3498.39837005988, 'end_price': 3360.406707317073, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': {'buyOnCross': False, 'sellOnCross': False, 'sendEmailOnCross': True}, 'id': '23a034a5-9e91-488c-a076-b1dc9fa49f8f'}, {'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1750519797, 'end_time': 1756969828, 'start_price': 3263.9115544910173, 'end_price': 3290.8273239708183, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': {'buyOnCross': False, 'sellOnCross': False, 'sendEmailOnCross': True}, 'id': 'baf77e17-16dc-4817-b3ea-430467fa3a06'}, {'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1742353742, 'end_time': 1759291109, 'start_price': 3597.298721036928, 'end_price': 3334.7182204260644, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': None, 'id': '30d5ab26-ece7-434c-b489-9aeeccb27e56'}, {'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1739775769, 'end_time': 1755240008, 'start_price': 3168.595862896743, 'end_price': 3270.412791705037, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': None, 'id': '56ea858d-8f15-4f9d-a3ef-249b5e232b7a'}]}
2025-09-04 14:16:56,883 - logging_config - INFO - websocket_handlers.py:347 - Successfully sent drawings message to client
2025-09-04 14:16:56,883 - logging_config - INFO - redis_utils.py:103 - Querying sorted set 'zset:kline:PAXGUSDT:1d' for range [1754396216, 1759580216]
2025-09-04 14:16:56,883 - logging_config - INFO - redis_utils.py:106 - [TIMESTAMP DEBUG] redis_utils.py - get_cached_klines query:
2025-09-04 14:16:56,883 - logging_config - INFO - redis_utils.py:107 -   start_ts: 1754396216 (type: <class 'int'>)
2025-09-04 14:16:56,883 - logging_config - INFO - redis_utils.py:108 -   end_ts: 1759580216 (type: <class 'int'>)
2025-09-04 14:16:56,883 - logging_config - INFO - redis_utils.py:115 - [TIMESTAMP DEBUG] start_ts 1754396216 appears to be in SECONDS (correct for Redis)
2025-09-04 14:16:56,884 - logging_config - INFO - redis_utils.py:120 - [TIMESTAMP DEBUG] Checking Redis data sample for comparison...
2025-09-04 14:16:56,884 - logging_config - INFO - redis_utils.py:159 - Found 30 cached klines for PAXGUSDT 1d between 1754396216 and 1759580216
2025-09-04 14:16:56,885 - logging_config - INFO - redis_utils.py:163 - üîç DATA GAP ANALYSIS for PAXGUSDT 1d:
2025-09-04 14:16:56,885 - logging_config - INFO - redis_utils.py:164 -   Expected data points based on time range: ~60
2025-09-04 14:16:56,885 - logging_config - INFO - redis_utils.py:165 -   Actual data points retrieved: 30
2025-09-04 14:16:56,885 - logging_config - INFO - redis_utils.py:194 - ‚úÖ No data gaps detected - data appears continuous
2025-09-04 14:16:56,885 - logging_config - INFO - websocket_handlers.py:362 - ‚úÖ REDIS SUCCESS: Retrieved 30 klines from Redis for PAXGUSDT
2025-09-04 14:16:56,885 - logging_config - INFO - websocket_handlers.py:398 - ‚úÖ CACHE HIT: Found 30 klines in Redis cache for PAXGUSDT
2025-09-04 14:16:56,885 - logging_config - INFO - websocket_handlers.py:402 - Calculating indicators for PAXGUSDT: 0 indicators, 30 klines
2025-09-04 14:17:46,886 - logging_config - INFO - background_tasks.py:75 - üìä STARTING OPEN INTEREST: Data fetch cycle
2025-09-04 14:17:49,361 - logging_config - INFO - AppTradingView.py:158 - Chart page request from 192.168.1.1. Current session state: authenticated=True, email=klemenzivkovic@gmail.com
2025-09-04 14:17:49,361 - logging_config - INFO - AppTradingView.py:159 - Security debug - Headers: X-Forwarded-For=192.168.1.1, X-Real-IP=192.168.1.1, User-Agent=Mozilla/5.0 (Linux; Android 6.0; Nexus 5 Build/MRA58N) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Mobile Safari/537.36
2025-09-04 14:17:49,361 - logging_config - INFO - AppTradingView.py:160 - Security debug - Session ID: None, Client IP: 192.168.1.1
2025-09-04 14:17:49,361 - logging_config - INFO - AppTradingView.py:164 - Security debug - Is local test: False (client_host == '192.168.1.52')
2025-09-04 14:17:49,361 - logging_config - INFO - AppTradingView.py:180 - Email found in session for 192.168.1.1: klemenzivkovic@gmail.com
2025-09-04 14:17:49,869 - logging_config - ERROR - websocket_handlers.py:709 - Failed to receive WebSocket message for PAXGUSDT: (1001, '')
Traceback (most recent call last):
  File "c:\git\ai-trading-bot-2\websocket_handlers.py", line 704, in stream_combined_data_websocket_endpoint
    message = await asyncio.wait_for(websocket.receive_json(), timeout=1.0)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python312\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
           ^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\websockets.py", line 136, in receive_json
    self._raise_on_disconnect(message)
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\websockets.py", line 114, in _raise_on_disconnect
    raise WebSocketDisconnect(message["code"], message.get("reason"))
starlette.websockets.WebSocketDisconnect: (1001, '')
2025-09-04 14:17:49,872 - logging_config - INFO - utility_endpoints.py:282 - Log stream generator cancelled.
2025-09-04 14:17:51,628 - logging_config - INFO - utility_endpoints.py:243 - GET /get_last_symbol request received.
2025-09-04 14:17:51,629 - logging_config - INFO - AppTradingView.py:382 - Symbol chart page request for favicon.ico from 192.168.1.1. Current session state: authenticated=True, email=klemenzivkovic@gmail.com
2025-09-04 14:17:51,629 - logging_config - INFO - AppTradingView.py:383 - Security debug - Headers: X-Forwarded-For=192.168.1.1, X-Real-IP=192.168.1.1, User-Agent=Mozilla/5.0 (Linux; Android 6.0; Nexus 5 Build/MRA58N) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Mobile Safari/537.36
2025-09-04 14:17:51,629 - logging_config - INFO - AppTradingView.py:384 - Security debug - Session ID: None, Client IP: 192.168.1.1
2025-09-04 14:17:51,629 - logging_config - INFO - AppTradingView.py:388 - Security debug - Is local test: False (client_host == '192.168.1.52')
2025-09-04 14:17:51,629 - logging_config - INFO - AppTradingView.py:404 - Email found in session for favicon.ico request from 192.168.1.1: klemenzivkovic@gmail.com
2025-09-04 14:17:52,188 - logging_config - INFO - utility_endpoints.py:251 - Got last selected symbol for user klemenzivkovic@gmail.com: PAXGUSDT
2025-09-04 14:17:53,054 - logging_config - WARNING - utility_endpoints.py:120 - X-axis timestamps are None for PAXGUSDT, skipping validation
2025-09-04 14:17:53,055 - logging_config - INFO - utility_endpoints.py:141 - GET /settings for PAXGUSDT: Retrieved from Redis: {'resolution': '1d', 'range': '3m', 'xAxisMin': None, 'xAxisMax': None, 'yAxisMin': None, 'yAxisMax': None, 'activeIndicators': [], 'liveDataEnabled': False, 'streamDeltaTime': 1, 'useLocalOllama': False, 'localOllamaModelName': '', 'showAgentTrades': False, 'symbol': 'PAXGUSDT', 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'last_selected_symbol': 'PAXGUSDT'}
2025-09-04 14:17:53,421 - logging_config - INFO - websocket_handlers.py:271 - WebSocket connection accepted for combined data: PAXGUSDT
2025-09-04 14:17:53,606 - logging_config - INFO - websocket_handlers.py:742 - üì® RAW MESSAGE RECEIVED for PAXGUSDT: {
  "type": "config",
  "symbol": "PAXGUSDT",
  "indicators": [],
  "resolution": "1d",
  "from_ts": "2025-08-05T12:17:53.241Z",
  "to_ts": "2025-10-04T12:17:53.241Z"
}
2025-09-04 14:17:53,606 - logging_config - INFO - websocket_handlers.py:747 - [TIMESTAMP DEBUG] websocket_handlers.py - Received timestamps:
2025-09-04 14:17:53,606 - logging_config - INFO - websocket_handlers.py:748 -   from_ts: 2025-08-05T12:17:53.241Z (type: <class 'str'>)
2025-09-04 14:17:53,606 - logging_config - INFO - websocket_handlers.py:749 -   to_ts: 2025-10-04T12:17:53.241Z (type: <class 'str'>)
2025-09-04 14:17:53,606 - logging_config - INFO - websocket_handlers.py:754 - [TIMESTAMP DEBUG] Timestamps are ISO strings (correct format)
2025-09-04 14:17:53,607 - logging_config - INFO - websocket_handlers.py:761 - [TIMESTAMP CONVERSION] ISO strings -> Unix seconds:
2025-09-04 14:17:53,607 - logging_config - INFO - websocket_handlers.py:762 -   2025-08-05T12:17:53.241Z -> 1754396273 (2025-08-05 12:17:53 UTC)
2025-09-04 14:17:53,607 - logging_config - INFO - websocket_handlers.py:763 -   2025-10-04T12:17:53.241Z -> 1759580273 (2025-10-04 12:17:53 UTC)
2025-09-04 14:17:53,607 - logging_config - INFO - websocket_handlers.py:795 - [TIMESTAMP FIX] Final timestamps set:
2025-09-04 14:17:53,607 - logging_config - INFO - websocket_handlers.py:796 -   from_ts: 1754396273 (type: <class 'int'>)
2025-09-04 14:17:53,607 - logging_config - INFO - websocket_handlers.py:797 -   to_ts: 1759580273 (type: <class 'int'>)
2025-09-04 14:17:53,607 - logging_config - INFO - websocket_handlers.py:807 - Client config updated for PAXGUSDT: indicators=[], resolution=1d
2025-09-04 14:17:53,607 - logging_config - INFO - websocket_handlers.py:808 - üìä MESSAGE FIELD VALUES for PAXGUSDT:
2025-09-04 14:17:53,608 - logging_config - INFO - websocket_handlers.py:809 -   symbol: PAXGUSDT (fallback: PAXGUSDT)
2025-09-04 14:17:53,608 - logging_config - INFO - websocket_handlers.py:810 -   from_ts: 2025-08-05T12:17:53.241Z (type: <class 'str'>)
2025-09-04 14:17:53,608 - logging_config - INFO - websocket_handlers.py:811 -   to_ts: 2025-10-04T12:17:53.241Z (type: <class 'str'>)
2025-09-04 14:17:53,608 - logging_config - INFO - websocket_handlers.py:812 -   indicators: [] (type: <class 'list'>)
2025-09-04 14:17:53,608 - logging_config - INFO - websocket_handlers.py:813 -   resolution: 1d (type: <class 'str'>)
2025-09-04 14:17:53,608 - logging_config - INFO - websocket_handlers.py:819 - üìä SERVER TIME RANGE ANALYSIS for PAXGUSDT:
2025-09-04 14:17:53,608 - logging_config - INFO - websocket_handlers.py:820 -   Old range: from_ts=None, to_ts=None
2025-09-04 14:17:53,608 - logging_config - INFO - websocket_handlers.py:821 -   New range: from_ts=1754396273, to_ts=1759580273
2025-09-04 14:17:53,608 - logging_config - INFO - websocket_handlers.py:822 -   Time range changed: True
2025-09-04 14:17:53,608 - logging_config - INFO - websocket_handlers.py:823 -   Historical sent: False
2025-09-04 14:17:53,609 - logging_config - INFO - websocket_handlers.py:824 -   Has timestamps: from_ts=True, to_ts=True
2025-09-04 14:17:53,609 - logging_config - INFO - websocket_handlers.py:843 -   üìÖ SERVER RECEIVED RANGE (UTC):
2025-09-04 14:17:53,609 - logging_config - INFO - websocket_handlers.py:844 -     From: 2025-08-05 12:17:53 UTC (1754396273)
2025-09-04 14:17:53,609 - logging_config - INFO - websocket_handlers.py:845 -     To: 2025-10-04 12:17:53 UTC (1759580273)
2025-09-04 14:17:53,609 - logging_config - INFO - websocket_handlers.py:846 -     Range: 5184000 seconds (1440.0 hours)
2025-09-04 14:17:53,609 - logging_config - INFO - websocket_handlers.py:848 -   üìÖ SERVER RECEIVED RANGE (Local Time):
2025-09-04 14:17:53,609 - logging_config - INFO - websocket_handlers.py:849 -     From: 2025-08-05 14:17:53 Central Europe Summer Time
2025-09-04 14:17:53,609 - logging_config - INFO - websocket_handlers.py:850 -     To: 2025-10-04 14:17:53 Central Europe Summer Time
2025-09-04 14:17:53,609 - logging_config - INFO - websocket_handlers.py:853 -   üåç TIMEZONE ANALYSIS:
2025-09-04 14:17:53,609 - logging_config - INFO - websocket_handlers.py:854 -     Server timezone: Central Europe Summer Time (UTC+2.0)
2025-09-04 14:17:53,609 - logging_config - INFO - websocket_handlers.py:855 -     User timezone (from logs): Europe/Ljubljana (UTC+2)
2025-09-04 14:17:53,609 - logging_config - INFO - websocket_handlers.py:856 -     Timezone difference: 0.0 hours
2025-09-04 14:17:53,610 - logging_config - INFO - websocket_handlers.py:859 -   üì§ DATA TO BE SENT TO CLIENT:
2025-09-04 14:17:53,610 - logging_config - INFO - websocket_handlers.py:860 -     Timestamps will be sent as seconds (not milliseconds)
2025-09-04 14:17:53,610 - logging_config - INFO - websocket_handlers.py:861 -     Client will receive: from_ts=1754396273, to_ts=1759580273
2025-09-04 14:17:53,610 - logging_config - INFO - websocket_handlers.py:862 -     Client local time equivalent: 2025-08-05 14:17:53 to 2025-10-04 14:17:53
2025-09-04 14:17:53,610 - logging_config - INFO - websocket_handlers.py:867 -   üìä USER'S CHART VIEW STATE:
2025-09-04 14:17:53,610 - logging_config - INFO - websocket_handlers.py:868 -     X-Axis Min: 30/08/2025, 10:31:39
2025-09-04 14:17:53,610 - logging_config - INFO - websocket_handlers.py:869 -     X-Axis Max: 04/09/2025, 01:58:37
2025-09-04 14:17:53,610 - logging_config - INFO - websocket_handlers.py:870 -     Expected local time range: 2025-08-30 10:31 to 2025-09-04 01:58
2025-09-04 14:17:53,610 - logging_config - INFO - websocket_handlers.py:871 -     Server received UTC equivalent: 2025-08-05 12:17 to 2025-10-04 12:17
2025-09-04 14:17:53,610 - logging_config - INFO - websocket_handlers.py:881 - Should send historical data: 1759580273
2025-09-04 14:17:53,610 - logging_config - INFO - websocket_handlers.py:884 - Sending historical data for PAXGUSDT - time range changed: True, historical_sent: False
2025-09-04 14:17:53,610 - logging_config - INFO - websocket_handlers.py:309 - Sending historical data for PAXGUSDT with indicators: []
2025-09-04 14:17:53,610 - logging_config - INFO - websocket_handlers.py:310 - Time range: from_ts=1754396273, to_ts=1759580273, resolution=1d
2025-09-04 14:17:53,610 - logging_config - INFO - websocket_handlers.py:320 - WebSocket session email found: klemenzivkovic@gmail.com
2025-09-04 14:17:53,610 - logging_config - INFO - websocket_handlers.py:325 - Looking for drawings: symbol=PAXGUSDT, resolution=1d, email=klemenzivkovic@gmail.com
2025-09-04 14:17:53,610 - logging_config - INFO - websocket_handlers.py:330 - Redis key for drawings: drawings:klemenzivkovic@gmail.com:PAXGUSDT
2025-09-04 14:17:53,611 - logging_config - INFO - drawing_manager.py:60 - get_drawings for PAXGUSDT with resolution '1d': found 4 total, returning 4 filtered.
2025-09-04 14:17:53,612 - logging_config - INFO - websocket_handlers.py:339 - Sending 4 existing drawings for PAXGUSDT
2025-09-04 14:17:53,612 - logging_config - INFO - websocket_handlers.py:345 - Sending drawing (4) message: {'type': 'drawings', 'symbol': 'PAXGUSDT', 'data': [{'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1749504979, 'end_time': 1757034460, 'start_price': 3498.39837005988, 'end_price': 3360.406707317073, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': {'buyOnCross': False, 'sellOnCross': False, 'sendEmailOnCross': True}, 'id': '23a034a5-9e91-488c-a076-b1dc9fa49f8f'}, {'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1750519797, 'end_time': 1756969828, 'start_price': 3263.9115544910173, 'end_price': 3290.8273239708183, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': {'buyOnCross': False, 'sellOnCross': False, 'sendEmailOnCross': True}, 'id': 'baf77e17-16dc-4817-b3ea-430467fa3a06'}, {'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1742353742, 'end_time': 1759291109, 'start_price': 3597.298721036928, 'end_price': 3334.7182204260644, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': None, 'id': '30d5ab26-ece7-434c-b489-9aeeccb27e56'}, {'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1739775769, 'end_time': 1755240008, 'start_price': 3168.595862896743, 'end_price': 3270.412791705037, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': None, 'id': '56ea858d-8f15-4f9d-a3ef-249b5e232b7a'}]}
2025-09-04 14:17:53,612 - logging_config - INFO - websocket_handlers.py:347 - Successfully sent drawings message to client
2025-09-04 14:17:53,612 - logging_config - INFO - redis_utils.py:103 - Querying sorted set 'zset:kline:PAXGUSDT:1d' for range [1754396273, 1759580273]
2025-09-04 14:17:53,612 - logging_config - INFO - redis_utils.py:106 - [TIMESTAMP DEBUG] redis_utils.py - get_cached_klines query:
2025-09-04 14:17:53,612 - logging_config - INFO - redis_utils.py:107 -   start_ts: 1754396273 (type: <class 'int'>)
2025-09-04 14:17:53,612 - logging_config - INFO - redis_utils.py:108 -   end_ts: 1759580273 (type: <class 'int'>)
2025-09-04 14:17:53,612 - logging_config - INFO - redis_utils.py:115 - [TIMESTAMP DEBUG] start_ts 1754396273 appears to be in SECONDS (correct for Redis)
2025-09-04 14:17:53,613 - logging_config - INFO - redis_utils.py:120 - [TIMESTAMP DEBUG] Checking Redis data sample for comparison...
2025-09-04 14:17:53,613 - logging_config - INFO - redis_utils.py:159 - Found 30 cached klines for PAXGUSDT 1d between 1754396273 and 1759580273
2025-09-04 14:17:53,614 - logging_config - INFO - redis_utils.py:163 - üîç DATA GAP ANALYSIS for PAXGUSDT 1d:
2025-09-04 14:17:53,614 - logging_config - INFO - redis_utils.py:164 -   Expected data points based on time range: ~60
2025-09-04 14:17:53,614 - logging_config - INFO - redis_utils.py:165 -   Actual data points retrieved: 30
2025-09-04 14:17:53,614 - logging_config - INFO - redis_utils.py:194 - ‚úÖ No data gaps detected - data appears continuous
2025-09-04 14:17:53,614 - logging_config - INFO - websocket_handlers.py:362 - ‚úÖ REDIS SUCCESS: Retrieved 30 klines from Redis for PAXGUSDT
2025-09-04 14:17:53,614 - logging_config - INFO - websocket_handlers.py:398 - ‚úÖ CACHE HIT: Found 30 klines in Redis cache for PAXGUSDT
2025-09-04 14:17:53,614 - logging_config - INFO - websocket_handlers.py:402 - Calculating indicators for PAXGUSDT: 0 indicators, 30 klines
2025-09-04 14:18:01,751 - logging_config - INFO - websocket_handlers.py:742 - üì® RAW MESSAGE RECEIVED for PAXGUSDT: {
  "type": "config",
  "symbol": "PAXGUSDT",
  "indicators": [
    "macd"
  ],
  "resolution": "1d",
  "from_ts": "2025-08-05T12:17:53.241Z",
  "to_ts": "2025-10-04T12:17:53.241Z"
}
2025-09-04 14:18:01,751 - logging_config - INFO - websocket_handlers.py:747 - [TIMESTAMP DEBUG] websocket_handlers.py - Received timestamps:
2025-09-04 14:18:01,751 - logging_config - INFO - websocket_handlers.py:748 -   from_ts: 2025-08-05T12:17:53.241Z (type: <class 'str'>)
2025-09-04 14:18:01,752 - logging_config - INFO - websocket_handlers.py:749 -   to_ts: 2025-10-04T12:17:53.241Z (type: <class 'str'>)
2025-09-04 14:18:01,752 - logging_config - INFO - websocket_handlers.py:754 - [TIMESTAMP DEBUG] Timestamps are ISO strings (correct format)
2025-09-04 14:18:01,752 - logging_config - INFO - websocket_handlers.py:761 - [TIMESTAMP CONVERSION] ISO strings -> Unix seconds:
2025-09-04 14:18:01,752 - logging_config - INFO - websocket_handlers.py:762 -   2025-08-05T12:17:53.241Z -> 1754396273 (2025-08-05 12:17:53 UTC)
2025-09-04 14:18:01,752 - logging_config - INFO - websocket_handlers.py:763 -   2025-10-04T12:17:53.241Z -> 1759580273 (2025-10-04 12:17:53 UTC)
2025-09-04 14:18:01,752 - logging_config - INFO - websocket_handlers.py:795 - [TIMESTAMP FIX] Final timestamps set:
2025-09-04 14:18:01,752 - logging_config - INFO - websocket_handlers.py:796 -   from_ts: 1754396273 (type: <class 'int'>)
2025-09-04 14:18:01,752 - logging_config - INFO - websocket_handlers.py:797 -   to_ts: 1759580273 (type: <class 'int'>)
2025-09-04 14:18:01,753 - logging_config - INFO - websocket_handlers.py:807 - Client config updated for PAXGUSDT: indicators=['macd'], resolution=1d
2025-09-04 14:18:01,753 - logging_config - INFO - websocket_handlers.py:808 - üìä MESSAGE FIELD VALUES for PAXGUSDT:
2025-09-04 14:18:01,753 - logging_config - INFO - websocket_handlers.py:809 -   symbol: PAXGUSDT (fallback: PAXGUSDT)
2025-09-04 14:18:01,753 - logging_config - INFO - websocket_handlers.py:810 -   from_ts: 2025-08-05T12:17:53.241Z (type: <class 'str'>)
2025-09-04 14:18:01,753 - logging_config - INFO - websocket_handlers.py:811 -   to_ts: 2025-10-04T12:17:53.241Z (type: <class 'str'>)
2025-09-04 14:18:01,753 - logging_config - INFO - websocket_handlers.py:812 -   indicators: ['macd'] (type: <class 'list'>)
2025-09-04 14:18:01,753 - logging_config - INFO - websocket_handlers.py:813 -   resolution: 1d (type: <class 'str'>)
2025-09-04 14:18:01,753 - logging_config - INFO - websocket_handlers.py:819 - üìä SERVER TIME RANGE ANALYSIS for PAXGUSDT:
2025-09-04 14:18:01,754 - logging_config - INFO - websocket_handlers.py:820 -   Old range: from_ts=1754396273, to_ts=1759580273
2025-09-04 14:18:01,754 - logging_config - INFO - websocket_handlers.py:821 -   New range: from_ts=1754396273, to_ts=1759580273
2025-09-04 14:18:01,754 - logging_config - INFO - websocket_handlers.py:822 -   Time range changed: False
2025-09-04 14:18:01,754 - logging_config - INFO - websocket_handlers.py:823 -   Historical sent: True
2025-09-04 14:18:01,754 - logging_config - INFO - websocket_handlers.py:824 -   Has timestamps: from_ts=True, to_ts=True
2025-09-04 14:18:01,754 - logging_config - INFO - websocket_handlers.py:843 -   üìÖ SERVER RECEIVED RANGE (UTC):
2025-09-04 14:18:01,754 - logging_config - INFO - websocket_handlers.py:844 -     From: 2025-08-05 12:17:53 UTC (1754396273)
2025-09-04 14:18:01,755 - logging_config - INFO - websocket_handlers.py:845 -     To: 2025-10-04 12:17:53 UTC (1759580273)
2025-09-04 14:18:01,755 - logging_config - INFO - websocket_handlers.py:846 -     Range: 5184000 seconds (1440.0 hours)
2025-09-04 14:18:01,755 - logging_config - INFO - websocket_handlers.py:848 -   üìÖ SERVER RECEIVED RANGE (Local Time):
2025-09-04 14:18:01,755 - logging_config - INFO - websocket_handlers.py:849 -     From: 2025-08-05 14:17:53 Central Europe Summer Time
2025-09-04 14:18:01,755 - logging_config - INFO - websocket_handlers.py:850 -     To: 2025-10-04 14:17:53 Central Europe Summer Time
2025-09-04 14:18:01,755 - logging_config - INFO - websocket_handlers.py:853 -   üåç TIMEZONE ANALYSIS:
2025-09-04 14:18:01,755 - logging_config - INFO - websocket_handlers.py:854 -     Server timezone: Central Europe Summer Time (UTC+2.0)
2025-09-04 14:18:01,755 - logging_config - INFO - websocket_handlers.py:855 -     User timezone (from logs): Europe/Ljubljana (UTC+2)
2025-09-04 14:18:01,755 - logging_config - INFO - websocket_handlers.py:856 -     Timezone difference: 0.0 hours
2025-09-04 14:18:01,755 - logging_config - INFO - websocket_handlers.py:859 -   üì§ DATA TO BE SENT TO CLIENT:
2025-09-04 14:18:01,755 - logging_config - INFO - websocket_handlers.py:860 -     Timestamps will be sent as seconds (not milliseconds)
2025-09-04 14:18:01,757 - logging_config - INFO - websocket_handlers.py:861 -     Client will receive: from_ts=1754396273, to_ts=1759580273
2025-09-04 14:18:01,757 - logging_config - INFO - websocket_handlers.py:862 -     Client local time equivalent: 2025-08-05 14:17:53 to 2025-10-04 14:17:53
2025-09-04 14:18:01,757 - logging_config - INFO - websocket_handlers.py:867 -   üìä USER'S CHART VIEW STATE:
2025-09-04 14:18:01,757 - logging_config - INFO - websocket_handlers.py:868 -     X-Axis Min: 30/08/2025, 10:31:39
2025-09-04 14:18:01,757 - logging_config - INFO - websocket_handlers.py:869 -     X-Axis Max: 04/09/2025, 01:58:37
2025-09-04 14:18:01,758 - logging_config - INFO - websocket_handlers.py:870 -     Expected local time range: 2025-08-30 10:31 to 2025-09-04 01:58
2025-09-04 14:18:01,758 - logging_config - INFO - websocket_handlers.py:871 -     Server received UTC equivalent: 2025-08-05 12:17 to 2025-10-04 12:17
2025-09-04 14:18:01,758 - logging_config - INFO - websocket_handlers.py:881 - Should send historical data: False
2025-09-04 14:18:01,758 - logging_config - INFO - websocket_handlers.py:887 - NOT sending historical data for PAXGUSDT - conditions not met
2025-09-04 14:18:01,759 - logging_config - INFO - websocket_handlers.py:505 - Starting live stream for PAXGUSDT from Redis stream: stream:kline:PAXGUSDT:1d
2025-09-04 14:18:01,760 - logging_config - INFO - redis_utils.py:103 - Querying sorted set 'zset:kline:PAXGUSDT:1d' for range [1739708281, 1756988281]
2025-09-04 14:18:01,760 - logging_config - INFO - redis_utils.py:106 - [TIMESTAMP DEBUG] redis_utils.py - get_cached_klines query:
2025-09-04 14:18:01,760 - logging_config - INFO - redis_utils.py:107 -   start_ts: 1739708281 (type: <class 'int'>)
2025-09-04 14:18:01,760 - logging_config - INFO - redis_utils.py:108 -   end_ts: 1756988281 (type: <class 'int'>)
2025-09-04 14:18:01,760 - logging_config - INFO - redis_utils.py:115 - [TIMESTAMP DEBUG] start_ts 1739708281 appears to be in SECONDS (correct for Redis)
2025-09-04 14:18:01,761 - logging_config - INFO - redis_utils.py:120 - [TIMESTAMP DEBUG] Checking Redis data sample for comparison...
2025-09-04 14:18:01,762 - logging_config - INFO - redis_utils.py:159 - Found 200 cached klines for PAXGUSDT 1d between 1739708281 and 1756988281
2025-09-04 14:18:01,762 - logging_config - INFO - redis_utils.py:163 - üîç DATA GAP ANALYSIS for PAXGUSDT 1d:
2025-09-04 14:18:01,762 - logging_config - INFO - redis_utils.py:164 -   Expected data points based on time range: ~200
2025-09-04 14:18:01,763 - logging_config - INFO - redis_utils.py:165 -   Actual data points retrieved: 200
2025-09-04 14:18:01,763 - logging_config - INFO - redis_utils.py:194 - ‚úÖ No data gaps detected - data appears continuous
2025-09-04 14:18:01,763 - logging_config - INFO - utility_endpoints.py:168 - POST /settings: RAW data received from client for symbol 'PAXGUSDT': {'symbol': 'PAXGUSDT', 'resolution': '1d', 'range': '3m', 'xAxisMin': None, 'xAxisMax': None, 'yAxisMin': None, 'yAxisMax': None, 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'useLocalOllama': False, 'localOllamaModelName': '', 'activeIndicators': ['macd'], 'liveDataEnabled': False, 'showAgentTrades': False, 'streamDeltaTime': 1, 'last_selected_symbol': 'PAXGUSDT'}
2025-09-04 14:18:01,764 - logging_config - INFO - redis_utils.py:265 - Found 30 cached Open Interest entries for PAXGUSDT 1d between 1754396273 and 1759580273
2025-09-04 14:18:01,773 - logging_config - INFO - utility_endpoints.py:199 - POST /settings for PAXGUSDT and email klemenzivkovic@gmail.com: current_symbol_settings compiled for Redis save: {'resolution': '1d', 'range': '3m', 'xAxisMin': None, 'xAxisMax': None, 'yAxisMin': None, 'yAxisMax': None, 'activeIndicators': ['macd'], 'liveDataEnabled': False, 'streamDeltaTime': 1, 'useLocalOllama': False, 'localOllamaModelName': '', 'showAgentTrades': False, 'symbol': 'PAXGUSDT', 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'last_selected_symbol': 'PAXGUSDT'}
2025-09-04 14:18:01,773 - logging_config - INFO - utility_endpoints.py:201 - POST /settings for PAXGUSDT: Client sent streamDeltaTime: 1. Value to be saved in Redis for streamDeltaTime: 1
2025-09-04 14:18:01,773 - logging_config - INFO - utility_endpoints.py:204 - POST /settings for PAXGUSDT and email klemenzivkovic@gmail.com: Settings updated in Redis for PAXGUSDT: {'resolution': '1d', 'range': '3m', 'xAxisMin': None, 'xAxisMax': None, 'yAxisMin': None, 'yAxisMax': None, 'activeIndicators': ['macd'], 'liveDataEnabled': False, 'streamDeltaTime': 1, 'useLocalOllama': False, 'localOllamaModelName': '', 'showAgentTrades': False, 'symbol': 'PAXGUSDT', 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'last_selected_symbol': 'PAXGUSDT'}
2025-09-04 14:18:02,677 - logging_config - INFO - websocket_handlers.py:742 - üì® RAW MESSAGE RECEIVED for PAXGUSDT: {
  "type": "config",
  "symbol": "PAXGUSDT",
  "indicators": [
    "macd",
    "rsi"
  ],
  "resolution": "1d",
  "from_ts": "2025-08-05T12:17:53.241Z",
  "to_ts": "2025-10-04T12:17:53.241Z"
}
2025-09-04 14:18:02,677 - logging_config - INFO - websocket_handlers.py:747 - [TIMESTAMP DEBUG] websocket_handlers.py - Received timestamps:
2025-09-04 14:18:02,678 - logging_config - INFO - websocket_handlers.py:748 -   from_ts: 2025-08-05T12:17:53.241Z (type: <class 'str'>)
2025-09-04 14:18:02,678 - logging_config - INFO - websocket_handlers.py:749 -   to_ts: 2025-10-04T12:17:53.241Z (type: <class 'str'>)
2025-09-04 14:18:02,678 - logging_config - INFO - websocket_handlers.py:754 - [TIMESTAMP DEBUG] Timestamps are ISO strings (correct format)
2025-09-04 14:18:02,678 - logging_config - INFO - websocket_handlers.py:761 - [TIMESTAMP CONVERSION] ISO strings -> Unix seconds:
2025-09-04 14:18:02,678 - logging_config - INFO - websocket_handlers.py:762 -   2025-08-05T12:17:53.241Z -> 1754396273 (2025-08-05 12:17:53 UTC)
2025-09-04 14:18:02,678 - logging_config - INFO - websocket_handlers.py:763 -   2025-10-04T12:17:53.241Z -> 1759580273 (2025-10-04 12:17:53 UTC)
2025-09-04 14:18:02,679 - logging_config - INFO - websocket_handlers.py:795 - [TIMESTAMP FIX] Final timestamps set:
2025-09-04 14:18:02,679 - logging_config - INFO - websocket_handlers.py:796 -   from_ts: 1754396273 (type: <class 'int'>)
2025-09-04 14:18:02,679 - logging_config - INFO - websocket_handlers.py:797 -   to_ts: 1759580273 (type: <class 'int'>)
2025-09-04 14:18:02,679 - logging_config - INFO - websocket_handlers.py:807 - Client config updated for PAXGUSDT: indicators=['macd', 'rsi'], resolution=1d
2025-09-04 14:18:02,679 - logging_config - INFO - websocket_handlers.py:808 - üìä MESSAGE FIELD VALUES for PAXGUSDT:
2025-09-04 14:18:02,679 - logging_config - INFO - websocket_handlers.py:809 -   symbol: PAXGUSDT (fallback: PAXGUSDT)
2025-09-04 14:18:02,679 - logging_config - INFO - websocket_handlers.py:810 -   from_ts: 2025-08-05T12:17:53.241Z (type: <class 'str'>)
2025-09-04 14:18:02,679 - logging_config - INFO - websocket_handlers.py:811 -   to_ts: 2025-10-04T12:17:53.241Z (type: <class 'str'>)
2025-09-04 14:18:02,680 - logging_config - INFO - websocket_handlers.py:812 -   indicators: ['macd', 'rsi'] (type: <class 'list'>)
2025-09-04 14:18:02,680 - logging_config - INFO - websocket_handlers.py:813 -   resolution: 1d (type: <class 'str'>)
2025-09-04 14:18:02,680 - logging_config - INFO - websocket_handlers.py:819 - üìä SERVER TIME RANGE ANALYSIS for PAXGUSDT:
2025-09-04 14:18:02,680 - logging_config - INFO - websocket_handlers.py:820 -   Old range: from_ts=1754396273, to_ts=1759580273
2025-09-04 14:18:02,680 - logging_config - INFO - websocket_handlers.py:821 -   New range: from_ts=1754396273, to_ts=1759580273
2025-09-04 14:18:02,680 - logging_config - INFO - websocket_handlers.py:822 -   Time range changed: False
2025-09-04 14:18:02,680 - logging_config - INFO - websocket_handlers.py:823 -   Historical sent: True
2025-09-04 14:18:02,680 - logging_config - INFO - websocket_handlers.py:824 -   Has timestamps: from_ts=True, to_ts=True
2025-09-04 14:18:02,681 - logging_config - INFO - websocket_handlers.py:843 -   üìÖ SERVER RECEIVED RANGE (UTC):
2025-09-04 14:18:02,681 - logging_config - INFO - websocket_handlers.py:844 -     From: 2025-08-05 12:17:53 UTC (1754396273)
2025-09-04 14:18:02,681 - logging_config - INFO - websocket_handlers.py:845 -     To: 2025-10-04 12:17:53 UTC (1759580273)
2025-09-04 14:18:02,681 - logging_config - INFO - websocket_handlers.py:846 -     Range: 5184000 seconds (1440.0 hours)
2025-09-04 14:18:02,681 - logging_config - INFO - websocket_handlers.py:848 -   üìÖ SERVER RECEIVED RANGE (Local Time):
2025-09-04 14:18:02,681 - logging_config - INFO - websocket_handlers.py:849 -     From: 2025-08-05 14:17:53 Central Europe Summer Time
2025-09-04 14:18:02,681 - logging_config - INFO - websocket_handlers.py:850 -     To: 2025-10-04 14:17:53 Central Europe Summer Time
2025-09-04 14:18:02,682 - logging_config - INFO - websocket_handlers.py:853 -   üåç TIMEZONE ANALYSIS:
2025-09-04 14:18:02,682 - logging_config - INFO - websocket_handlers.py:854 -     Server timezone: Central Europe Summer Time (UTC+2.0)
2025-09-04 14:18:02,682 - logging_config - INFO - websocket_handlers.py:855 -     User timezone (from logs): Europe/Ljubljana (UTC+2)
2025-09-04 14:18:02,682 - logging_config - INFO - websocket_handlers.py:856 -     Timezone difference: 0.0 hours
2025-09-04 14:18:02,682 - logging_config - INFO - websocket_handlers.py:859 -   üì§ DATA TO BE SENT TO CLIENT:
2025-09-04 14:18:02,682 - logging_config - INFO - websocket_handlers.py:860 -     Timestamps will be sent as seconds (not milliseconds)
2025-09-04 14:18:02,682 - logging_config - INFO - websocket_handlers.py:861 -     Client will receive: from_ts=1754396273, to_ts=1759580273
2025-09-04 14:18:02,682 - logging_config - INFO - websocket_handlers.py:862 -     Client local time equivalent: 2025-08-05 14:17:53 to 2025-10-04 14:17:53
2025-09-04 14:18:02,683 - logging_config - INFO - websocket_handlers.py:867 -   üìä USER'S CHART VIEW STATE:
2025-09-04 14:18:02,683 - logging_config - INFO - websocket_handlers.py:868 -     X-Axis Min: 30/08/2025, 10:31:39
2025-09-04 14:18:02,683 - logging_config - INFO - websocket_handlers.py:869 -     X-Axis Max: 04/09/2025, 01:58:37
2025-09-04 14:18:02,683 - logging_config - INFO - websocket_handlers.py:870 -     Expected local time range: 2025-08-30 10:31 to 2025-09-04 01:58
2025-09-04 14:18:02,683 - logging_config - INFO - websocket_handlers.py:871 -     Server received UTC equivalent: 2025-08-05 12:17 to 2025-10-04 12:17
2025-09-04 14:18:02,683 - logging_config - INFO - websocket_handlers.py:881 - Should send historical data: False
2025-09-04 14:18:02,683 - logging_config - INFO - websocket_handlers.py:887 - NOT sending historical data for PAXGUSDT - conditions not met
2025-09-04 14:18:02,684 - logging_config - INFO - websocket_handlers.py:505 - Starting live stream for PAXGUSDT from Redis stream: stream:kline:PAXGUSDT:1d
2025-09-04 14:18:02,685 - logging_config - INFO - utility_endpoints.py:168 - POST /settings: RAW data received from client for symbol 'PAXGUSDT': {'symbol': 'PAXGUSDT', 'resolution': '1d', 'range': '3m', 'xAxisMin': None, 'xAxisMax': None, 'yAxisMin': None, 'yAxisMax': None, 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'useLocalOllama': False, 'localOllamaModelName': '', 'activeIndicators': ['macd', 'rsi'], 'liveDataEnabled': False, 'showAgentTrades': False, 'streamDeltaTime': 1, 'last_selected_symbol': 'PAXGUSDT'}
2025-09-04 14:18:02,686 - logging_config - INFO - utility_endpoints.py:199 - POST /settings for PAXGUSDT and email klemenzivkovic@gmail.com: current_symbol_settings compiled for Redis save: {'resolution': '1d', 'range': '3m', 'xAxisMin': None, 'xAxisMax': None, 'yAxisMin': None, 'yAxisMax': None, 'activeIndicators': ['macd', 'rsi'], 'liveDataEnabled': False, 'streamDeltaTime': 1, 'useLocalOllama': False, 'localOllamaModelName': '', 'showAgentTrades': False, 'symbol': 'PAXGUSDT', 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'last_selected_symbol': 'PAXGUSDT'}
2025-09-04 14:18:02,686 - logging_config - INFO - utility_endpoints.py:201 - POST /settings for PAXGUSDT: Client sent streamDeltaTime: 1. Value to be saved in Redis for streamDeltaTime: 1
2025-09-04 14:18:02,686 - logging_config - INFO - utility_endpoints.py:204 - POST /settings for PAXGUSDT and email klemenzivkovic@gmail.com: Settings updated in Redis for PAXGUSDT: {'resolution': '1d', 'range': '3m', 'xAxisMin': None, 'xAxisMax': None, 'yAxisMin': None, 'yAxisMax': None, 'activeIndicators': ['macd', 'rsi'], 'liveDataEnabled': False, 'streamDeltaTime': 1, 'useLocalOllama': False, 'localOllamaModelName': '', 'showAgentTrades': False, 'symbol': 'PAXGUSDT', 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'last_selected_symbol': 'PAXGUSDT'}
2025-09-04 14:18:03,838 - logging_config - INFO - utility_endpoints.py:168 - POST /settings: RAW data received from client for symbol 'PAXGUSDT': {'symbol': 'PAXGUSDT', 'resolution': '1d', 'range': '3m', 'xAxisMin': None, 'xAxisMax': None, 'yAxisMin': None, 'yAxisMax': None, 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'useLocalOllama': False, 'localOllamaModelName': '', 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3'], 'liveDataEnabled': False, 'showAgentTrades': False, 'streamDeltaTime': 1, 'last_selected_symbol': 'PAXGUSDT'}
2025-09-04 14:18:03,839 - logging_config - INFO - utility_endpoints.py:199 - POST /settings for PAXGUSDT and email klemenzivkovic@gmail.com: current_symbol_settings compiled for Redis save: {'resolution': '1d', 'range': '3m', 'xAxisMin': None, 'xAxisMax': None, 'yAxisMin': None, 'yAxisMax': None, 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3'], 'liveDataEnabled': False, 'streamDeltaTime': 1, 'useLocalOllama': False, 'localOllamaModelName': '', 'showAgentTrades': False, 'symbol': 'PAXGUSDT', 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'last_selected_symbol': 'PAXGUSDT'}
2025-09-04 14:18:03,839 - logging_config - INFO - utility_endpoints.py:201 - POST /settings for PAXGUSDT: Client sent streamDeltaTime: 1. Value to be saved in Redis for streamDeltaTime: 1
2025-09-04 14:18:03,839 - logging_config - INFO - utility_endpoints.py:204 - POST /settings for PAXGUSDT and email klemenzivkovic@gmail.com: Settings updated in Redis for PAXGUSDT: {'resolution': '1d', 'range': '3m', 'xAxisMin': None, 'xAxisMax': None, 'yAxisMin': None, 'yAxisMax': None, 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3'], 'liveDataEnabled': False, 'streamDeltaTime': 1, 'useLocalOllama': False, 'localOllamaModelName': '', 'showAgentTrades': False, 'symbol': 'PAXGUSDT', 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'last_selected_symbol': 'PAXGUSDT'}
2025-09-04 14:18:03,925 - logging_config - INFO - websocket_handlers.py:742 - üì® RAW MESSAGE RECEIVED for PAXGUSDT: {
  "type": "config",
  "symbol": "PAXGUSDT",
  "indicators": [
    "macd",
    "rsi",
    "stochrsi_9_3"
  ],
  "resolution": "1d",
  "from_ts": "2025-08-05T12:17:53.241Z",
  "to_ts": "2025-10-04T12:17:53.241Z"
}
2025-09-04 14:18:03,925 - logging_config - INFO - websocket_handlers.py:747 - [TIMESTAMP DEBUG] websocket_handlers.py - Received timestamps:
2025-09-04 14:18:03,925 - logging_config - INFO - websocket_handlers.py:748 -   from_ts: 2025-08-05T12:17:53.241Z (type: <class 'str'>)
2025-09-04 14:18:03,925 - logging_config - INFO - websocket_handlers.py:749 -   to_ts: 2025-10-04T12:17:53.241Z (type: <class 'str'>)
2025-09-04 14:18:03,925 - logging_config - INFO - websocket_handlers.py:754 - [TIMESTAMP DEBUG] Timestamps are ISO strings (correct format)
2025-09-04 14:18:03,925 - logging_config - INFO - websocket_handlers.py:761 - [TIMESTAMP CONVERSION] ISO strings -> Unix seconds:
2025-09-04 14:18:03,925 - logging_config - INFO - websocket_handlers.py:762 -   2025-08-05T12:17:53.241Z -> 1754396273 (2025-08-05 12:17:53 UTC)
2025-09-04 14:18:03,925 - logging_config - INFO - websocket_handlers.py:763 -   2025-10-04T12:17:53.241Z -> 1759580273 (2025-10-04 12:17:53 UTC)
2025-09-04 14:18:03,925 - logging_config - INFO - websocket_handlers.py:795 - [TIMESTAMP FIX] Final timestamps set:
2025-09-04 14:18:03,925 - logging_config - INFO - websocket_handlers.py:796 -   from_ts: 1754396273 (type: <class 'int'>)
2025-09-04 14:18:03,925 - logging_config - INFO - websocket_handlers.py:797 -   to_ts: 1759580273 (type: <class 'int'>)
2025-09-04 14:18:03,925 - logging_config - INFO - websocket_handlers.py:807 - Client config updated for PAXGUSDT: indicators=['macd', 'rsi', 'stochrsi_9_3'], resolution=1d
2025-09-04 14:18:03,927 - logging_config - INFO - websocket_handlers.py:808 - üìä MESSAGE FIELD VALUES for PAXGUSDT:
2025-09-04 14:18:03,927 - logging_config - INFO - websocket_handlers.py:809 -   symbol: PAXGUSDT (fallback: PAXGUSDT)
2025-09-04 14:18:03,927 - logging_config - INFO - websocket_handlers.py:810 -   from_ts: 2025-08-05T12:17:53.241Z (type: <class 'str'>)
2025-09-04 14:18:03,927 - logging_config - INFO - websocket_handlers.py:811 -   to_ts: 2025-10-04T12:17:53.241Z (type: <class 'str'>)
2025-09-04 14:18:03,927 - logging_config - INFO - websocket_handlers.py:812 -   indicators: ['macd', 'rsi', 'stochrsi_9_3'] (type: <class 'list'>)
2025-09-04 14:18:03,927 - logging_config - INFO - websocket_handlers.py:813 -   resolution: 1d (type: <class 'str'>)
2025-09-04 14:18:03,927 - logging_config - INFO - websocket_handlers.py:819 - üìä SERVER TIME RANGE ANALYSIS for PAXGUSDT:
2025-09-04 14:18:03,927 - logging_config - INFO - websocket_handlers.py:820 -   Old range: from_ts=1754396273, to_ts=1759580273
2025-09-04 14:18:03,927 - logging_config - INFO - websocket_handlers.py:821 -   New range: from_ts=1754396273, to_ts=1759580273
2025-09-04 14:18:03,927 - logging_config - INFO - websocket_handlers.py:822 -   Time range changed: False
2025-09-04 14:18:03,927 - logging_config - INFO - websocket_handlers.py:823 -   Historical sent: True
2025-09-04 14:18:03,927 - logging_config - INFO - websocket_handlers.py:824 -   Has timestamps: from_ts=True, to_ts=True
2025-09-04 14:18:03,927 - logging_config - INFO - websocket_handlers.py:843 -   üìÖ SERVER RECEIVED RANGE (UTC):
2025-09-04 14:18:03,928 - logging_config - INFO - websocket_handlers.py:844 -     From: 2025-08-05 12:17:53 UTC (1754396273)
2025-09-04 14:18:03,928 - logging_config - INFO - websocket_handlers.py:845 -     To: 2025-10-04 12:17:53 UTC (1759580273)
2025-09-04 14:18:03,928 - logging_config - INFO - websocket_handlers.py:846 -     Range: 5184000 seconds (1440.0 hours)
2025-09-04 14:18:03,928 - logging_config - INFO - websocket_handlers.py:848 -   üìÖ SERVER RECEIVED RANGE (Local Time):
2025-09-04 14:18:03,928 - logging_config - INFO - websocket_handlers.py:849 -     From: 2025-08-05 14:17:53 Central Europe Summer Time
2025-09-04 14:18:03,928 - logging_config - INFO - websocket_handlers.py:850 -     To: 2025-10-04 14:17:53 Central Europe Summer Time
2025-09-04 14:18:03,928 - logging_config - INFO - websocket_handlers.py:853 -   üåç TIMEZONE ANALYSIS:
2025-09-04 14:18:03,928 - logging_config - INFO - websocket_handlers.py:854 -     Server timezone: Central Europe Summer Time (UTC+2.0)
2025-09-04 14:18:03,928 - logging_config - INFO - websocket_handlers.py:855 -     User timezone (from logs): Europe/Ljubljana (UTC+2)
2025-09-04 14:18:03,928 - logging_config - INFO - websocket_handlers.py:856 -     Timezone difference: 0.0 hours
2025-09-04 14:18:03,929 - logging_config - INFO - websocket_handlers.py:859 -   üì§ DATA TO BE SENT TO CLIENT:
2025-09-04 14:18:03,929 - logging_config - INFO - websocket_handlers.py:860 -     Timestamps will be sent as seconds (not milliseconds)
2025-09-04 14:18:03,929 - logging_config - INFO - websocket_handlers.py:861 -     Client will receive: from_ts=1754396273, to_ts=1759580273
2025-09-04 14:18:03,929 - logging_config - INFO - websocket_handlers.py:862 -     Client local time equivalent: 2025-08-05 14:17:53 to 2025-10-04 14:17:53
2025-09-04 14:18:03,929 - logging_config - INFO - websocket_handlers.py:867 -   üìä USER'S CHART VIEW STATE:
2025-09-04 14:18:03,929 - logging_config - INFO - websocket_handlers.py:868 -     X-Axis Min: 30/08/2025, 10:31:39
2025-09-04 14:18:03,929 - logging_config - INFO - websocket_handlers.py:869 -     X-Axis Max: 04/09/2025, 01:58:37
2025-09-04 14:18:03,929 - logging_config - INFO - websocket_handlers.py:870 -     Expected local time range: 2025-08-30 10:31 to 2025-09-04 01:58
2025-09-04 14:18:03,929 - logging_config - INFO - websocket_handlers.py:871 -     Server received UTC equivalent: 2025-08-05 12:17 to 2025-10-04 12:17
2025-09-04 14:18:03,929 - logging_config - INFO - websocket_handlers.py:881 - Should send historical data: False
2025-09-04 14:18:03,930 - logging_config - INFO - websocket_handlers.py:887 - NOT sending historical data for PAXGUSDT - conditions not met
2025-09-04 14:18:03,930 - logging_config - INFO - websocket_handlers.py:505 - Starting live stream for PAXGUSDT from Redis stream: stream:kline:PAXGUSDT:1d
2025-09-04 14:18:58,433 - logging_config - INFO - background_tasks.py:75 - üìä STARTING OPEN INTEREST: Data fetch cycle
2025-09-04 14:19:35,185 - logging_config - INFO - AppTradingView.py:158 - Chart page request from 192.168.1.1. Current session state: authenticated=True, email=klemenzivkovic@gmail.com
2025-09-04 14:19:35,185 - logging_config - INFO - AppTradingView.py:159 - Security debug - Headers: X-Forwarded-For=192.168.1.1, X-Real-IP=192.168.1.1, User-Agent=Mozilla/5.0 (Linux; Android 6.0; Nexus 5 Build/MRA58N) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Mobile Safari/537.36
2025-09-04 14:19:35,185 - logging_config - INFO - AppTradingView.py:160 - Security debug - Session ID: None, Client IP: 192.168.1.1
2025-09-04 14:19:35,185 - logging_config - INFO - AppTradingView.py:164 - Security debug - Is local test: False (client_host == '192.168.1.52')
2025-09-04 14:19:35,185 - logging_config - INFO - AppTradingView.py:180 - Email found in session for 192.168.1.1: klemenzivkovic@gmail.com
2025-09-04 14:19:35,194 - logging_config - ERROR - websocket_handlers.py:709 - Failed to receive WebSocket message for PAXGUSDT: (1001, '')
Traceback (most recent call last):
  File "c:\git\ai-trading-bot-2\websocket_handlers.py", line 704, in stream_combined_data_websocket_endpoint
    message = await asyncio.wait_for(websocket.receive_json(), timeout=1.0)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python312\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
           ^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\websockets.py", line 136, in receive_json
    self._raise_on_disconnect(message)
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\websockets.py", line 114, in _raise_on_disconnect
    raise WebSocketDisconnect(message["code"], message.get("reason"))
starlette.websockets.WebSocketDisconnect: (1001, '')
2025-09-04 14:19:35,195 - logging_config - INFO - utility_endpoints.py:282 - Log stream generator cancelled.
2025-09-04 14:19:35,507 - logging_config - INFO - utility_endpoints.py:243 - GET /get_last_symbol request received.
2025-09-04 14:19:35,511 - logging_config - INFO - utility_endpoints.py:251 - Got last selected symbol for user klemenzivkovic@gmail.com: PAXGUSDT
2025-09-04 14:19:35,560 - logging_config - INFO - AppTradingView.py:382 - Symbol chart page request for favicon.ico from 192.168.1.1. Current session state: authenticated=True, email=klemenzivkovic@gmail.com
2025-09-04 14:19:35,560 - logging_config - INFO - AppTradingView.py:383 - Security debug - Headers: X-Forwarded-For=192.168.1.1, X-Real-IP=192.168.1.1, User-Agent=Mozilla/5.0 (Linux; Android 6.0; Nexus 5 Build/MRA58N) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Mobile Safari/537.36
2025-09-04 14:19:35,560 - logging_config - INFO - AppTradingView.py:384 - Security debug - Session ID: None, Client IP: 192.168.1.1
2025-09-04 14:19:35,560 - logging_config - INFO - AppTradingView.py:388 - Security debug - Is local test: False (client_host == '192.168.1.52')
2025-09-04 14:19:35,560 - logging_config - INFO - AppTradingView.py:404 - Email found in session for favicon.ico request from 192.168.1.1: klemenzivkovic@gmail.com
2025-09-04 14:19:35,580 - logging_config - WARNING - utility_endpoints.py:120 - X-axis timestamps are None for PAXGUSDT, skipping validation
2025-09-04 14:19:35,581 - logging_config - INFO - utility_endpoints.py:141 - GET /settings for PAXGUSDT: Retrieved from Redis: {'resolution': '1d', 'range': '3m', 'xAxisMin': None, 'xAxisMax': None, 'yAxisMin': None, 'yAxisMax': None, 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3'], 'liveDataEnabled': False, 'streamDeltaTime': 1, 'useLocalOllama': False, 'localOllamaModelName': '', 'showAgentTrades': False, 'symbol': 'PAXGUSDT', 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'last_selected_symbol': 'PAXGUSDT'}
2025-09-04 14:19:35,611 - logging_config - INFO - websocket_handlers.py:271 - WebSocket connection accepted for combined data: PAXGUSDT
2025-09-04 14:19:35,615 - logging_config - INFO - websocket_handlers.py:742 - üì® RAW MESSAGE RECEIVED for PAXGUSDT: {
  "type": "config",
  "symbol": "PAXGUSDT",
  "indicators": [
    "macd",
    "rsi",
    "stochrsi_9_3"
  ],
  "resolution": "1d",
  "from_ts": "2025-08-05T12:19:35.597Z",
  "to_ts": "2025-10-04T12:19:35.597Z"
}
2025-09-04 14:19:35,615 - logging_config - INFO - websocket_handlers.py:747 - [TIMESTAMP DEBUG] websocket_handlers.py - Received timestamps:
2025-09-04 14:19:35,615 - logging_config - INFO - websocket_handlers.py:748 -   from_ts: 2025-08-05T12:19:35.597Z (type: <class 'str'>)
2025-09-04 14:19:35,615 - logging_config - INFO - websocket_handlers.py:749 -   to_ts: 2025-10-04T12:19:35.597Z (type: <class 'str'>)
2025-09-04 14:19:35,615 - logging_config - INFO - websocket_handlers.py:754 - [TIMESTAMP DEBUG] Timestamps are ISO strings (correct format)
2025-09-04 14:19:35,615 - logging_config - INFO - websocket_handlers.py:761 - [TIMESTAMP CONVERSION] ISO strings -> Unix seconds:
2025-09-04 14:19:35,615 - logging_config - INFO - websocket_handlers.py:762 -   2025-08-05T12:19:35.597Z -> 1754396375 (2025-08-05 12:19:35 UTC)
2025-09-04 14:19:35,615 - logging_config - INFO - websocket_handlers.py:763 -   2025-10-04T12:19:35.597Z -> 1759580375 (2025-10-04 12:19:35 UTC)
2025-09-04 14:19:35,616 - logging_config - INFO - websocket_handlers.py:795 - [TIMESTAMP FIX] Final timestamps set:
2025-09-04 14:19:35,616 - logging_config - INFO - websocket_handlers.py:796 -   from_ts: 1754396375 (type: <class 'int'>)
2025-09-04 14:19:35,616 - logging_config - INFO - websocket_handlers.py:797 -   to_ts: 1759580375 (type: <class 'int'>)
2025-09-04 14:19:35,616 - logging_config - INFO - websocket_handlers.py:807 - Client config updated for PAXGUSDT: indicators=['macd', 'rsi', 'stochrsi_9_3'], resolution=1d
2025-09-04 14:19:35,616 - logging_config - INFO - websocket_handlers.py:808 - üìä MESSAGE FIELD VALUES for PAXGUSDT:
2025-09-04 14:19:35,616 - logging_config - INFO - websocket_handlers.py:809 -   symbol: PAXGUSDT (fallback: PAXGUSDT)
2025-09-04 14:19:35,616 - logging_config - INFO - websocket_handlers.py:810 -   from_ts: 2025-08-05T12:19:35.597Z (type: <class 'str'>)
2025-09-04 14:19:35,616 - logging_config - INFO - websocket_handlers.py:811 -   to_ts: 2025-10-04T12:19:35.597Z (type: <class 'str'>)
2025-09-04 14:19:35,616 - logging_config - INFO - websocket_handlers.py:812 -   indicators: ['macd', 'rsi', 'stochrsi_9_3'] (type: <class 'list'>)
2025-09-04 14:19:35,616 - logging_config - INFO - websocket_handlers.py:813 -   resolution: 1d (type: <class 'str'>)
2025-09-04 14:19:35,616 - logging_config - INFO - websocket_handlers.py:819 - üìä SERVER TIME RANGE ANALYSIS for PAXGUSDT:
2025-09-04 14:19:35,616 - logging_config - INFO - websocket_handlers.py:820 -   Old range: from_ts=None, to_ts=None
2025-09-04 14:19:35,616 - logging_config - INFO - websocket_handlers.py:821 -   New range: from_ts=1754396375, to_ts=1759580375
2025-09-04 14:19:35,616 - logging_config - INFO - websocket_handlers.py:822 -   Time range changed: True
2025-09-04 14:19:35,616 - logging_config - INFO - websocket_handlers.py:823 -   Historical sent: False
2025-09-04 14:19:35,616 - logging_config - INFO - websocket_handlers.py:824 -   Has timestamps: from_ts=True, to_ts=True
2025-09-04 14:19:35,617 - logging_config - INFO - websocket_handlers.py:843 -   üìÖ SERVER RECEIVED RANGE (UTC):
2025-09-04 14:19:35,617 - logging_config - INFO - websocket_handlers.py:844 -     From: 2025-08-05 12:19:35 UTC (1754396375)
2025-09-04 14:19:35,617 - logging_config - INFO - websocket_handlers.py:845 -     To: 2025-10-04 12:19:35 UTC (1759580375)
2025-09-04 14:19:35,617 - logging_config - INFO - websocket_handlers.py:846 -     Range: 5184000 seconds (1440.0 hours)
2025-09-04 14:19:35,617 - logging_config - INFO - websocket_handlers.py:848 -   üìÖ SERVER RECEIVED RANGE (Local Time):
2025-09-04 14:19:35,617 - logging_config - INFO - websocket_handlers.py:849 -     From: 2025-08-05 14:19:35 Central Europe Summer Time
2025-09-04 14:19:35,617 - logging_config - INFO - websocket_handlers.py:850 -     To: 2025-10-04 14:19:35 Central Europe Summer Time
2025-09-04 14:19:35,617 - logging_config - INFO - websocket_handlers.py:853 -   üåç TIMEZONE ANALYSIS:
2025-09-04 14:19:35,617 - logging_config - INFO - websocket_handlers.py:854 -     Server timezone: Central Europe Summer Time (UTC+2.0)
2025-09-04 14:19:35,617 - logging_config - INFO - websocket_handlers.py:855 -     User timezone (from logs): Europe/Ljubljana (UTC+2)
2025-09-04 14:19:35,617 - logging_config - INFO - websocket_handlers.py:856 -     Timezone difference: 0.0 hours
2025-09-04 14:19:35,617 - logging_config - INFO - websocket_handlers.py:859 -   üì§ DATA TO BE SENT TO CLIENT:
2025-09-04 14:19:35,617 - logging_config - INFO - websocket_handlers.py:860 -     Timestamps will be sent as seconds (not milliseconds)
2025-09-04 14:19:35,617 - logging_config - INFO - websocket_handlers.py:861 -     Client will receive: from_ts=1754396375, to_ts=1759580375
2025-09-04 14:19:35,617 - logging_config - INFO - websocket_handlers.py:862 -     Client local time equivalent: 2025-08-05 14:19:35 to 2025-10-04 14:19:35
2025-09-04 14:19:35,617 - logging_config - INFO - websocket_handlers.py:867 -   üìä USER'S CHART VIEW STATE:
2025-09-04 14:19:35,617 - logging_config - INFO - websocket_handlers.py:868 -     X-Axis Min: 30/08/2025, 10:31:39
2025-09-04 14:19:35,617 - logging_config - INFO - websocket_handlers.py:869 -     X-Axis Max: 04/09/2025, 01:58:37
2025-09-04 14:19:35,618 - logging_config - INFO - websocket_handlers.py:870 -     Expected local time range: 2025-08-30 10:31 to 2025-09-04 01:58
2025-09-04 14:19:35,618 - logging_config - INFO - websocket_handlers.py:871 -     Server received UTC equivalent: 2025-08-05 12:19 to 2025-10-04 12:19
2025-09-04 14:19:35,618 - logging_config - INFO - websocket_handlers.py:881 - Should send historical data: 1759580375
2025-09-04 14:19:35,618 - logging_config - INFO - websocket_handlers.py:884 - Sending historical data for PAXGUSDT - time range changed: True, historical_sent: False
2025-09-04 14:19:35,618 - logging_config - INFO - websocket_handlers.py:309 - Sending historical data for PAXGUSDT with indicators: ['macd', 'rsi', 'stochrsi_9_3']
2025-09-04 14:19:35,618 - logging_config - INFO - websocket_handlers.py:310 - Time range: from_ts=1754396375, to_ts=1759580375, resolution=1d
2025-09-04 14:19:35,618 - logging_config - INFO - websocket_handlers.py:320 - WebSocket session email found: klemenzivkovic@gmail.com
2025-09-04 14:19:35,618 - logging_config - INFO - websocket_handlers.py:325 - Looking for drawings: symbol=PAXGUSDT, resolution=1d, email=klemenzivkovic@gmail.com
2025-09-04 14:19:35,618 - logging_config - INFO - websocket_handlers.py:330 - Redis key for drawings: drawings:klemenzivkovic@gmail.com:PAXGUSDT
2025-09-04 14:19:35,619 - logging_config - INFO - drawing_manager.py:60 - get_drawings for PAXGUSDT with resolution '1d': found 4 total, returning 4 filtered.
2025-09-04 14:19:35,619 - logging_config - INFO - websocket_handlers.py:339 - Sending 4 existing drawings for PAXGUSDT
2025-09-04 14:19:35,619 - logging_config - INFO - websocket_handlers.py:345 - Sending drawing (4) message: {'type': 'drawings', 'symbol': 'PAXGUSDT', 'data': [{'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1749504979, 'end_time': 1757034460, 'start_price': 3498.39837005988, 'end_price': 3360.406707317073, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': {'buyOnCross': False, 'sellOnCross': False, 'sendEmailOnCross': True}, 'id': '23a034a5-9e91-488c-a076-b1dc9fa49f8f'}, {'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1750519797, 'end_time': 1756969828, 'start_price': 3263.9115544910173, 'end_price': 3290.8273239708183, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': {'buyOnCross': False, 'sellOnCross': False, 'sendEmailOnCross': True}, 'id': 'baf77e17-16dc-4817-b3ea-430467fa3a06'}, {'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1742353742, 'end_time': 1759291109, 'start_price': 3597.298721036928, 'end_price': 3334.7182204260644, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': None, 'id': '30d5ab26-ece7-434c-b489-9aeeccb27e56'}, {'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1739775769, 'end_time': 1755240008, 'start_price': 3168.595862896743, 'end_price': 3270.412791705037, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': None, 'id': '56ea858d-8f15-4f9d-a3ef-249b5e232b7a'}]}
2025-09-04 14:19:35,619 - logging_config - INFO - websocket_handlers.py:347 - Successfully sent drawings message to client
2025-09-04 14:19:35,619 - logging_config - INFO - redis_utils.py:103 - Querying sorted set 'zset:kline:PAXGUSDT:1d' for range [1754396375, 1759580375]
2025-09-04 14:19:35,619 - logging_config - INFO - redis_utils.py:106 - [TIMESTAMP DEBUG] redis_utils.py - get_cached_klines query:
2025-09-04 14:19:35,620 - logging_config - INFO - redis_utils.py:107 -   start_ts: 1754396375 (type: <class 'int'>)
2025-09-04 14:19:35,620 - logging_config - INFO - redis_utils.py:108 -   end_ts: 1759580375 (type: <class 'int'>)
2025-09-04 14:19:35,620 - logging_config - INFO - redis_utils.py:115 - [TIMESTAMP DEBUG] start_ts 1754396375 appears to be in SECONDS (correct for Redis)
2025-09-04 14:19:35,620 - logging_config - INFO - redis_utils.py:120 - [TIMESTAMP DEBUG] Checking Redis data sample for comparison...
2025-09-04 14:19:35,620 - logging_config - INFO - redis_utils.py:159 - Found 30 cached klines for PAXGUSDT 1d between 1754396375 and 1759580375
2025-09-04 14:19:35,621 - logging_config - INFO - redis_utils.py:163 - üîç DATA GAP ANALYSIS for PAXGUSDT 1d:
2025-09-04 14:19:35,621 - logging_config - INFO - redis_utils.py:164 -   Expected data points based on time range: ~60
2025-09-04 14:19:35,621 - logging_config - INFO - redis_utils.py:165 -   Actual data points retrieved: 30
2025-09-04 14:19:35,621 - logging_config - INFO - redis_utils.py:194 - ‚úÖ No data gaps detected - data appears continuous
2025-09-04 14:19:35,621 - logging_config - INFO - websocket_handlers.py:362 - ‚úÖ REDIS SUCCESS: Retrieved 30 klines from Redis for PAXGUSDT
2025-09-04 14:19:35,621 - logging_config - INFO - websocket_handlers.py:398 - ‚úÖ CACHE HIT: Found 30 klines in Redis cache for PAXGUSDT
2025-09-04 14:19:35,621 - logging_config - INFO - websocket_handlers.py:402 - Calculating indicators for PAXGUSDT: 3 indicators, 30 klines
2025-09-04 14:19:35,622 - logging_config - INFO - redis_utils.py:265 - Found 30 cached Open Interest entries for PAXGUSDT 1d between 1754396375 and 1759580375
2025-09-04 14:19:35,625 - logging_config - WARNING - indicators.py:135 - üîç MACD GAP CAUSE: Insufficient data for MACD calculation. Need at least 35 points, got 30. This creates a 1.5 day gap.
2025-09-04 14:19:40,592 - logging_config - INFO - utility_endpoints.py:168 - POST /settings: RAW data received from client for symbol 'PAXGUSDT': {'symbol': 'PAXGUSDT', 'resolution': '1d', 'range': '3m', 'xAxisMin': 955554563746, 'xAxisMax': 976755292369, 'yAxisMin': 0.40239886410221715, 'yAxisMax': 3.7539990942804122, 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'useLocalOllama': False, 'localOllamaModelName': '', 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3'], 'liveDataEnabled': False, 'showAgentTrades': False, 'streamDeltaTime': 1, 'last_selected_symbol': 'PAXGUSDT'}
2025-09-04 14:19:40,593 - logging_config - INFO - utility_endpoints.py:199 - POST /settings for PAXGUSDT and email klemenzivkovic@gmail.com: current_symbol_settings compiled for Redis save: {'resolution': '1d', 'range': '3m', 'xAxisMin': 955554563746, 'xAxisMax': 976755292369, 'yAxisMin': 0.40239886410221715, 'yAxisMax': 3.7539990942804122, 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3'], 'liveDataEnabled': False, 'streamDeltaTime': 1, 'useLocalOllama': False, 'localOllamaModelName': '', 'showAgentTrades': False, 'symbol': 'PAXGUSDT', 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'last_selected_symbol': 'PAXGUSDT'}
2025-09-04 14:19:40,593 - logging_config - INFO - utility_endpoints.py:201 - POST /settings for PAXGUSDT: Client sent streamDeltaTime: 1. Value to be saved in Redis for streamDeltaTime: 1
2025-09-04 14:19:40,593 - logging_config - INFO - utility_endpoints.py:204 - POST /settings for PAXGUSDT and email klemenzivkovic@gmail.com: Settings updated in Redis for PAXGUSDT: {'resolution': '1d', 'range': '3m', 'xAxisMin': 955554563746, 'xAxisMax': 976755292369, 'yAxisMin': 0.40239886410221715, 'yAxisMax': 3.7539990942804122, 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3'], 'liveDataEnabled': False, 'streamDeltaTime': 1, 'useLocalOllama': False, 'localOllamaModelName': '', 'showAgentTrades': False, 'symbol': 'PAXGUSDT', 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'last_selected_symbol': 'PAXGUSDT'}
2025-09-04 14:19:41,027 - logging_config - INFO - utility_endpoints.py:168 - POST /settings: RAW data received from client for symbol 'PAXGUSDT': {'symbol': 'PAXGUSDT', 'resolution': '1d', 'range': '3m', 'xAxisMin': 937257300361, 'xAxisMax': 979946675518, 'yAxisMin': -2.488236055728709, 'yAxisMax': 4.261057982151305, 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'useLocalOllama': False, 'localOllamaModelName': '', 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3'], 'liveDataEnabled': False, 'showAgentTrades': False, 'streamDeltaTime': 1, 'last_selected_symbol': 'PAXGUSDT'}
2025-09-04 14:19:41,028 - logging_config - INFO - utility_endpoints.py:199 - POST /settings for PAXGUSDT and email klemenzivkovic@gmail.com: current_symbol_settings compiled for Redis save: {'resolution': '1d', 'range': '3m', 'xAxisMin': 937257300361, 'xAxisMax': 979946675518, 'yAxisMin': -2.488236055728709, 'yAxisMax': 4.261057982151305, 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3'], 'liveDataEnabled': False, 'streamDeltaTime': 1, 'useLocalOllama': False, 'localOllamaModelName': '', 'showAgentTrades': False, 'symbol': 'PAXGUSDT', 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'last_selected_symbol': 'PAXGUSDT'}
2025-09-04 14:19:41,028 - logging_config - INFO - utility_endpoints.py:201 - POST /settings for PAXGUSDT: Client sent streamDeltaTime: 1. Value to be saved in Redis for streamDeltaTime: 1
2025-09-04 14:19:41,029 - logging_config - INFO - utility_endpoints.py:204 - POST /settings for PAXGUSDT and email klemenzivkovic@gmail.com: Settings updated in Redis for PAXGUSDT: {'resolution': '1d', 'range': '3m', 'xAxisMin': 937257300361, 'xAxisMax': 979946675518, 'yAxisMin': -2.488236055728709, 'yAxisMax': 4.261057982151305, 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3'], 'liveDataEnabled': False, 'streamDeltaTime': 1, 'useLocalOllama': False, 'localOllamaModelName': '', 'showAgentTrades': False, 'symbol': 'PAXGUSDT', 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'last_selected_symbol': 'PAXGUSDT'}
2025-09-04 14:19:41,101 - logging_config - INFO - websocket_handlers.py:742 - üì® RAW MESSAGE RECEIVED for PAXGUSDT: {
  "type": "config",
  "symbol": "PAXGUSDT",
  "indicators": [
    "macd",
    "rsi",
    "stochrsi_9_3"
  ],
  "resolution": "1d",
  "from_ts": 915912612782,
  "to_ts": 1001291363096
}
2025-09-04 14:19:41,101 - logging_config - INFO - websocket_handlers.py:747 - [TIMESTAMP DEBUG] websocket_handlers.py - Received timestamps:
2025-09-04 14:19:41,101 - logging_config - INFO - websocket_handlers.py:748 -   from_ts: 915912612782 (type: <class 'int'>)
2025-09-04 14:19:41,101 - logging_config - INFO - websocket_handlers.py:749 -   to_ts: 1001291363096 (type: <class 'int'>)
2025-09-04 14:19:41,101 - logging_config - WARNING - websocket_handlers.py:769 - [TIMESTAMP DEBUG] from_ts 915912612782 appears to be in MILLISECONDS (should be seconds)
2025-09-04 14:19:41,101 - logging_config - INFO - websocket_handlers.py:770 -   Converting to seconds: 915912612
2025-09-04 14:19:41,101 - logging_config - INFO - websocket_handlers.py:774 - [TIMESTAMP CONVERSION] Client milliseconds -> Server seconds:
2025-09-04 14:19:41,101 - logging_config - INFO - websocket_handlers.py:775 -   915912612782 -> 915912612 (1999-01-09 20:10:12 UTC)
2025-09-04 14:19:41,102 - logging_config - INFO - websocket_handlers.py:776 -   1001291363096 -> 1001291363 (2001-09-24 00:29:23 UTC)
2025-09-04 14:19:41,102 - logging_config - INFO - websocket_handlers.py:795 - [TIMESTAMP FIX] Final timestamps set:
2025-09-04 14:19:41,102 - logging_config - INFO - websocket_handlers.py:796 -   from_ts: 915912612 (type: <class 'int'>)
2025-09-04 14:19:41,102 - logging_config - INFO - websocket_handlers.py:797 -   to_ts: 1001291363 (type: <class 'int'>)
2025-09-04 14:19:41,102 - logging_config - INFO - websocket_handlers.py:807 - Client config updated for PAXGUSDT: indicators=['macd', 'rsi', 'stochrsi_9_3'], resolution=1d
2025-09-04 14:19:41,102 - logging_config - INFO - websocket_handlers.py:808 - üìä MESSAGE FIELD VALUES for PAXGUSDT:
2025-09-04 14:19:41,102 - logging_config - INFO - websocket_handlers.py:809 -   symbol: PAXGUSDT (fallback: PAXGUSDT)
2025-09-04 14:19:41,102 - logging_config - INFO - websocket_handlers.py:810 -   from_ts: 915912612782 (type: <class 'int'>)
2025-09-04 14:19:41,102 - logging_config - INFO - websocket_handlers.py:811 -   to_ts: 1001291363096 (type: <class 'int'>)
2025-09-04 14:19:41,102 - logging_config - INFO - websocket_handlers.py:812 -   indicators: ['macd', 'rsi', 'stochrsi_9_3'] (type: <class 'list'>)
2025-09-04 14:19:41,102 - logging_config - INFO - websocket_handlers.py:813 -   resolution: 1d (type: <class 'str'>)
2025-09-04 14:19:41,102 - logging_config - INFO - websocket_handlers.py:819 - üìä SERVER TIME RANGE ANALYSIS for PAXGUSDT:
2025-09-04 14:19:41,103 - logging_config - INFO - websocket_handlers.py:820 -   Old range: from_ts=1754396375, to_ts=1759580375
2025-09-04 14:19:41,103 - logging_config - INFO - websocket_handlers.py:821 -   New range: from_ts=915912612, to_ts=1001291363
2025-09-04 14:19:41,103 - logging_config - INFO - websocket_handlers.py:822 -   Time range changed: True
2025-09-04 14:19:41,103 - logging_config - INFO - websocket_handlers.py:823 -   Historical sent: True
2025-09-04 14:19:41,103 - logging_config - INFO - websocket_handlers.py:824 -   Has timestamps: from_ts=True, to_ts=True
2025-09-04 14:19:41,103 - logging_config - INFO - websocket_handlers.py:843 -   üìÖ SERVER RECEIVED RANGE (UTC):
2025-09-04 14:19:41,103 - logging_config - INFO - websocket_handlers.py:844 -     From: 1999-01-09 20:10:12 UTC (915912612)
2025-09-04 14:19:41,103 - logging_config - INFO - websocket_handlers.py:845 -     To: 2001-09-24 00:29:23 UTC (1001291363)
2025-09-04 14:19:41,103 - logging_config - INFO - websocket_handlers.py:846 -     Range: 85378751 seconds (23716.3 hours)
2025-09-04 14:19:41,103 - logging_config - INFO - websocket_handlers.py:848 -   üìÖ SERVER RECEIVED RANGE (Local Time):
2025-09-04 14:19:41,103 - logging_config - INFO - websocket_handlers.py:849 -     From: 1999-01-09 22:10:12 Central Europe Summer Time
2025-09-04 14:19:41,103 - logging_config - INFO - websocket_handlers.py:850 -     To: 2001-09-24 02:29:23 Central Europe Summer Time
2025-09-04 14:19:41,103 - logging_config - INFO - websocket_handlers.py:853 -   üåç TIMEZONE ANALYSIS:
2025-09-04 14:19:41,104 - logging_config - INFO - websocket_handlers.py:854 -     Server timezone: Central Europe Summer Time (UTC+2.0)
2025-09-04 14:19:41,104 - logging_config - INFO - websocket_handlers.py:855 -     User timezone (from logs): Europe/Ljubljana (UTC+2)
2025-09-04 14:19:41,104 - logging_config - INFO - websocket_handlers.py:856 -     Timezone difference: 0.0 hours
2025-09-04 14:19:41,104 - logging_config - INFO - websocket_handlers.py:859 -   üì§ DATA TO BE SENT TO CLIENT:
2025-09-04 14:19:41,104 - logging_config - INFO - websocket_handlers.py:860 -     Timestamps will be sent as seconds (not milliseconds)
2025-09-04 14:19:41,104 - logging_config - INFO - websocket_handlers.py:861 -     Client will receive: from_ts=915912612, to_ts=1001291363
2025-09-04 14:19:41,104 - logging_config - INFO - websocket_handlers.py:862 -     Client local time equivalent: 1999-01-09 22:10:12 to 2001-09-24 02:29:23
2025-09-04 14:19:41,104 - logging_config - INFO - websocket_handlers.py:867 -   üìä USER'S CHART VIEW STATE:
2025-09-04 14:19:41,104 - logging_config - INFO - websocket_handlers.py:868 -     X-Axis Min: 30/08/2025, 10:31:39
2025-09-04 14:19:41,104 - logging_config - INFO - websocket_handlers.py:869 -     X-Axis Max: 04/09/2025, 01:58:37
2025-09-04 14:19:41,104 - logging_config - INFO - websocket_handlers.py:870 -     Expected local time range: 2025-08-30 10:31 to 2025-09-04 01:58
2025-09-04 14:19:41,104 - logging_config - INFO - websocket_handlers.py:871 -     Server received UTC equivalent: 1999-01-09 20:10 to 2001-09-24 00:29
2025-09-04 14:19:41,104 - logging_config - INFO - websocket_handlers.py:881 - Should send historical data: 1001291363
2025-09-04 14:19:41,104 - logging_config - INFO - websocket_handlers.py:884 - Sending historical data for PAXGUSDT - time range changed: True, historical_sent: True
2025-09-04 14:19:41,104 - logging_config - INFO - websocket_handlers.py:309 - Sending historical data for PAXGUSDT with indicators: ['macd', 'rsi', 'stochrsi_9_3']
2025-09-04 14:19:41,104 - logging_config - INFO - websocket_handlers.py:310 - Time range: from_ts=915912612, to_ts=1001291363, resolution=1d
2025-09-04 14:19:41,105 - logging_config - INFO - websocket_handlers.py:320 - WebSocket session email found: klemenzivkovic@gmail.com
2025-09-04 14:19:41,105 - logging_config - INFO - websocket_handlers.py:325 - Looking for drawings: symbol=PAXGUSDT, resolution=1d, email=klemenzivkovic@gmail.com
2025-09-04 14:19:41,105 - logging_config - INFO - websocket_handlers.py:330 - Redis key for drawings: drawings:klemenzivkovic@gmail.com:PAXGUSDT
2025-09-04 14:19:41,105 - logging_config - INFO - drawing_manager.py:60 - get_drawings for PAXGUSDT with resolution '1d': found 4 total, returning 4 filtered.
2025-09-04 14:19:41,105 - logging_config - INFO - websocket_handlers.py:339 - Sending 4 existing drawings for PAXGUSDT
2025-09-04 14:19:41,105 - logging_config - INFO - websocket_handlers.py:345 - Sending drawing (4) message: {'type': 'drawings', 'symbol': 'PAXGUSDT', 'data': [{'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1749504979, 'end_time': 1757034460, 'start_price': 3498.39837005988, 'end_price': 3360.406707317073, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': {'buyOnCross': False, 'sellOnCross': False, 'sendEmailOnCross': True}, 'id': '23a034a5-9e91-488c-a076-b1dc9fa49f8f'}, {'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1750519797, 'end_time': 1756969828, 'start_price': 3263.9115544910173, 'end_price': 3290.8273239708183, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': {'buyOnCross': False, 'sellOnCross': False, 'sendEmailOnCross': True}, 'id': 'baf77e17-16dc-4817-b3ea-430467fa3a06'}, {'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1742353742, 'end_time': 1759291109, 'start_price': 3597.298721036928, 'end_price': 3334.7182204260644, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': None, 'id': '30d5ab26-ece7-434c-b489-9aeeccb27e56'}, {'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1739775769, 'end_time': 1755240008, 'start_price': 3168.595862896743, 'end_price': 3270.412791705037, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': None, 'id': '56ea858d-8f15-4f9d-a3ef-249b5e232b7a'}]}
2025-09-04 14:19:41,106 - logging_config - INFO - websocket_handlers.py:347 - Successfully sent drawings message to client
2025-09-04 14:19:41,106 - logging_config - INFO - redis_utils.py:103 - Querying sorted set 'zset:kline:PAXGUSDT:1d' for range [915912612, 1001291363]
2025-09-04 14:19:41,106 - logging_config - INFO - redis_utils.py:106 - [TIMESTAMP DEBUG] redis_utils.py - get_cached_klines query:
2025-09-04 14:19:41,106 - logging_config - INFO - redis_utils.py:107 -   start_ts: 915912612 (type: <class 'int'>)
2025-09-04 14:19:41,106 - logging_config - INFO - redis_utils.py:108 -   end_ts: 1001291363 (type: <class 'int'>)
2025-09-04 14:19:41,106 - logging_config - INFO - redis_utils.py:115 - [TIMESTAMP DEBUG] start_ts 915912612 appears to be in SECONDS (correct for Redis)
2025-09-04 14:19:41,106 - logging_config - INFO - redis_utils.py:120 - [TIMESTAMP DEBUG] Checking Redis data sample for comparison...
2025-09-04 14:19:41,107 - logging_config - WARNING - redis_utils.py:129 - No data returned from zrangebyscore for key 'zset:kline:PAXGUSDT:1d' with range [915912612, 1001291363]. Checking if key exists and has members...
2025-09-04 14:19:41,107 - logging_config - INFO - redis_utils.py:132 - Key 'zset:kline:PAXGUSDT:1d': Exists? 1, Cardinality: 1000
2025-09-04 14:19:41,108 - logging_config - INFO - redis_utils.py:134 - Fetching all members from 'zset:kline:PAXGUSDT:1d' to inspect scores, as zrangebyscore returned empty for range [915912612, 1001291363].
2025-09-04 14:19:41,112 - logging_config - INFO - redis_utils.py:137 - All members in '{sorted_set_key}' (first 5 shown if many):
2025-09-04 14:19:41,112 - logging_config - INFO - redis_utils.py:139 -   Member: {"time": 1670630400, "open": 1788.0, "high": 1791.0, "low": 1781.0, "close": 1787.0, "vol": 54.645}..., Score: 1670630400.0 (datetime: 2022-12-10 00:00:00+00:00)
2025-09-04 14:19:41,112 - logging_config - INFO - redis_utils.py:139 -   Member: {"time": 1670716800, "open": 1787.0, "high": 1802.0, "low": 1785.0, "close": 1798.0, "vol": 130.347}..., Score: 1670716800.0 (datetime: 2022-12-11 00:00:00+00:00)
2025-09-04 14:19:41,113 - logging_config - INFO - redis_utils.py:139 -   Member: {"time": 1670803200, "open": 1798.0, "high": 1798.0, "low": 1777.0, "close": 1783.0, "vol": 112.461}..., Score: 1670803200.0 (datetime: 2022-12-12 00:00:00+00:00)
2025-09-04 14:19:41,113 - logging_config - INFO - redis_utils.py:139 -   Member: {"time": 1670889600, "open": 1783.0, "high": 1815.0, "low": 1777.0, "close": 1807.0, "vol": 128.112}..., Score: 1670889600.0 (datetime: 2022-12-13 00:00:00+00:00)
2025-09-04 14:19:41,113 - logging_config - INFO - redis_utils.py:139 -   Member: {"time": 1670976000, "open": 1807.0, "high": 1820.0, "low": 1789.0, "close": 1802.0, "vol": 138.043}..., Score: 1670976000.0 (datetime: 2022-12-14 00:00:00+00:00)
2025-09-04 14:19:41,113 - logging_config - INFO - redis_utils.py:140 -   ... and 995 more members.
2025-09-04 14:19:41,113 - logging_config - INFO - redis_utils.py:159 - Found 0 cached klines for PAXGUSDT 1d between 915912612 and 1001291363
2025-09-04 14:19:41,113 - logging_config - INFO - websocket_handlers.py:362 - ‚úÖ REDIS SUCCESS: Retrieved 0 klines from Redis for PAXGUSDT
2025-09-04 14:19:41,113 - logging_config - WARNING - websocket_handlers.py:370 - ‚ö†Ô∏è No historical klines found in Redis cache for PAXGUSDT
2025-09-04 14:19:41,113 - logging_config - INFO - websocket_handlers.py:371 - üîÑ FALLBACK: Attempting to fetch data from Bybit API for PAXGUSDT
2025-09-04 14:19:41,113 - logging_config - INFO - websocket_handlers.py:378 - üì° FETCHING FROM BYBIT: PAXGUSDT 1d from 915912612 to 1001291363
2025-09-04 14:19:41,288 - logging_config - INFO - redis_utils.py:340 - No more data available from Bybit for PAXGUSDT 1d at batch #1
2025-09-04 14:19:41,289 - logging_config - WARNING - websocket_handlers.py:391 - ‚ùå BYBIT FAILURE: No data fetched from Bybit for PAXGUSDT
2025-09-04 14:19:41,536 - logging_config - INFO - websocket_handlers.py:742 - üì® RAW MESSAGE RECEIVED for PAXGUSDT: {
  "type": "config",
  "symbol": "PAXGUSDT",
  "indicators": [
    "macd",
    "rsi",
    "stochrsi_9_3"
  ],
  "resolution": "1d",
  "from_ts": 915912612782,
  "to_ts": 1001291363096
}
2025-09-04 14:19:41,536 - logging_config - INFO - websocket_handlers.py:747 - [TIMESTAMP DEBUG] websocket_handlers.py - Received timestamps:
2025-09-04 14:19:41,536 - logging_config - INFO - websocket_handlers.py:748 -   from_ts: 915912612782 (type: <class 'int'>)
2025-09-04 14:19:41,536 - logging_config - INFO - websocket_handlers.py:749 -   to_ts: 1001291363096 (type: <class 'int'>)
2025-09-04 14:19:41,536 - logging_config - WARNING - websocket_handlers.py:769 - [TIMESTAMP DEBUG] from_ts 915912612782 appears to be in MILLISECONDS (should be seconds)
2025-09-04 14:19:41,536 - logging_config - INFO - websocket_handlers.py:770 -   Converting to seconds: 915912612
2025-09-04 14:19:41,536 - logging_config - INFO - websocket_handlers.py:774 - [TIMESTAMP CONVERSION] Client milliseconds -> Server seconds:
2025-09-04 14:19:41,537 - logging_config - INFO - websocket_handlers.py:775 -   915912612782 -> 915912612 (1999-01-09 20:10:12 UTC)
2025-09-04 14:19:41,537 - logging_config - INFO - websocket_handlers.py:776 -   1001291363096 -> 1001291363 (2001-09-24 00:29:23 UTC)
2025-09-04 14:19:41,537 - logging_config - INFO - websocket_handlers.py:795 - [TIMESTAMP FIX] Final timestamps set:
2025-09-04 14:19:41,537 - logging_config - INFO - websocket_handlers.py:796 -   from_ts: 915912612 (type: <class 'int'>)
2025-09-04 14:19:41,537 - logging_config - INFO - websocket_handlers.py:797 -   to_ts: 1001291363 (type: <class 'int'>)
2025-09-04 14:19:41,537 - logging_config - INFO - websocket_handlers.py:807 - Client config updated for PAXGUSDT: indicators=['macd', 'rsi', 'stochrsi_9_3'], resolution=1d
2025-09-04 14:19:41,537 - logging_config - INFO - websocket_handlers.py:808 - üìä MESSAGE FIELD VALUES for PAXGUSDT:
2025-09-04 14:19:41,537 - logging_config - INFO - websocket_handlers.py:809 -   symbol: PAXGUSDT (fallback: PAXGUSDT)
2025-09-04 14:19:41,537 - logging_config - INFO - websocket_handlers.py:810 -   from_ts: 915912612782 (type: <class 'int'>)
2025-09-04 14:19:41,538 - logging_config - INFO - websocket_handlers.py:811 -   to_ts: 1001291363096 (type: <class 'int'>)
2025-09-04 14:19:41,538 - logging_config - INFO - websocket_handlers.py:812 -   indicators: ['macd', 'rsi', 'stochrsi_9_3'] (type: <class 'list'>)
2025-09-04 14:19:41,538 - logging_config - INFO - websocket_handlers.py:813 -   resolution: 1d (type: <class 'str'>)
2025-09-04 14:19:41,538 - logging_config - INFO - websocket_handlers.py:819 - üìä SERVER TIME RANGE ANALYSIS for PAXGUSDT:
2025-09-04 14:19:41,538 - logging_config - INFO - websocket_handlers.py:820 -   Old range: from_ts=915912612, to_ts=1001291363
2025-09-04 14:19:41,538 - logging_config - INFO - websocket_handlers.py:821 -   New range: from_ts=915912612, to_ts=1001291363
2025-09-04 14:19:41,538 - logging_config - INFO - websocket_handlers.py:822 -   Time range changed: False
2025-09-04 14:19:41,538 - logging_config - INFO - websocket_handlers.py:823 -   Historical sent: True
2025-09-04 14:19:41,538 - logging_config - INFO - websocket_handlers.py:824 -   Has timestamps: from_ts=True, to_ts=True
2025-09-04 14:19:41,539 - logging_config - INFO - websocket_handlers.py:843 -   üìÖ SERVER RECEIVED RANGE (UTC):
2025-09-04 14:19:41,539 - logging_config - INFO - websocket_handlers.py:844 -     From: 1999-01-09 20:10:12 UTC (915912612)
2025-09-04 14:19:41,539 - logging_config - INFO - websocket_handlers.py:845 -     To: 2001-09-24 00:29:23 UTC (1001291363)
2025-09-04 14:19:41,539 - logging_config - INFO - websocket_handlers.py:846 -     Range: 85378751 seconds (23716.3 hours)
2025-09-04 14:19:41,539 - logging_config - INFO - websocket_handlers.py:848 -   üìÖ SERVER RECEIVED RANGE (Local Time):
2025-09-04 14:19:41,539 - logging_config - INFO - websocket_handlers.py:849 -     From: 1999-01-09 22:10:12 Central Europe Summer Time
2025-09-04 14:19:41,539 - logging_config - INFO - websocket_handlers.py:850 -     To: 2001-09-24 02:29:23 Central Europe Summer Time
2025-09-04 14:19:41,539 - logging_config - INFO - websocket_handlers.py:853 -   üåç TIMEZONE ANALYSIS:
2025-09-04 14:19:41,539 - logging_config - INFO - websocket_handlers.py:854 -     Server timezone: Central Europe Summer Time (UTC+2.0)
2025-09-04 14:19:41,540 - logging_config - INFO - websocket_handlers.py:855 -     User timezone (from logs): Europe/Ljubljana (UTC+2)
2025-09-04 14:19:41,540 - logging_config - INFO - websocket_handlers.py:856 -     Timezone difference: 0.0 hours
2025-09-04 14:19:41,540 - logging_config - INFO - websocket_handlers.py:859 -   üì§ DATA TO BE SENT TO CLIENT:
2025-09-04 14:19:41,540 - logging_config - INFO - websocket_handlers.py:860 -     Timestamps will be sent as seconds (not milliseconds)
2025-09-04 14:19:41,540 - logging_config - INFO - websocket_handlers.py:861 -     Client will receive: from_ts=915912612, to_ts=1001291363
2025-09-04 14:19:41,540 - logging_config - INFO - websocket_handlers.py:862 -     Client local time equivalent: 1999-01-09 22:10:12 to 2001-09-24 02:29:23
2025-09-04 14:19:41,540 - logging_config - INFO - websocket_handlers.py:867 -   üìä USER'S CHART VIEW STATE:
2025-09-04 14:19:41,540 - logging_config - INFO - websocket_handlers.py:868 -     X-Axis Min: 30/08/2025, 10:31:39
2025-09-04 14:19:41,540 - logging_config - INFO - websocket_handlers.py:869 -     X-Axis Max: 04/09/2025, 01:58:37
2025-09-04 14:19:41,540 - logging_config - INFO - websocket_handlers.py:870 -     Expected local time range: 2025-08-30 10:31 to 2025-09-04 01:58
2025-09-04 14:19:41,540 - logging_config - INFO - websocket_handlers.py:871 -     Server received UTC equivalent: 1999-01-09 20:10 to 2001-09-24 00:29
2025-09-04 14:19:41,541 - logging_config - INFO - websocket_handlers.py:881 - Should send historical data: False
2025-09-04 14:19:41,541 - logging_config - INFO - websocket_handlers.py:887 - NOT sending historical data for PAXGUSDT - conditions not met
2025-09-04 14:19:41,541 - logging_config - INFO - websocket_handlers.py:505 - Starting live stream for PAXGUSDT from Redis stream: stream:kline:PAXGUSDT:1d
2025-09-04 14:19:41,855 - logging_config - INFO - utility_endpoints.py:168 - POST /settings: RAW data received from client for symbol 'PAXGUSDT': {'symbol': 'PAXGUSDT', 'resolution': '1d', 'range': '3m', 'xAxisMin': 933434726243, 'xAxisMax': 980613403562, 'yAxisMin': -3.09213326141175, 'yAxisMax': 4.366990226794601, 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'useLocalOllama': False, 'localOllamaModelName': '', 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3'], 'liveDataEnabled': False, 'showAgentTrades': False, 'streamDeltaTime': 1, 'last_selected_symbol': 'PAXGUSDT'}
2025-09-04 14:19:41,856 - logging_config - INFO - utility_endpoints.py:199 - POST /settings for PAXGUSDT and email klemenzivkovic@gmail.com: current_symbol_settings compiled for Redis save: {'resolution': '1d', 'range': '3m', 'xAxisMin': 933434726243, 'xAxisMax': 980613403562, 'yAxisMin': -3.09213326141175, 'yAxisMax': 4.366990226794601, 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3'], 'liveDataEnabled': False, 'streamDeltaTime': 1, 'useLocalOllama': False, 'localOllamaModelName': '', 'showAgentTrades': False, 'symbol': 'PAXGUSDT', 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'last_selected_symbol': 'PAXGUSDT'}
2025-09-04 14:19:41,856 - logging_config - INFO - utility_endpoints.py:201 - POST /settings for PAXGUSDT: Client sent streamDeltaTime: 1. Value to be saved in Redis for streamDeltaTime: 1
2025-09-04 14:19:41,857 - logging_config - INFO - utility_endpoints.py:204 - POST /settings for PAXGUSDT and email klemenzivkovic@gmail.com: Settings updated in Redis for PAXGUSDT: {'resolution': '1d', 'range': '3m', 'xAxisMin': 933434726243, 'xAxisMax': 980613403562, 'yAxisMin': -3.09213326141175, 'yAxisMax': 4.366990226794601, 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3'], 'liveDataEnabled': False, 'streamDeltaTime': 1, 'useLocalOllama': False, 'localOllamaModelName': '', 'showAgentTrades': False, 'symbol': 'PAXGUSDT', 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'last_selected_symbol': 'PAXGUSDT'}
2025-09-04 14:19:41,936 - logging_config - INFO - utility_endpoints.py:168 - POST /settings: RAW data received from client for symbol 'PAXGUSDT': {'symbol': 'PAXGUSDT', 'resolution': '1d', 'range': '3m', 'xAxisMin': 929210128496, 'xAxisMax': 981350252006, 'yAxisMin': -3.759542890639794, 'yAxisMax': 4.4840634628608464, 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'useLocalOllama': False, 'localOllamaModelName': '', 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3'], 'liveDataEnabled': False, 'showAgentTrades': False, 'streamDeltaTime': 1, 'last_selected_symbol': 'PAXGUSDT'}
2025-09-04 14:19:41,937 - logging_config - INFO - utility_endpoints.py:199 - POST /settings for PAXGUSDT and email klemenzivkovic@gmail.com: current_symbol_settings compiled for Redis save: {'resolution': '1d', 'range': '3m', 'xAxisMin': 929210128496, 'xAxisMax': 981350252006, 'yAxisMin': -3.759542890639794, 'yAxisMax': 4.4840634628608464, 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3'], 'liveDataEnabled': False, 'streamDeltaTime': 1, 'useLocalOllama': False, 'localOllamaModelName': '', 'showAgentTrades': False, 'symbol': 'PAXGUSDT', 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'last_selected_symbol': 'PAXGUSDT'}
2025-09-04 14:19:41,937 - logging_config - INFO - utility_endpoints.py:201 - POST /settings for PAXGUSDT: Client sent streamDeltaTime: 1. Value to be saved in Redis for streamDeltaTime: 1
2025-09-04 14:19:41,938 - logging_config - INFO - utility_endpoints.py:204 - POST /settings for PAXGUSDT and email klemenzivkovic@gmail.com: Settings updated in Redis for PAXGUSDT: {'resolution': '1d', 'range': '3m', 'xAxisMin': 929210128496, 'xAxisMax': 981350252006, 'yAxisMin': -3.759542890639794, 'yAxisMax': 4.4840634628608464, 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3'], 'liveDataEnabled': False, 'streamDeltaTime': 1, 'useLocalOllama': False, 'localOllamaModelName': '', 'showAgentTrades': False, 'symbol': 'PAXGUSDT', 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'last_selected_symbol': 'PAXGUSDT'}
2025-09-04 14:19:42,366 - logging_config - INFO - websocket_handlers.py:742 - üì® RAW MESSAGE RECEIVED for PAXGUSDT: {
  "type": "config",
  "symbol": "PAXGUSDT",
  "indicators": [
    "macd",
    "rsi",
    "stochrsi_9_3"
  ],
  "resolution": "1d",
  "from_ts": 903140066741,
  "to_ts": 1007420313761
}
2025-09-04 14:19:42,366 - logging_config - INFO - websocket_handlers.py:747 - [TIMESTAMP DEBUG] websocket_handlers.py - Received timestamps:
2025-09-04 14:19:42,366 - logging_config - INFO - websocket_handlers.py:748 -   from_ts: 903140066741 (type: <class 'int'>)
2025-09-04 14:19:42,366 - logging_config - INFO - websocket_handlers.py:749 -   to_ts: 1007420313761 (type: <class 'int'>)
2025-09-04 14:19:42,367 - logging_config - WARNING - websocket_handlers.py:769 - [TIMESTAMP DEBUG] from_ts 903140066741 appears to be in MILLISECONDS (should be seconds)
2025-09-04 14:19:42,367 - logging_config - INFO - websocket_handlers.py:770 -   Converting to seconds: 903140066
2025-09-04 14:19:42,367 - logging_config - INFO - websocket_handlers.py:774 - [TIMESTAMP CONVERSION] Client milliseconds -> Server seconds:
2025-09-04 14:19:42,367 - logging_config - INFO - websocket_handlers.py:775 -   903140066741 -> 903140066 (1998-08-15 00:14:26 UTC)
2025-09-04 14:19:42,367 - logging_config - INFO - websocket_handlers.py:776 -   1007420313761 -> 1007420313 (2001-12-03 22:58:33 UTC)
2025-09-04 14:19:42,367 - logging_config - INFO - websocket_handlers.py:795 - [TIMESTAMP FIX] Final timestamps set:
2025-09-04 14:19:42,367 - logging_config - INFO - websocket_handlers.py:796 -   from_ts: 903140066 (type: <class 'int'>)
2025-09-04 14:19:42,367 - logging_config - INFO - websocket_handlers.py:797 -   to_ts: 1007420313 (type: <class 'int'>)
2025-09-04 14:19:42,367 - logging_config - INFO - websocket_handlers.py:807 - Client config updated for PAXGUSDT: indicators=['macd', 'rsi', 'stochrsi_9_3'], resolution=1d
2025-09-04 14:19:42,367 - logging_config - INFO - websocket_handlers.py:808 - üìä MESSAGE FIELD VALUES for PAXGUSDT:
2025-09-04 14:19:42,367 - logging_config - INFO - websocket_handlers.py:809 -   symbol: PAXGUSDT (fallback: PAXGUSDT)
2025-09-04 14:19:42,368 - logging_config - INFO - websocket_handlers.py:810 -   from_ts: 903140066741 (type: <class 'int'>)
2025-09-04 14:19:42,368 - logging_config - INFO - websocket_handlers.py:811 -   to_ts: 1007420313761 (type: <class 'int'>)
2025-09-04 14:19:42,368 - logging_config - INFO - websocket_handlers.py:812 -   indicators: ['macd', 'rsi', 'stochrsi_9_3'] (type: <class 'list'>)
2025-09-04 14:19:42,368 - logging_config - INFO - websocket_handlers.py:813 -   resolution: 1d (type: <class 'str'>)
2025-09-04 14:19:42,368 - logging_config - INFO - websocket_handlers.py:819 - üìä SERVER TIME RANGE ANALYSIS for PAXGUSDT:
2025-09-04 14:19:42,368 - logging_config - INFO - websocket_handlers.py:820 -   Old range: from_ts=915912612, to_ts=1001291363
2025-09-04 14:19:42,368 - logging_config - INFO - websocket_handlers.py:821 -   New range: from_ts=903140066, to_ts=1007420313
2025-09-04 14:19:42,368 - logging_config - INFO - websocket_handlers.py:822 -   Time range changed: True
2025-09-04 14:19:42,368 - logging_config - INFO - websocket_handlers.py:823 -   Historical sent: True
2025-09-04 14:19:42,368 - logging_config - INFO - websocket_handlers.py:824 -   Has timestamps: from_ts=True, to_ts=True
2025-09-04 14:19:42,368 - logging_config - INFO - websocket_handlers.py:843 -   üìÖ SERVER RECEIVED RANGE (UTC):
2025-09-04 14:19:42,368 - logging_config - INFO - websocket_handlers.py:844 -     From: 1998-08-15 00:14:26 UTC (903140066)
2025-09-04 14:19:42,368 - logging_config - INFO - websocket_handlers.py:845 -     To: 2001-12-03 22:58:33 UTC (1007420313)
2025-09-04 14:19:42,369 - logging_config - INFO - websocket_handlers.py:846 -     Range: 104280247 seconds (28966.7 hours)
2025-09-04 14:19:42,369 - logging_config - INFO - websocket_handlers.py:848 -   üìÖ SERVER RECEIVED RANGE (Local Time):
2025-09-04 14:19:42,369 - logging_config - INFO - websocket_handlers.py:849 -     From: 1998-08-15 02:14:26 Central Europe Summer Time
2025-09-04 14:19:42,369 - logging_config - INFO - websocket_handlers.py:850 -     To: 2001-12-04 00:58:33 Central Europe Summer Time
2025-09-04 14:19:42,369 - logging_config - INFO - websocket_handlers.py:853 -   üåç TIMEZONE ANALYSIS:
2025-09-04 14:19:42,369 - logging_config - INFO - websocket_handlers.py:854 -     Server timezone: Central Europe Summer Time (UTC+2.0)
2025-09-04 14:19:42,369 - logging_config - INFO - websocket_handlers.py:855 -     User timezone (from logs): Europe/Ljubljana (UTC+2)
2025-09-04 14:19:42,369 - logging_config - INFO - websocket_handlers.py:856 -     Timezone difference: 0.0 hours
2025-09-04 14:19:42,369 - logging_config - INFO - websocket_handlers.py:859 -   üì§ DATA TO BE SENT TO CLIENT:
2025-09-04 14:19:42,369 - logging_config - INFO - websocket_handlers.py:860 -     Timestamps will be sent as seconds (not milliseconds)
2025-09-04 14:19:42,369 - logging_config - INFO - websocket_handlers.py:861 -     Client will receive: from_ts=903140066, to_ts=1007420313
2025-09-04 14:19:42,369 - logging_config - INFO - websocket_handlers.py:862 -     Client local time equivalent: 1998-08-15 02:14:26 to 2001-12-04 00:58:33
2025-09-04 14:19:42,369 - logging_config - INFO - websocket_handlers.py:867 -   üìä USER'S CHART VIEW STATE:
2025-09-04 14:19:42,370 - logging_config - INFO - websocket_handlers.py:868 -     X-Axis Min: 30/08/2025, 10:31:39
2025-09-04 14:19:42,370 - logging_config - INFO - websocket_handlers.py:869 -     X-Axis Max: 04/09/2025, 01:58:37
2025-09-04 14:19:42,370 - logging_config - INFO - websocket_handlers.py:870 -     Expected local time range: 2025-08-30 10:31 to 2025-09-04 01:58
2025-09-04 14:19:42,370 - logging_config - INFO - websocket_handlers.py:871 -     Server received UTC equivalent: 1998-08-15 00:14 to 2001-12-03 22:58
2025-09-04 14:19:42,370 - logging_config - INFO - websocket_handlers.py:881 - Should send historical data: 1007420313
2025-09-04 14:19:42,370 - logging_config - INFO - websocket_handlers.py:884 - Sending historical data for PAXGUSDT - time range changed: True, historical_sent: True
2025-09-04 14:19:42,370 - logging_config - INFO - websocket_handlers.py:309 - Sending historical data for PAXGUSDT with indicators: ['macd', 'rsi', 'stochrsi_9_3']
2025-09-04 14:19:42,370 - logging_config - INFO - websocket_handlers.py:310 - Time range: from_ts=903140066, to_ts=1007420313, resolution=1d
2025-09-04 14:19:42,370 - logging_config - INFO - websocket_handlers.py:320 - WebSocket session email found: klemenzivkovic@gmail.com
2025-09-04 14:19:42,370 - logging_config - INFO - websocket_handlers.py:325 - Looking for drawings: symbol=PAXGUSDT, resolution=1d, email=klemenzivkovic@gmail.com
2025-09-04 14:19:42,371 - logging_config - INFO - websocket_handlers.py:330 - Redis key for drawings: drawings:klemenzivkovic@gmail.com:PAXGUSDT
2025-09-04 14:19:42,371 - logging_config - INFO - drawing_manager.py:60 - get_drawings for PAXGUSDT with resolution '1d': found 4 total, returning 4 filtered.
2025-09-04 14:19:42,371 - logging_config - INFO - websocket_handlers.py:339 - Sending 4 existing drawings for PAXGUSDT
2025-09-04 14:19:42,371 - logging_config - INFO - websocket_handlers.py:345 - Sending drawing (4) message: {'type': 'drawings', 'symbol': 'PAXGUSDT', 'data': [{'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1749504979, 'end_time': 1757034460, 'start_price': 3498.39837005988, 'end_price': 3360.406707317073, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': {'buyOnCross': False, 'sellOnCross': False, 'sendEmailOnCross': True}, 'id': '23a034a5-9e91-488c-a076-b1dc9fa49f8f'}, {'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1750519797, 'end_time': 1756969828, 'start_price': 3263.9115544910173, 'end_price': 3290.8273239708183, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': {'buyOnCross': False, 'sellOnCross': False, 'sendEmailOnCross': True}, 'id': 'baf77e17-16dc-4817-b3ea-430467fa3a06'}, {'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1742353742, 'end_time': 1759291109, 'start_price': 3597.298721036928, 'end_price': 3334.7182204260644, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': None, 'id': '30d5ab26-ece7-434c-b489-9aeeccb27e56'}, {'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1739775769, 'end_time': 1755240008, 'start_price': 3168.595862896743, 'end_price': 3270.412791705037, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': None, 'id': '56ea858d-8f15-4f9d-a3ef-249b5e232b7a'}]}
2025-09-04 14:19:42,371 - logging_config - INFO - websocket_handlers.py:347 - Successfully sent drawings message to client
2025-09-04 14:19:42,371 - logging_config - INFO - redis_utils.py:103 - Querying sorted set 'zset:kline:PAXGUSDT:1d' for range [903140066, 1007420313]
2025-09-04 14:19:42,372 - logging_config - INFO - redis_utils.py:106 - [TIMESTAMP DEBUG] redis_utils.py - get_cached_klines query:
2025-09-04 14:19:42,372 - logging_config - INFO - redis_utils.py:107 -   start_ts: 903140066 (type: <class 'int'>)
2025-09-04 14:19:42,372 - logging_config - INFO - redis_utils.py:108 -   end_ts: 1007420313 (type: <class 'int'>)
2025-09-04 14:19:42,372 - logging_config - INFO - redis_utils.py:115 - [TIMESTAMP DEBUG] start_ts 903140066 appears to be in SECONDS (correct for Redis)
2025-09-04 14:19:42,372 - logging_config - INFO - redis_utils.py:120 - [TIMESTAMP DEBUG] Checking Redis data sample for comparison...
2025-09-04 14:19:42,373 - logging_config - WARNING - redis_utils.py:129 - No data returned from zrangebyscore for key 'zset:kline:PAXGUSDT:1d' with range [903140066, 1007420313]. Checking if key exists and has members...
2025-09-04 14:19:42,373 - logging_config - INFO - redis_utils.py:132 - Key 'zset:kline:PAXGUSDT:1d': Exists? 1, Cardinality: 1000
2025-09-04 14:19:42,374 - logging_config - INFO - redis_utils.py:134 - Fetching all members from 'zset:kline:PAXGUSDT:1d' to inspect scores, as zrangebyscore returned empty for range [903140066, 1007420313].
2025-09-04 14:19:42,379 - logging_config - INFO - redis_utils.py:137 - All members in '{sorted_set_key}' (first 5 shown if many):
2025-09-04 14:19:42,379 - logging_config - INFO - redis_utils.py:139 -   Member: {"time": 1670630400, "open": 1788.0, "high": 1791.0, "low": 1781.0, "close": 1787.0, "vol": 54.645}..., Score: 1670630400.0 (datetime: 2022-12-10 00:00:00+00:00)
2025-09-04 14:19:42,379 - logging_config - INFO - redis_utils.py:139 -   Member: {"time": 1670716800, "open": 1787.0, "high": 1802.0, "low": 1785.0, "close": 1798.0, "vol": 130.347}..., Score: 1670716800.0 (datetime: 2022-12-11 00:00:00+00:00)
2025-09-04 14:19:42,379 - logging_config - INFO - redis_utils.py:139 -   Member: {"time": 1670803200, "open": 1798.0, "high": 1798.0, "low": 1777.0, "close": 1783.0, "vol": 112.461}..., Score: 1670803200.0 (datetime: 2022-12-12 00:00:00+00:00)
2025-09-04 14:19:42,379 - logging_config - INFO - redis_utils.py:139 -   Member: {"time": 1670889600, "open": 1783.0, "high": 1815.0, "low": 1777.0, "close": 1807.0, "vol": 128.112}..., Score: 1670889600.0 (datetime: 2022-12-13 00:00:00+00:00)
2025-09-04 14:19:42,379 - logging_config - INFO - redis_utils.py:139 -   Member: {"time": 1670976000, "open": 1807.0, "high": 1820.0, "low": 1789.0, "close": 1802.0, "vol": 138.043}..., Score: 1670976000.0 (datetime: 2022-12-14 00:00:00+00:00)
2025-09-04 14:19:42,379 - logging_config - INFO - redis_utils.py:140 -   ... and 995 more members.
2025-09-04 14:19:42,379 - logging_config - INFO - redis_utils.py:159 - Found 0 cached klines for PAXGUSDT 1d between 903140066 and 1007420313
2025-09-04 14:19:42,380 - logging_config - INFO - websocket_handlers.py:362 - ‚úÖ REDIS SUCCESS: Retrieved 0 klines from Redis for PAXGUSDT
2025-09-04 14:19:42,380 - logging_config - WARNING - websocket_handlers.py:370 - ‚ö†Ô∏è No historical klines found in Redis cache for PAXGUSDT
2025-09-04 14:19:42,380 - logging_config - INFO - websocket_handlers.py:371 - üîÑ FALLBACK: Attempting to fetch data from Bybit API for PAXGUSDT
2025-09-04 14:19:42,380 - logging_config - INFO - websocket_handlers.py:378 - üì° FETCHING FROM BYBIT: PAXGUSDT 1d from 903140066 to 1007420313
2025-09-04 14:19:42,552 - logging_config - INFO - redis_utils.py:340 - No more data available from Bybit for PAXGUSDT 1d at batch #1
2025-09-04 14:19:42,552 - logging_config - WARNING - websocket_handlers.py:391 - ‚ùå BYBIT FAILURE: No data fetched from Bybit for PAXGUSDT
2025-09-04 14:19:42,641 - logging_config - INFO - websocket_handlers.py:742 - üì® RAW MESSAGE RECEIVED for PAXGUSDT: {
  "type": "config",
  "symbol": "PAXGUSDT",
  "indicators": [
    "macd",
    "rsi",
    "stochrsi_9_3"
  ],
  "resolution": "1d",
  "from_ts": 903140066741,
  "to_ts": 1007420313761
}
2025-09-04 14:19:42,641 - logging_config - INFO - websocket_handlers.py:747 - [TIMESTAMP DEBUG] websocket_handlers.py - Received timestamps:
2025-09-04 14:19:42,641 - logging_config - INFO - websocket_handlers.py:748 -   from_ts: 903140066741 (type: <class 'int'>)
2025-09-04 14:19:42,641 - logging_config - INFO - websocket_handlers.py:749 -   to_ts: 1007420313761 (type: <class 'int'>)
2025-09-04 14:19:42,642 - logging_config - WARNING - websocket_handlers.py:769 - [TIMESTAMP DEBUG] from_ts 903140066741 appears to be in MILLISECONDS (should be seconds)
2025-09-04 14:19:42,642 - logging_config - INFO - websocket_handlers.py:770 -   Converting to seconds: 903140066
2025-09-04 14:19:42,642 - logging_config - INFO - websocket_handlers.py:774 - [TIMESTAMP CONVERSION] Client milliseconds -> Server seconds:
2025-09-04 14:19:42,642 - logging_config - INFO - websocket_handlers.py:775 -   903140066741 -> 903140066 (1998-08-15 00:14:26 UTC)
2025-09-04 14:19:42,642 - logging_config - INFO - websocket_handlers.py:776 -   1007420313761 -> 1007420313 (2001-12-03 22:58:33 UTC)
2025-09-04 14:19:42,642 - logging_config - INFO - websocket_handlers.py:795 - [TIMESTAMP FIX] Final timestamps set:
2025-09-04 14:19:42,642 - logging_config - INFO - websocket_handlers.py:796 -   from_ts: 903140066 (type: <class 'int'>)
2025-09-04 14:19:42,642 - logging_config - INFO - websocket_handlers.py:797 -   to_ts: 1007420313 (type: <class 'int'>)
2025-09-04 14:19:42,642 - logging_config - INFO - websocket_handlers.py:807 - Client config updated for PAXGUSDT: indicators=['macd', 'rsi', 'stochrsi_9_3'], resolution=1d
2025-09-04 14:19:42,642 - logging_config - INFO - websocket_handlers.py:808 - üìä MESSAGE FIELD VALUES for PAXGUSDT:
2025-09-04 14:19:42,642 - logging_config - INFO - websocket_handlers.py:809 -   symbol: PAXGUSDT (fallback: PAXGUSDT)
2025-09-04 14:19:42,643 - logging_config - INFO - websocket_handlers.py:810 -   from_ts: 903140066741 (type: <class 'int'>)
2025-09-04 14:19:42,643 - logging_config - INFO - websocket_handlers.py:811 -   to_ts: 1007420313761 (type: <class 'int'>)
2025-09-04 14:19:42,643 - logging_config - INFO - websocket_handlers.py:812 -   indicators: ['macd', 'rsi', 'stochrsi_9_3'] (type: <class 'list'>)
2025-09-04 14:19:42,643 - logging_config - INFO - websocket_handlers.py:813 -   resolution: 1d (type: <class 'str'>)
2025-09-04 14:19:42,643 - logging_config - INFO - websocket_handlers.py:819 - üìä SERVER TIME RANGE ANALYSIS for PAXGUSDT:
2025-09-04 14:19:42,643 - logging_config - INFO - websocket_handlers.py:820 -   Old range: from_ts=903140066, to_ts=1007420313
2025-09-04 14:19:42,643 - logging_config - INFO - websocket_handlers.py:821 -   New range: from_ts=903140066, to_ts=1007420313
2025-09-04 14:19:42,643 - logging_config - INFO - websocket_handlers.py:822 -   Time range changed: False
2025-09-04 14:19:42,643 - logging_config - INFO - websocket_handlers.py:823 -   Historical sent: True
2025-09-04 14:19:42,643 - logging_config - INFO - websocket_handlers.py:824 -   Has timestamps: from_ts=True, to_ts=True
2025-09-04 14:19:42,643 - logging_config - INFO - websocket_handlers.py:843 -   üìÖ SERVER RECEIVED RANGE (UTC):
2025-09-04 14:19:42,643 - logging_config - INFO - websocket_handlers.py:844 -     From: 1998-08-15 00:14:26 UTC (903140066)
2025-09-04 14:19:42,643 - logging_config - INFO - websocket_handlers.py:845 -     To: 2001-12-03 22:58:33 UTC (1007420313)
2025-09-04 14:19:42,643 - logging_config - INFO - websocket_handlers.py:846 -     Range: 104280247 seconds (28966.7 hours)
2025-09-04 14:19:42,644 - logging_config - INFO - websocket_handlers.py:848 -   üìÖ SERVER RECEIVED RANGE (Local Time):
2025-09-04 14:19:42,644 - logging_config - INFO - websocket_handlers.py:849 -     From: 1998-08-15 02:14:26 Central Europe Summer Time
2025-09-04 14:19:42,644 - logging_config - INFO - websocket_handlers.py:850 -     To: 2001-12-04 00:58:33 Central Europe Summer Time
2025-09-04 14:19:42,644 - logging_config - INFO - websocket_handlers.py:853 -   üåç TIMEZONE ANALYSIS:
2025-09-04 14:19:42,644 - logging_config - INFO - websocket_handlers.py:854 -     Server timezone: Central Europe Summer Time (UTC+2.0)
2025-09-04 14:19:42,644 - logging_config - INFO - websocket_handlers.py:855 -     User timezone (from logs): Europe/Ljubljana (UTC+2)
2025-09-04 14:19:42,645 - logging_config - INFO - websocket_handlers.py:856 -     Timezone difference: 0.0 hours
2025-09-04 14:19:42,645 - logging_config - INFO - websocket_handlers.py:859 -   üì§ DATA TO BE SENT TO CLIENT:
2025-09-04 14:19:42,645 - logging_config - INFO - websocket_handlers.py:860 -     Timestamps will be sent as seconds (not milliseconds)
2025-09-04 14:19:42,645 - logging_config - INFO - websocket_handlers.py:861 -     Client will receive: from_ts=903140066, to_ts=1007420313
2025-09-04 14:19:42,645 - logging_config - INFO - websocket_handlers.py:862 -     Client local time equivalent: 1998-08-15 02:14:26 to 2001-12-04 00:58:33
2025-09-04 14:19:42,645 - logging_config - INFO - websocket_handlers.py:867 -   üìä USER'S CHART VIEW STATE:
2025-09-04 14:19:42,645 - logging_config - INFO - websocket_handlers.py:868 -     X-Axis Min: 30/08/2025, 10:31:39
2025-09-04 14:19:42,645 - logging_config - INFO - websocket_handlers.py:869 -     X-Axis Max: 04/09/2025, 01:58:37
2025-09-04 14:19:42,645 - logging_config - INFO - websocket_handlers.py:870 -     Expected local time range: 2025-08-30 10:31 to 2025-09-04 01:58
2025-09-04 14:19:42,645 - logging_config - INFO - websocket_handlers.py:871 -     Server received UTC equivalent: 1998-08-15 00:14 to 2001-12-03 22:58
2025-09-04 14:19:42,646 - logging_config - INFO - websocket_handlers.py:881 - Should send historical data: False
2025-09-04 14:19:42,646 - logging_config - INFO - websocket_handlers.py:887 - NOT sending historical data for PAXGUSDT - conditions not met
2025-09-04 14:19:42,646 - logging_config - INFO - websocket_handlers.py:505 - Starting live stream for PAXGUSDT from Redis stream: stream:kline:PAXGUSDT:1d
2025-09-04 14:19:48,290 - logging_config - INFO - utility_endpoints.py:168 - POST /settings: RAW data received from client for symbol 'PAXGUSDT': {'symbol': 'PAXGUSDT', 'resolution': '1d', 'range': '3m', 'xAxisMin': 924866963313, 'xAxisMax': 982490332866, 'yAxisMin': -4.282180568261213, 'yAxisMax': 4.828413433691333, 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'useLocalOllama': False, 'localOllamaModelName': '', 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3'], 'liveDataEnabled': False, 'showAgentTrades': False, 'streamDeltaTime': 1, 'last_selected_symbol': 'PAXGUSDT'}
2025-09-04 14:19:48,291 - logging_config - INFO - utility_endpoints.py:199 - POST /settings for PAXGUSDT and email klemenzivkovic@gmail.com: current_symbol_settings compiled for Redis save: {'resolution': '1d', 'range': '3m', 'xAxisMin': 924866963313, 'xAxisMax': 982490332866, 'yAxisMin': -4.282180568261213, 'yAxisMax': 4.828413433691333, 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3'], 'liveDataEnabled': False, 'streamDeltaTime': 1, 'useLocalOllama': False, 'localOllamaModelName': '', 'showAgentTrades': False, 'symbol': 'PAXGUSDT', 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'last_selected_symbol': 'PAXGUSDT'}
2025-09-04 14:19:48,291 - logging_config - INFO - utility_endpoints.py:201 - POST /settings for PAXGUSDT: Client sent streamDeltaTime: 1. Value to be saved in Redis for streamDeltaTime: 1
2025-09-04 14:19:48,291 - logging_config - INFO - utility_endpoints.py:204 - POST /settings for PAXGUSDT and email klemenzivkovic@gmail.com: Settings updated in Redis for PAXGUSDT: {'resolution': '1d', 'range': '3m', 'xAxisMin': 924866963313, 'xAxisMax': 982490332866, 'yAxisMin': -4.282180568261213, 'yAxisMax': 4.828413433691333, 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3'], 'liveDataEnabled': False, 'streamDeltaTime': 1, 'useLocalOllama': False, 'localOllamaModelName': '', 'showAgentTrades': False, 'symbol': 'PAXGUSDT', 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'last_selected_symbol': 'PAXGUSDT'}
2025-09-04 14:19:48,368 - logging_config - INFO - utility_endpoints.py:168 - POST /settings: RAW data received from client for symbol 'PAXGUSDT': {'symbol': 'PAXGUSDT', 'resolution': '1d', 'range': '3m', 'xAxisMin': 920108122991, 'xAxisMax': 983787816608, 'yAxisMin': -4.860910463908119, 'yAxisMax': 5.207853073444266, 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'useLocalOllama': False, 'localOllamaModelName': '', 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3'], 'liveDataEnabled': False, 'showAgentTrades': False, 'streamDeltaTime': 1, 'last_selected_symbol': 'PAXGUSDT'}
2025-09-04 14:19:48,368 - logging_config - INFO - utility_endpoints.py:199 - POST /settings for PAXGUSDT and email klemenzivkovic@gmail.com: current_symbol_settings compiled for Redis save: {'resolution': '1d', 'range': '3m', 'xAxisMin': 920108122991, 'xAxisMax': 983787816608, 'yAxisMin': -4.860910463908119, 'yAxisMax': 5.207853073444266, 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3'], 'liveDataEnabled': False, 'streamDeltaTime': 1, 'useLocalOllama': False, 'localOllamaModelName': '', 'showAgentTrades': False, 'symbol': 'PAXGUSDT', 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'last_selected_symbol': 'PAXGUSDT'}
2025-09-04 14:19:48,369 - logging_config - INFO - utility_endpoints.py:201 - POST /settings for PAXGUSDT: Client sent streamDeltaTime: 1. Value to be saved in Redis for streamDeltaTime: 1
2025-09-04 14:19:48,369 - logging_config - INFO - utility_endpoints.py:204 - POST /settings for PAXGUSDT and email klemenzivkovic@gmail.com: Settings updated in Redis for PAXGUSDT: {'resolution': '1d', 'range': '3m', 'xAxisMin': 920108122991, 'xAxisMax': 983787816608, 'yAxisMin': -4.860910463908119, 'yAxisMax': 5.207853073444266, 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3'], 'liveDataEnabled': False, 'streamDeltaTime': 1, 'useLocalOllama': False, 'localOllamaModelName': '', 'showAgentTrades': False, 'symbol': 'PAXGUSDT', 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'last_selected_symbol': 'PAXGUSDT'}
2025-09-04 14:19:48,774 - logging_config - INFO - utility_endpoints.py:168 - POST /settings: RAW data received from client for symbol 'PAXGUSDT': {'symbol': 'PAXGUSDT', 'resolution': '1d', 'range': '3m', 'xAxisMin': 915085184111, 'xAxisMax': 985462129568, 'yAxisMin': -5.505483310496788, 'yAxisMax': 5.622221331965553, 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'useLocalOllama': False, 'localOllamaModelName': '', 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3'], 'liveDataEnabled': False, 'showAgentTrades': False, 'streamDeltaTime': 1, 'last_selected_symbol': 'PAXGUSDT'}
2025-09-04 14:19:48,775 - logging_config - INFO - utility_endpoints.py:199 - POST /settings for PAXGUSDT and email klemenzivkovic@gmail.com: current_symbol_settings compiled for Redis save: {'resolution': '1d', 'range': '3m', 'xAxisMin': 915085184111, 'xAxisMax': 985462129568, 'yAxisMin': -5.505483310496788, 'yAxisMax': 5.622221331965553, 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3'], 'liveDataEnabled': False, 'streamDeltaTime': 1, 'useLocalOllama': False, 'localOllamaModelName': '', 'showAgentTrades': False, 'symbol': 'PAXGUSDT', 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'last_selected_symbol': 'PAXGUSDT'}
2025-09-04 14:19:48,775 - logging_config - INFO - utility_endpoints.py:201 - POST /settings for PAXGUSDT: Client sent streamDeltaTime: 1. Value to be saved in Redis for streamDeltaTime: 1
2025-09-04 14:19:48,776 - logging_config - INFO - utility_endpoints.py:204 - POST /settings for PAXGUSDT and email klemenzivkovic@gmail.com: Settings updated in Redis for PAXGUSDT: {'resolution': '1d', 'range': '3m', 'xAxisMin': 915085184111, 'xAxisMax': 985462129568, 'yAxisMin': -5.505483310496788, 'yAxisMax': 5.622221331965553, 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3'], 'liveDataEnabled': False, 'streamDeltaTime': 1, 'useLocalOllama': False, 'localOllamaModelName': '', 'showAgentTrades': False, 'symbol': 'PAXGUSDT', 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'last_selected_symbol': 'PAXGUSDT'}
2025-09-04 14:19:48,799 - logging_config - INFO - websocket_handlers.py:742 - üì® RAW MESSAGE RECEIVED for PAXGUSDT: {
  "type": "config",
  "symbol": "PAXGUSDT",
  "indicators": [
    "macd",
    "rsi",
    "stochrsi_9_3"
  ],
  "resolution": "1d",
  "from_ts": 879896711382,
  "to_ts": 1020650602296
}
2025-09-04 14:19:48,799 - logging_config - INFO - websocket_handlers.py:747 - [TIMESTAMP DEBUG] websocket_handlers.py - Received timestamps:
2025-09-04 14:19:48,799 - logging_config - INFO - websocket_handlers.py:748 -   from_ts: 879896711382 (type: <class 'int'>)
2025-09-04 14:19:48,799 - logging_config - INFO - websocket_handlers.py:749 -   to_ts: 1020650602296 (type: <class 'int'>)
2025-09-04 14:19:48,799 - logging_config - WARNING - websocket_handlers.py:769 - [TIMESTAMP DEBUG] from_ts 879896711382 appears to be in MILLISECONDS (should be seconds)
2025-09-04 14:19:48,799 - logging_config - INFO - websocket_handlers.py:770 -   Converting to seconds: 879896711
2025-09-04 14:19:48,799 - logging_config - INFO - websocket_handlers.py:774 - [TIMESTAMP CONVERSION] Client milliseconds -> Server seconds:
2025-09-04 14:19:48,799 - logging_config - INFO - websocket_handlers.py:775 -   879896711382 -> 879896711 (1997-11-18 23:45:11 UTC)
2025-09-04 14:19:48,799 - logging_config - INFO - websocket_handlers.py:776 -   1020650602296 -> 1020650602 (2002-05-06 02:03:22 UTC)
2025-09-04 14:19:48,799 - logging_config - INFO - websocket_handlers.py:795 - [TIMESTAMP FIX] Final timestamps set:
2025-09-04 14:19:48,800 - logging_config - INFO - websocket_handlers.py:796 -   from_ts: 879896711 (type: <class 'int'>)
2025-09-04 14:19:48,800 - logging_config - INFO - websocket_handlers.py:797 -   to_ts: 1020650602 (type: <class 'int'>)
2025-09-04 14:19:48,800 - logging_config - INFO - websocket_handlers.py:807 - Client config updated for PAXGUSDT: indicators=['macd', 'rsi', 'stochrsi_9_3'], resolution=1d
2025-09-04 14:19:48,800 - logging_config - INFO - websocket_handlers.py:808 - üìä MESSAGE FIELD VALUES for PAXGUSDT:
2025-09-04 14:19:48,800 - logging_config - INFO - websocket_handlers.py:809 -   symbol: PAXGUSDT (fallback: PAXGUSDT)
2025-09-04 14:19:48,800 - logging_config - INFO - websocket_handlers.py:810 -   from_ts: 879896711382 (type: <class 'int'>)
2025-09-04 14:19:48,800 - logging_config - INFO - websocket_handlers.py:811 -   to_ts: 1020650602296 (type: <class 'int'>)
2025-09-04 14:19:48,800 - logging_config - INFO - websocket_handlers.py:812 -   indicators: ['macd', 'rsi', 'stochrsi_9_3'] (type: <class 'list'>)
2025-09-04 14:19:48,800 - logging_config - INFO - websocket_handlers.py:813 -   resolution: 1d (type: <class 'str'>)
2025-09-04 14:19:48,800 - logging_config - INFO - websocket_handlers.py:819 - üìä SERVER TIME RANGE ANALYSIS for PAXGUSDT:
2025-09-04 14:19:48,801 - logging_config - INFO - websocket_handlers.py:820 -   Old range: from_ts=903140066, to_ts=1007420313
2025-09-04 14:19:48,801 - logging_config - INFO - websocket_handlers.py:821 -   New range: from_ts=879896711, to_ts=1020650602
2025-09-04 14:19:48,801 - logging_config - INFO - websocket_handlers.py:822 -   Time range changed: True
2025-09-04 14:19:48,801 - logging_config - INFO - websocket_handlers.py:823 -   Historical sent: True
2025-09-04 14:19:48,801 - logging_config - INFO - websocket_handlers.py:824 -   Has timestamps: from_ts=True, to_ts=True
2025-09-04 14:19:48,801 - logging_config - INFO - websocket_handlers.py:843 -   üìÖ SERVER RECEIVED RANGE (UTC):
2025-09-04 14:19:48,801 - logging_config - INFO - websocket_handlers.py:844 -     From: 1997-11-18 23:45:11 UTC (879896711)
2025-09-04 14:19:48,801 - logging_config - INFO - websocket_handlers.py:845 -     To: 2002-05-06 02:03:22 UTC (1020650602)
2025-09-04 14:19:48,801 - logging_config - INFO - websocket_handlers.py:846 -     Range: 140753891 seconds (39098.3 hours)
2025-09-04 14:19:48,802 - logging_config - INFO - websocket_handlers.py:848 -   üìÖ SERVER RECEIVED RANGE (Local Time):
2025-09-04 14:19:48,802 - logging_config - INFO - websocket_handlers.py:849 -     From: 1997-11-19 01:45:11 Central Europe Summer Time
2025-09-04 14:19:48,802 - logging_config - INFO - websocket_handlers.py:850 -     To: 2002-05-06 04:03:22 Central Europe Summer Time
2025-09-04 14:19:48,802 - logging_config - INFO - websocket_handlers.py:853 -   üåç TIMEZONE ANALYSIS:
2025-09-04 14:19:48,802 - logging_config - INFO - websocket_handlers.py:854 -     Server timezone: Central Europe Summer Time (UTC+2.0)
2025-09-04 14:19:48,803 - logging_config - INFO - websocket_handlers.py:855 -     User timezone (from logs): Europe/Ljubljana (UTC+2)
2025-09-04 14:19:48,803 - logging_config - INFO - websocket_handlers.py:856 -     Timezone difference: 0.0 hours
2025-09-04 14:19:48,803 - logging_config - INFO - websocket_handlers.py:859 -   üì§ DATA TO BE SENT TO CLIENT:
2025-09-04 14:19:48,803 - logging_config - INFO - websocket_handlers.py:860 -     Timestamps will be sent as seconds (not milliseconds)
2025-09-04 14:19:48,803 - logging_config - INFO - websocket_handlers.py:861 -     Client will receive: from_ts=879896711, to_ts=1020650602
2025-09-04 14:19:48,803 - logging_config - INFO - websocket_handlers.py:862 -     Client local time equivalent: 1997-11-19 01:45:11 to 2002-05-06 04:03:22
2025-09-04 14:19:48,803 - logging_config - INFO - websocket_handlers.py:867 -   üìä USER'S CHART VIEW STATE:
2025-09-04 14:19:48,803 - logging_config - INFO - websocket_handlers.py:868 -     X-Axis Min: 30/08/2025, 10:31:39
2025-09-04 14:19:48,803 - logging_config - INFO - websocket_handlers.py:869 -     X-Axis Max: 04/09/2025, 01:58:37
2025-09-04 14:19:48,803 - logging_config - INFO - websocket_handlers.py:870 -     Expected local time range: 2025-08-30 10:31 to 2025-09-04 01:58
2025-09-04 14:19:48,803 - logging_config - INFO - websocket_handlers.py:871 -     Server received UTC equivalent: 1997-11-18 23:45 to 2002-05-06 02:03
2025-09-04 14:19:48,804 - logging_config - INFO - websocket_handlers.py:881 - Should send historical data: 1020650602
2025-09-04 14:19:48,804 - logging_config - INFO - websocket_handlers.py:884 - Sending historical data for PAXGUSDT - time range changed: True, historical_sent: True
2025-09-04 14:19:48,804 - logging_config - INFO - websocket_handlers.py:309 - Sending historical data for PAXGUSDT with indicators: ['macd', 'rsi', 'stochrsi_9_3']
2025-09-04 14:19:48,804 - logging_config - INFO - websocket_handlers.py:310 - Time range: from_ts=879896711, to_ts=1020650602, resolution=1d
2025-09-04 14:19:48,804 - logging_config - INFO - websocket_handlers.py:320 - WebSocket session email found: klemenzivkovic@gmail.com
2025-09-04 14:19:48,804 - logging_config - INFO - websocket_handlers.py:325 - Looking for drawings: symbol=PAXGUSDT, resolution=1d, email=klemenzivkovic@gmail.com
2025-09-04 14:19:48,804 - logging_config - INFO - websocket_handlers.py:330 - Redis key for drawings: drawings:klemenzivkovic@gmail.com:PAXGUSDT
2025-09-04 14:19:48,805 - logging_config - INFO - drawing_manager.py:60 - get_drawings for PAXGUSDT with resolution '1d': found 4 total, returning 4 filtered.
2025-09-04 14:19:48,805 - logging_config - INFO - websocket_handlers.py:339 - Sending 4 existing drawings for PAXGUSDT
2025-09-04 14:19:48,805 - logging_config - INFO - websocket_handlers.py:345 - Sending drawing (4) message: {'type': 'drawings', 'symbol': 'PAXGUSDT', 'data': [{'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1749504979, 'end_time': 1757034460, 'start_price': 3498.39837005988, 'end_price': 3360.406707317073, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': {'buyOnCross': False, 'sellOnCross': False, 'sendEmailOnCross': True}, 'id': '23a034a5-9e91-488c-a076-b1dc9fa49f8f'}, {'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1750519797, 'end_time': 1756969828, 'start_price': 3263.9115544910173, 'end_price': 3290.8273239708183, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': {'buyOnCross': False, 'sellOnCross': False, 'sendEmailOnCross': True}, 'id': 'baf77e17-16dc-4817-b3ea-430467fa3a06'}, {'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1742353742, 'end_time': 1759291109, 'start_price': 3597.298721036928, 'end_price': 3334.7182204260644, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': None, 'id': '30d5ab26-ece7-434c-b489-9aeeccb27e56'}, {'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1739775769, 'end_time': 1755240008, 'start_price': 3168.595862896743, 'end_price': 3270.412791705037, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': None, 'id': '56ea858d-8f15-4f9d-a3ef-249b5e232b7a'}]}
2025-09-04 14:19:48,805 - logging_config - INFO - websocket_handlers.py:347 - Successfully sent drawings message to client
2025-09-04 14:19:48,805 - logging_config - INFO - redis_utils.py:103 - Querying sorted set 'zset:kline:PAXGUSDT:1d' for range [879896711, 1020650602]
2025-09-04 14:19:48,805 - logging_config - INFO - redis_utils.py:106 - [TIMESTAMP DEBUG] redis_utils.py - get_cached_klines query:
2025-09-04 14:19:48,806 - logging_config - INFO - redis_utils.py:107 -   start_ts: 879896711 (type: <class 'int'>)
2025-09-04 14:19:48,806 - logging_config - INFO - redis_utils.py:108 -   end_ts: 1020650602 (type: <class 'int'>)
2025-09-04 14:19:48,806 - logging_config - INFO - redis_utils.py:115 - [TIMESTAMP DEBUG] start_ts 879896711 appears to be in SECONDS (correct for Redis)
2025-09-04 14:19:48,806 - logging_config - INFO - redis_utils.py:120 - [TIMESTAMP DEBUG] Checking Redis data sample for comparison...
2025-09-04 14:19:48,806 - logging_config - WARNING - redis_utils.py:129 - No data returned from zrangebyscore for key 'zset:kline:PAXGUSDT:1d' with range [879896711, 1020650602]. Checking if key exists and has members...
2025-09-04 14:19:48,807 - logging_config - INFO - redis_utils.py:132 - Key 'zset:kline:PAXGUSDT:1d': Exists? 1, Cardinality: 1000
2025-09-04 14:19:48,807 - logging_config - INFO - redis_utils.py:134 - Fetching all members from 'zset:kline:PAXGUSDT:1d' to inspect scores, as zrangebyscore returned empty for range [879896711, 1020650602].
2025-09-04 14:19:48,812 - logging_config - INFO - redis_utils.py:137 - All members in '{sorted_set_key}' (first 5 shown if many):
2025-09-04 14:19:48,812 - logging_config - INFO - redis_utils.py:139 -   Member: {"time": 1670630400, "open": 1788.0, "high": 1791.0, "low": 1781.0, "close": 1787.0, "vol": 54.645}..., Score: 1670630400.0 (datetime: 2022-12-10 00:00:00+00:00)
2025-09-04 14:19:48,812 - logging_config - INFO - redis_utils.py:139 -   Member: {"time": 1670716800, "open": 1787.0, "high": 1802.0, "low": 1785.0, "close": 1798.0, "vol": 130.347}..., Score: 1670716800.0 (datetime: 2022-12-11 00:00:00+00:00)
2025-09-04 14:19:48,812 - logging_config - INFO - redis_utils.py:139 -   Member: {"time": 1670803200, "open": 1798.0, "high": 1798.0, "low": 1777.0, "close": 1783.0, "vol": 112.461}..., Score: 1670803200.0 (datetime: 2022-12-12 00:00:00+00:00)
2025-09-04 14:19:48,812 - logging_config - INFO - redis_utils.py:139 -   Member: {"time": 1670889600, "open": 1783.0, "high": 1815.0, "low": 1777.0, "close": 1807.0, "vol": 128.112}..., Score: 1670889600.0 (datetime: 2022-12-13 00:00:00+00:00)
2025-09-04 14:19:48,812 - logging_config - INFO - redis_utils.py:139 -   Member: {"time": 1670976000, "open": 1807.0, "high": 1820.0, "low": 1789.0, "close": 1802.0, "vol": 138.043}..., Score: 1670976000.0 (datetime: 2022-12-14 00:00:00+00:00)
2025-09-04 14:19:48,813 - logging_config - INFO - redis_utils.py:140 -   ... and 995 more members.
2025-09-04 14:19:48,813 - logging_config - INFO - redis_utils.py:159 - Found 0 cached klines for PAXGUSDT 1d between 879896711 and 1020650602
2025-09-04 14:19:48,813 - logging_config - INFO - websocket_handlers.py:362 - ‚úÖ REDIS SUCCESS: Retrieved 0 klines from Redis for PAXGUSDT
2025-09-04 14:19:48,813 - logging_config - WARNING - websocket_handlers.py:370 - ‚ö†Ô∏è No historical klines found in Redis cache for PAXGUSDT
2025-09-04 14:19:48,813 - logging_config - INFO - websocket_handlers.py:371 - üîÑ FALLBACK: Attempting to fetch data from Bybit API for PAXGUSDT
2025-09-04 14:19:48,813 - logging_config - INFO - websocket_handlers.py:378 - üì° FETCHING FROM BYBIT: PAXGUSDT 1d from 879896711 to 1020650602
2025-09-04 14:19:48,999 - logging_config - INFO - redis_utils.py:340 - No more data available from Bybit for PAXGUSDT 1d at batch #1
2025-09-04 14:19:48,999 - logging_config - WARNING - websocket_handlers.py:391 - ‚ùå BYBIT FAILURE: No data fetched from Bybit for PAXGUSDT
2025-09-04 14:19:49,107 - logging_config - INFO - websocket_handlers.py:742 - üì® RAW MESSAGE RECEIVED for PAXGUSDT: {
  "type": "config",
  "symbol": "PAXGUSDT",
  "indicators": [
    "macd",
    "rsi",
    "stochrsi_9_3"
  ],
  "resolution": "1d",
  "from_ts": 879896711382,
  "to_ts": 1020650602296
}
2025-09-04 14:19:49,107 - logging_config - INFO - websocket_handlers.py:747 - [TIMESTAMP DEBUG] websocket_handlers.py - Received timestamps:
2025-09-04 14:19:49,107 - logging_config - INFO - websocket_handlers.py:748 -   from_ts: 879896711382 (type: <class 'int'>)
2025-09-04 14:19:49,107 - logging_config - INFO - websocket_handlers.py:749 -   to_ts: 1020650602296 (type: <class 'int'>)
2025-09-04 14:19:49,107 - logging_config - WARNING - websocket_handlers.py:769 - [TIMESTAMP DEBUG] from_ts 879896711382 appears to be in MILLISECONDS (should be seconds)
2025-09-04 14:19:49,107 - logging_config - INFO - websocket_handlers.py:770 -   Converting to seconds: 879896711
2025-09-04 14:19:49,107 - logging_config - INFO - websocket_handlers.py:774 - [TIMESTAMP CONVERSION] Client milliseconds -> Server seconds:
2025-09-04 14:19:49,107 - logging_config - INFO - websocket_handlers.py:775 -   879896711382 -> 879896711 (1997-11-18 23:45:11 UTC)
2025-09-04 14:19:49,107 - logging_config - INFO - websocket_handlers.py:776 -   1020650602296 -> 1020650602 (2002-05-06 02:03:22 UTC)
2025-09-04 14:19:49,107 - logging_config - INFO - websocket_handlers.py:795 - [TIMESTAMP FIX] Final timestamps set:
2025-09-04 14:19:49,107 - logging_config - INFO - websocket_handlers.py:796 -   from_ts: 879896711 (type: <class 'int'>)
2025-09-04 14:19:49,107 - logging_config - INFO - websocket_handlers.py:797 -   to_ts: 1020650602 (type: <class 'int'>)
2025-09-04 14:19:49,107 - logging_config - INFO - websocket_handlers.py:807 - Client config updated for PAXGUSDT: indicators=['macd', 'rsi', 'stochrsi_9_3'], resolution=1d
2025-09-04 14:19:49,108 - logging_config - INFO - websocket_handlers.py:808 - üìä MESSAGE FIELD VALUES for PAXGUSDT:
2025-09-04 14:19:49,108 - logging_config - INFO - websocket_handlers.py:809 -   symbol: PAXGUSDT (fallback: PAXGUSDT)
2025-09-04 14:19:49,108 - logging_config - INFO - websocket_handlers.py:810 -   from_ts: 879896711382 (type: <class 'int'>)
2025-09-04 14:19:49,108 - logging_config - INFO - websocket_handlers.py:811 -   to_ts: 1020650602296 (type: <class 'int'>)
2025-09-04 14:19:49,108 - logging_config - INFO - websocket_handlers.py:812 -   indicators: ['macd', 'rsi', 'stochrsi_9_3'] (type: <class 'list'>)
2025-09-04 14:19:49,108 - logging_config - INFO - websocket_handlers.py:813 -   resolution: 1d (type: <class 'str'>)
2025-09-04 14:19:49,108 - logging_config - INFO - websocket_handlers.py:819 - üìä SERVER TIME RANGE ANALYSIS for PAXGUSDT:
2025-09-04 14:19:49,108 - logging_config - INFO - websocket_handlers.py:820 -   Old range: from_ts=879896711, to_ts=1020650602
2025-09-04 14:19:49,108 - logging_config - INFO - websocket_handlers.py:821 -   New range: from_ts=879896711, to_ts=1020650602
2025-09-04 14:19:49,108 - logging_config - INFO - websocket_handlers.py:822 -   Time range changed: False
2025-09-04 14:19:49,108 - logging_config - INFO - websocket_handlers.py:823 -   Historical sent: True
2025-09-04 14:19:49,108 - logging_config - INFO - websocket_handlers.py:824 -   Has timestamps: from_ts=True, to_ts=True
2025-09-04 14:19:49,108 - logging_config - INFO - websocket_handlers.py:843 -   üìÖ SERVER RECEIVED RANGE (UTC):
2025-09-04 14:19:49,109 - logging_config - INFO - websocket_handlers.py:844 -     From: 1997-11-18 23:45:11 UTC (879896711)
2025-09-04 14:19:49,109 - logging_config - INFO - websocket_handlers.py:845 -     To: 2002-05-06 02:03:22 UTC (1020650602)
2025-09-04 14:19:49,109 - logging_config - INFO - websocket_handlers.py:846 -     Range: 140753891 seconds (39098.3 hours)
2025-09-04 14:19:49,109 - logging_config - INFO - websocket_handlers.py:848 -   üìÖ SERVER RECEIVED RANGE (Local Time):
2025-09-04 14:19:49,109 - logging_config - INFO - websocket_handlers.py:849 -     From: 1997-11-19 01:45:11 Central Europe Summer Time
2025-09-04 14:19:49,109 - logging_config - INFO - websocket_handlers.py:850 -     To: 2002-05-06 04:03:22 Central Europe Summer Time
2025-09-04 14:19:49,109 - logging_config - INFO - websocket_handlers.py:853 -   üåç TIMEZONE ANALYSIS:
2025-09-04 14:19:49,110 - logging_config - INFO - websocket_handlers.py:854 -     Server timezone: Central Europe Summer Time (UTC+2.0)
2025-09-04 14:19:49,110 - logging_config - INFO - websocket_handlers.py:855 -     User timezone (from logs): Europe/Ljubljana (UTC+2)
2025-09-04 14:19:49,110 - logging_config - INFO - websocket_handlers.py:856 -     Timezone difference: 0.0 hours
2025-09-04 14:19:49,110 - logging_config - INFO - websocket_handlers.py:859 -   üì§ DATA TO BE SENT TO CLIENT:
2025-09-04 14:19:49,110 - logging_config - INFO - websocket_handlers.py:860 -     Timestamps will be sent as seconds (not milliseconds)
2025-09-04 14:19:49,110 - logging_config - INFO - websocket_handlers.py:861 -     Client will receive: from_ts=879896711, to_ts=1020650602
2025-09-04 14:19:49,110 - logging_config - INFO - websocket_handlers.py:862 -     Client local time equivalent: 1997-11-19 01:45:11 to 2002-05-06 04:03:22
2025-09-04 14:19:49,110 - logging_config - INFO - websocket_handlers.py:867 -   üìä USER'S CHART VIEW STATE:
2025-09-04 14:19:49,110 - logging_config - INFO - websocket_handlers.py:868 -     X-Axis Min: 30/08/2025, 10:31:39
2025-09-04 14:19:49,110 - logging_config - INFO - websocket_handlers.py:869 -     X-Axis Max: 04/09/2025, 01:58:37
2025-09-04 14:19:49,110 - logging_config - INFO - websocket_handlers.py:870 -     Expected local time range: 2025-08-30 10:31 to 2025-09-04 01:58
2025-09-04 14:19:49,111 - logging_config - INFO - websocket_handlers.py:871 -     Server received UTC equivalent: 1997-11-18 23:45 to 2002-05-06 02:03
2025-09-04 14:19:49,111 - logging_config - INFO - websocket_handlers.py:881 - Should send historical data: False
2025-09-04 14:19:49,111 - logging_config - INFO - websocket_handlers.py:887 - NOT sending historical data for PAXGUSDT - conditions not met
2025-09-04 14:19:49,111 - logging_config - INFO - websocket_handlers.py:505 - Starting live stream for PAXGUSDT from Redis stream: stream:kline:PAXGUSDT:1d
2025-09-04 14:19:49,276 - logging_config - INFO - websocket_handlers.py:742 - üì® RAW MESSAGE RECEIVED for PAXGUSDT: {
  "type": "config",
  "symbol": "PAXGUSDT",
  "indicators": [
    "macd",
    "rsi",
    "stochrsi_9_3"
  ],
  "resolution": "1d",
  "from_ts": 879896711382,
  "to_ts": 1020650602296
}
2025-09-04 14:19:49,276 - logging_config - INFO - websocket_handlers.py:747 - [TIMESTAMP DEBUG] websocket_handlers.py - Received timestamps:
2025-09-04 14:19:49,276 - logging_config - INFO - websocket_handlers.py:748 -   from_ts: 879896711382 (type: <class 'int'>)
2025-09-04 14:19:49,276 - logging_config - INFO - websocket_handlers.py:749 -   to_ts: 1020650602296 (type: <class 'int'>)
2025-09-04 14:19:49,276 - logging_config - WARNING - websocket_handlers.py:769 - [TIMESTAMP DEBUG] from_ts 879896711382 appears to be in MILLISECONDS (should be seconds)
2025-09-04 14:19:49,276 - logging_config - INFO - websocket_handlers.py:770 -   Converting to seconds: 879896711
2025-09-04 14:19:49,276 - logging_config - INFO - websocket_handlers.py:774 - [TIMESTAMP CONVERSION] Client milliseconds -> Server seconds:
2025-09-04 14:19:49,277 - logging_config - INFO - websocket_handlers.py:775 -   879896711382 -> 879896711 (1997-11-18 23:45:11 UTC)
2025-09-04 14:19:49,277 - logging_config - INFO - websocket_handlers.py:776 -   1020650602296 -> 1020650602 (2002-05-06 02:03:22 UTC)
2025-09-04 14:19:49,277 - logging_config - INFO - websocket_handlers.py:795 - [TIMESTAMP FIX] Final timestamps set:
2025-09-04 14:19:49,277 - logging_config - INFO - websocket_handlers.py:796 -   from_ts: 879896711 (type: <class 'int'>)
2025-09-04 14:19:49,277 - logging_config - INFO - websocket_handlers.py:797 -   to_ts: 1020650602 (type: <class 'int'>)
2025-09-04 14:19:49,277 - logging_config - INFO - websocket_handlers.py:807 - Client config updated for PAXGUSDT: indicators=['macd', 'rsi', 'stochrsi_9_3'], resolution=1d
2025-09-04 14:19:49,278 - logging_config - INFO - websocket_handlers.py:808 - üìä MESSAGE FIELD VALUES for PAXGUSDT:
2025-09-04 14:19:49,278 - logging_config - INFO - websocket_handlers.py:809 -   symbol: PAXGUSDT (fallback: PAXGUSDT)
2025-09-04 14:19:49,278 - logging_config - INFO - websocket_handlers.py:810 -   from_ts: 879896711382 (type: <class 'int'>)
2025-09-04 14:19:49,278 - logging_config - INFO - websocket_handlers.py:811 -   to_ts: 1020650602296 (type: <class 'int'>)
2025-09-04 14:19:49,278 - logging_config - INFO - websocket_handlers.py:812 -   indicators: ['macd', 'rsi', 'stochrsi_9_3'] (type: <class 'list'>)
2025-09-04 14:19:49,278 - logging_config - INFO - websocket_handlers.py:813 -   resolution: 1d (type: <class 'str'>)
2025-09-04 14:19:49,278 - logging_config - INFO - websocket_handlers.py:819 - üìä SERVER TIME RANGE ANALYSIS for PAXGUSDT:
2025-09-04 14:19:49,278 - logging_config - INFO - websocket_handlers.py:820 -   Old range: from_ts=879896711, to_ts=1020650602
2025-09-04 14:19:49,278 - logging_config - INFO - websocket_handlers.py:821 -   New range: from_ts=879896711, to_ts=1020650602
2025-09-04 14:19:49,278 - logging_config - INFO - websocket_handlers.py:822 -   Time range changed: False
2025-09-04 14:19:49,279 - logging_config - INFO - websocket_handlers.py:823 -   Historical sent: True
2025-09-04 14:19:49,279 - logging_config - INFO - websocket_handlers.py:824 -   Has timestamps: from_ts=True, to_ts=True
2025-09-04 14:19:49,279 - logging_config - INFO - websocket_handlers.py:843 -   üìÖ SERVER RECEIVED RANGE (UTC):
2025-09-04 14:19:49,279 - logging_config - INFO - websocket_handlers.py:844 -     From: 1997-11-18 23:45:11 UTC (879896711)
2025-09-04 14:19:49,279 - logging_config - INFO - websocket_handlers.py:845 -     To: 2002-05-06 02:03:22 UTC (1020650602)
2025-09-04 14:19:49,279 - logging_config - INFO - websocket_handlers.py:846 -     Range: 140753891 seconds (39098.3 hours)
2025-09-04 14:19:49,279 - logging_config - INFO - websocket_handlers.py:848 -   üìÖ SERVER RECEIVED RANGE (Local Time):
2025-09-04 14:19:49,279 - logging_config - INFO - websocket_handlers.py:849 -     From: 1997-11-19 01:45:11 Central Europe Summer Time
2025-09-04 14:19:49,279 - logging_config - INFO - websocket_handlers.py:850 -     To: 2002-05-06 04:03:22 Central Europe Summer Time
2025-09-04 14:19:49,279 - logging_config - INFO - websocket_handlers.py:853 -   üåç TIMEZONE ANALYSIS:
2025-09-04 14:19:49,279 - logging_config - INFO - websocket_handlers.py:854 -     Server timezone: Central Europe Summer Time (UTC+2.0)
2025-09-04 14:19:49,279 - logging_config - INFO - websocket_handlers.py:855 -     User timezone (from logs): Europe/Ljubljana (UTC+2)
2025-09-04 14:19:49,279 - logging_config - INFO - websocket_handlers.py:856 -     Timezone difference: 0.0 hours
2025-09-04 14:19:49,279 - logging_config - INFO - websocket_handlers.py:859 -   üì§ DATA TO BE SENT TO CLIENT:
2025-09-04 14:19:49,279 - logging_config - INFO - websocket_handlers.py:860 -     Timestamps will be sent as seconds (not milliseconds)
2025-09-04 14:19:49,280 - logging_config - INFO - websocket_handlers.py:861 -     Client will receive: from_ts=879896711, to_ts=1020650602
2025-09-04 14:19:49,280 - logging_config - INFO - websocket_handlers.py:862 -     Client local time equivalent: 1997-11-19 01:45:11 to 2002-05-06 04:03:22
2025-09-04 14:19:49,280 - logging_config - INFO - websocket_handlers.py:867 -   üìä USER'S CHART VIEW STATE:
2025-09-04 14:19:49,280 - logging_config - INFO - websocket_handlers.py:868 -     X-Axis Min: 30/08/2025, 10:31:39
2025-09-04 14:19:49,280 - logging_config - INFO - websocket_handlers.py:869 -     X-Axis Max: 04/09/2025, 01:58:37
2025-09-04 14:19:49,280 - logging_config - INFO - websocket_handlers.py:870 -     Expected local time range: 2025-08-30 10:31 to 2025-09-04 01:58
2025-09-04 14:19:49,280 - logging_config - INFO - websocket_handlers.py:871 -     Server received UTC equivalent: 1997-11-18 23:45 to 2002-05-06 02:03
2025-09-04 14:19:49,280 - logging_config - INFO - websocket_handlers.py:881 - Should send historical data: False
2025-09-04 14:19:49,280 - logging_config - INFO - websocket_handlers.py:887 - NOT sending historical data for PAXGUSDT - conditions not met
2025-09-04 14:19:49,281 - logging_config - INFO - websocket_handlers.py:505 - Starting live stream for PAXGUSDT from Redis stream: stream:kline:PAXGUSDT:1d
2025-09-04 14:19:49,994 - logging_config - INFO - utility_endpoints.py:168 - POST /settings: RAW data received from client for symbol 'PAXGUSDT': {'symbol': 'PAXGUSDT', 'resolution': '1d', 'range': '3m', 'xAxisMin': 951580159540, 'xAxisMax': 1021953504997, 'yAxisMin': -1.9749542229940475, 'yAxisMax': 9.152750419468294, 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'useLocalOllama': False, 'localOllamaModelName': '', 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3'], 'liveDataEnabled': False, 'showAgentTrades': False, 'streamDeltaTime': 1, 'last_selected_symbol': 'PAXGUSDT'}
2025-09-04 14:19:49,994 - logging_config - INFO - utility_endpoints.py:199 - POST /settings for PAXGUSDT and email klemenzivkovic@gmail.com: current_symbol_settings compiled for Redis save: {'resolution': '1d', 'range': '3m', 'xAxisMin': 951580159540, 'xAxisMax': 1021953504997, 'yAxisMin': -1.9749542229940475, 'yAxisMax': 9.152750419468294, 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3'], 'liveDataEnabled': False, 'streamDeltaTime': 1, 'useLocalOllama': False, 'localOllamaModelName': '', 'showAgentTrades': False, 'symbol': 'PAXGUSDT', 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'last_selected_symbol': 'PAXGUSDT'}
2025-09-04 14:19:49,995 - logging_config - INFO - utility_endpoints.py:201 - POST /settings for PAXGUSDT: Client sent streamDeltaTime: 1. Value to be saved in Redis for streamDeltaTime: 1
2025-09-04 14:19:49,995 - logging_config - INFO - utility_endpoints.py:204 - POST /settings for PAXGUSDT and email klemenzivkovic@gmail.com: Settings updated in Redis for PAXGUSDT: {'resolution': '1d', 'range': '3m', 'xAxisMin': 951580159540, 'xAxisMax': 1021953504997, 'yAxisMin': -1.9749542229940475, 'yAxisMax': 9.152750419468294, 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3'], 'liveDataEnabled': False, 'streamDeltaTime': 1, 'useLocalOllama': False, 'localOllamaModelName': '', 'showAgentTrades': False, 'symbol': 'PAXGUSDT', 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'last_selected_symbol': 'PAXGUSDT'}
2025-09-04 14:19:50,503 - logging_config - INFO - websocket_handlers.py:742 - üì® RAW MESSAGE RECEIVED for PAXGUSDT: {
  "type": "config",
  "symbol": "PAXGUSDT",
  "indicators": [
    "macd",
    "rsi",
    "stochrsi_9_3"
  ],
  "resolution": "1d",
  "from_ts": 916393486811,
  "to_ts": 1057140177725
}
2025-09-04 14:19:50,503 - logging_config - INFO - websocket_handlers.py:747 - [TIMESTAMP DEBUG] websocket_handlers.py - Received timestamps:
2025-09-04 14:19:50,503 - logging_config - INFO - websocket_handlers.py:748 -   from_ts: 916393486811 (type: <class 'int'>)
2025-09-04 14:19:50,503 - logging_config - INFO - websocket_handlers.py:749 -   to_ts: 1057140177725 (type: <class 'int'>)
2025-09-04 14:19:50,503 - logging_config - WARNING - websocket_handlers.py:769 - [TIMESTAMP DEBUG] from_ts 916393486811 appears to be in MILLISECONDS (should be seconds)
2025-09-04 14:19:50,504 - logging_config - INFO - websocket_handlers.py:770 -   Converting to seconds: 916393486
2025-09-04 14:19:50,504 - logging_config - INFO - websocket_handlers.py:774 - [TIMESTAMP CONVERSION] Client milliseconds -> Server seconds:
2025-09-04 14:19:50,504 - logging_config - INFO - websocket_handlers.py:775 -   916393486811 -> 916393486 (1999-01-15 09:44:46 UTC)
2025-09-04 14:19:50,504 - logging_config - INFO - websocket_handlers.py:776 -   1057140177725 -> 1057140177 (2003-07-02 10:02:57 UTC)
2025-09-04 14:19:50,504 - logging_config - INFO - websocket_handlers.py:795 - [TIMESTAMP FIX] Final timestamps set:
2025-09-04 14:19:50,504 - logging_config - INFO - websocket_handlers.py:796 -   from_ts: 916393486 (type: <class 'int'>)
2025-09-04 14:19:50,504 - logging_config - INFO - websocket_handlers.py:797 -   to_ts: 1057140177 (type: <class 'int'>)
2025-09-04 14:19:50,504 - logging_config - INFO - websocket_handlers.py:807 - Client config updated for PAXGUSDT: indicators=['macd', 'rsi', 'stochrsi_9_3'], resolution=1d
2025-09-04 14:19:50,504 - logging_config - INFO - websocket_handlers.py:808 - üìä MESSAGE FIELD VALUES for PAXGUSDT:
2025-09-04 14:19:50,504 - logging_config - INFO - websocket_handlers.py:809 -   symbol: PAXGUSDT (fallback: PAXGUSDT)
2025-09-04 14:19:50,504 - logging_config - INFO - websocket_handlers.py:810 -   from_ts: 916393486811 (type: <class 'int'>)
2025-09-04 14:19:50,504 - logging_config - INFO - websocket_handlers.py:811 -   to_ts: 1057140177725 (type: <class 'int'>)
2025-09-04 14:19:50,504 - logging_config - INFO - websocket_handlers.py:812 -   indicators: ['macd', 'rsi', 'stochrsi_9_3'] (type: <class 'list'>)
2025-09-04 14:19:50,504 - logging_config - INFO - websocket_handlers.py:813 -   resolution: 1d (type: <class 'str'>)
2025-09-04 14:19:50,505 - logging_config - INFO - websocket_handlers.py:819 - üìä SERVER TIME RANGE ANALYSIS for PAXGUSDT:
2025-09-04 14:19:50,505 - logging_config - INFO - websocket_handlers.py:820 -   Old range: from_ts=879896711, to_ts=1020650602
2025-09-04 14:19:50,505 - logging_config - INFO - websocket_handlers.py:821 -   New range: from_ts=916393486, to_ts=1057140177
2025-09-04 14:19:50,505 - logging_config - INFO - websocket_handlers.py:822 -   Time range changed: True
2025-09-04 14:19:50,505 - logging_config - INFO - websocket_handlers.py:823 -   Historical sent: True
2025-09-04 14:19:50,505 - logging_config - INFO - websocket_handlers.py:824 -   Has timestamps: from_ts=True, to_ts=True
2025-09-04 14:19:50,505 - logging_config - INFO - websocket_handlers.py:843 -   üìÖ SERVER RECEIVED RANGE (UTC):
2025-09-04 14:19:50,505 - logging_config - INFO - websocket_handlers.py:844 -     From: 1999-01-15 09:44:46 UTC (916393486)
2025-09-04 14:19:50,505 - logging_config - INFO - websocket_handlers.py:845 -     To: 2003-07-02 10:02:57 UTC (1057140177)
2025-09-04 14:19:50,505 - logging_config - INFO - websocket_handlers.py:846 -     Range: 140746691 seconds (39096.3 hours)
2025-09-04 14:19:50,505 - logging_config - INFO - websocket_handlers.py:848 -   üìÖ SERVER RECEIVED RANGE (Local Time):
2025-09-04 14:19:50,505 - logging_config - INFO - websocket_handlers.py:849 -     From: 1999-01-15 11:44:46 Central Europe Summer Time
2025-09-04 14:19:50,505 - logging_config - INFO - websocket_handlers.py:850 -     To: 2003-07-02 12:02:57 Central Europe Summer Time
2025-09-04 14:19:50,505 - logging_config - INFO - websocket_handlers.py:853 -   üåç TIMEZONE ANALYSIS:
2025-09-04 14:19:50,505 - logging_config - INFO - websocket_handlers.py:854 -     Server timezone: Central Europe Summer Time (UTC+2.0)
2025-09-04 14:19:50,505 - logging_config - INFO - websocket_handlers.py:855 -     User timezone (from logs): Europe/Ljubljana (UTC+2)
2025-09-04 14:19:50,505 - logging_config - INFO - websocket_handlers.py:856 -     Timezone difference: 0.0 hours
2025-09-04 14:19:50,505 - logging_config - INFO - websocket_handlers.py:859 -   üì§ DATA TO BE SENT TO CLIENT:
2025-09-04 14:19:50,505 - logging_config - INFO - websocket_handlers.py:860 -     Timestamps will be sent as seconds (not milliseconds)
2025-09-04 14:19:50,505 - logging_config - INFO - websocket_handlers.py:861 -     Client will receive: from_ts=916393486, to_ts=1057140177
2025-09-04 14:19:50,505 - logging_config - INFO - websocket_handlers.py:862 -     Client local time equivalent: 1999-01-15 11:44:46 to 2003-07-02 12:02:57
2025-09-04 14:19:50,505 - logging_config - INFO - websocket_handlers.py:867 -   üìä USER'S CHART VIEW STATE:
2025-09-04 14:19:50,506 - logging_config - INFO - websocket_handlers.py:868 -     X-Axis Min: 30/08/2025, 10:31:39
2025-09-04 14:19:50,506 - logging_config - INFO - websocket_handlers.py:869 -     X-Axis Max: 04/09/2025, 01:58:37
2025-09-04 14:19:50,506 - logging_config - INFO - websocket_handlers.py:870 -     Expected local time range: 2025-08-30 10:31 to 2025-09-04 01:58
2025-09-04 14:19:50,506 - logging_config - INFO - websocket_handlers.py:871 -     Server received UTC equivalent: 1999-01-15 09:44 to 2003-07-02 10:02
2025-09-04 14:19:50,506 - logging_config - INFO - websocket_handlers.py:881 - Should send historical data: 1057140177
2025-09-04 14:19:50,506 - logging_config - INFO - websocket_handlers.py:884 - Sending historical data for PAXGUSDT - time range changed: True, historical_sent: True
2025-09-04 14:19:50,506 - logging_config - INFO - websocket_handlers.py:309 - Sending historical data for PAXGUSDT with indicators: ['macd', 'rsi', 'stochrsi_9_3']
2025-09-04 14:19:50,506 - logging_config - INFO - websocket_handlers.py:310 - Time range: from_ts=916393486, to_ts=1057140177, resolution=1d
2025-09-04 14:19:50,506 - logging_config - INFO - websocket_handlers.py:320 - WebSocket session email found: klemenzivkovic@gmail.com
2025-09-04 14:19:50,506 - logging_config - INFO - websocket_handlers.py:325 - Looking for drawings: symbol=PAXGUSDT, resolution=1d, email=klemenzivkovic@gmail.com
2025-09-04 14:19:50,506 - logging_config - INFO - websocket_handlers.py:330 - Redis key for drawings: drawings:klemenzivkovic@gmail.com:PAXGUSDT
2025-09-04 14:19:50,507 - logging_config - INFO - drawing_manager.py:60 - get_drawings for PAXGUSDT with resolution '1d': found 4 total, returning 4 filtered.
2025-09-04 14:19:50,507 - logging_config - INFO - websocket_handlers.py:339 - Sending 4 existing drawings for PAXGUSDT
2025-09-04 14:19:50,507 - logging_config - INFO - websocket_handlers.py:345 - Sending drawing (4) message: {'type': 'drawings', 'symbol': 'PAXGUSDT', 'data': [{'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1749504979, 'end_time': 1757034460, 'start_price': 3498.39837005988, 'end_price': 3360.406707317073, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': {'buyOnCross': False, 'sellOnCross': False, 'sendEmailOnCross': True}, 'id': '23a034a5-9e91-488c-a076-b1dc9fa49f8f'}, {'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1750519797, 'end_time': 1756969828, 'start_price': 3263.9115544910173, 'end_price': 3290.8273239708183, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': {'buyOnCross': False, 'sellOnCross': False, 'sendEmailOnCross': True}, 'id': 'baf77e17-16dc-4817-b3ea-430467fa3a06'}, {'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1742353742, 'end_time': 1759291109, 'start_price': 3597.298721036928, 'end_price': 3334.7182204260644, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': None, 'id': '30d5ab26-ece7-434c-b489-9aeeccb27e56'}, {'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1739775769, 'end_time': 1755240008, 'start_price': 3168.595862896743, 'end_price': 3270.412791705037, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': None, 'id': '56ea858d-8f15-4f9d-a3ef-249b5e232b7a'}]}
2025-09-04 14:19:50,507 - logging_config - INFO - websocket_handlers.py:347 - Successfully sent drawings message to client
2025-09-04 14:19:50,507 - logging_config - INFO - redis_utils.py:103 - Querying sorted set 'zset:kline:PAXGUSDT:1d' for range [916393486, 1057140177]
2025-09-04 14:19:50,507 - logging_config - INFO - redis_utils.py:106 - [TIMESTAMP DEBUG] redis_utils.py - get_cached_klines query:
2025-09-04 14:19:50,507 - logging_config - INFO - redis_utils.py:107 -   start_ts: 916393486 (type: <class 'int'>)
2025-09-04 14:19:50,507 - logging_config - INFO - redis_utils.py:108 -   end_ts: 1057140177 (type: <class 'int'>)
2025-09-04 14:19:50,508 - logging_config - INFO - redis_utils.py:115 - [TIMESTAMP DEBUG] start_ts 916393486 appears to be in SECONDS (correct for Redis)
2025-09-04 14:19:50,508 - logging_config - INFO - redis_utils.py:120 - [TIMESTAMP DEBUG] Checking Redis data sample for comparison...
2025-09-04 14:19:50,508 - logging_config - WARNING - redis_utils.py:129 - No data returned from zrangebyscore for key 'zset:kline:PAXGUSDT:1d' with range [916393486, 1057140177]. Checking if key exists and has members...
2025-09-04 14:19:50,509 - logging_config - INFO - redis_utils.py:132 - Key 'zset:kline:PAXGUSDT:1d': Exists? 1, Cardinality: 1000
2025-09-04 14:19:50,509 - logging_config - INFO - redis_utils.py:134 - Fetching all members from 'zset:kline:PAXGUSDT:1d' to inspect scores, as zrangebyscore returned empty for range [916393486, 1057140177].
2025-09-04 14:19:50,514 - logging_config - INFO - redis_utils.py:137 - All members in '{sorted_set_key}' (first 5 shown if many):
2025-09-04 14:19:50,514 - logging_config - INFO - redis_utils.py:139 -   Member: {"time": 1670630400, "open": 1788.0, "high": 1791.0, "low": 1781.0, "close": 1787.0, "vol": 54.645}..., Score: 1670630400.0 (datetime: 2022-12-10 00:00:00+00:00)
2025-09-04 14:19:50,514 - logging_config - INFO - redis_utils.py:139 -   Member: {"time": 1670716800, "open": 1787.0, "high": 1802.0, "low": 1785.0, "close": 1798.0, "vol": 130.347}..., Score: 1670716800.0 (datetime: 2022-12-11 00:00:00+00:00)
2025-09-04 14:19:50,514 - logging_config - INFO - redis_utils.py:139 -   Member: {"time": 1670803200, "open": 1798.0, "high": 1798.0, "low": 1777.0, "close": 1783.0, "vol": 112.461}..., Score: 1670803200.0 (datetime: 2022-12-12 00:00:00+00:00)
2025-09-04 14:19:50,515 - logging_config - INFO - redis_utils.py:139 -   Member: {"time": 1670889600, "open": 1783.0, "high": 1815.0, "low": 1777.0, "close": 1807.0, "vol": 128.112}..., Score: 1670889600.0 (datetime: 2022-12-13 00:00:00+00:00)
2025-09-04 14:19:50,515 - logging_config - INFO - redis_utils.py:139 -   Member: {"time": 1670976000, "open": 1807.0, "high": 1820.0, "low": 1789.0, "close": 1802.0, "vol": 138.043}..., Score: 1670976000.0 (datetime: 2022-12-14 00:00:00+00:00)
2025-09-04 14:19:50,515 - logging_config - INFO - redis_utils.py:140 -   ... and 995 more members.
2025-09-04 14:19:50,515 - logging_config - INFO - redis_utils.py:159 - Found 0 cached klines for PAXGUSDT 1d between 916393486 and 1057140177
2025-09-04 14:19:50,515 - logging_config - INFO - websocket_handlers.py:362 - ‚úÖ REDIS SUCCESS: Retrieved 0 klines from Redis for PAXGUSDT
2025-09-04 14:19:50,515 - logging_config - WARNING - websocket_handlers.py:370 - ‚ö†Ô∏è No historical klines found in Redis cache for PAXGUSDT
2025-09-04 14:19:50,515 - logging_config - INFO - websocket_handlers.py:371 - üîÑ FALLBACK: Attempting to fetch data from Bybit API for PAXGUSDT
2025-09-04 14:19:50,515 - logging_config - INFO - websocket_handlers.py:378 - üì° FETCHING FROM BYBIT: PAXGUSDT 1d from 916393486 to 1057140177
2025-09-04 14:19:50,689 - logging_config - INFO - redis_utils.py:340 - No more data available from Bybit for PAXGUSDT 1d at batch #1
2025-09-04 14:19:50,689 - logging_config - WARNING - websocket_handlers.py:391 - ‚ùå BYBIT FAILURE: No data fetched from Bybit for PAXGUSDT
2025-09-04 14:19:51,141 - logging_config - INFO - utility_endpoints.py:168 - POST /settings: RAW data received from client for symbol 'PAXGUSDT': {'symbol': 'PAXGUSDT', 'resolution': '1d', 'range': '3m', 'xAxisMin': 1010895382134, 'xAxisMax': 1081268727591, 'yAxisMin': -1.9749542229940475, 'yAxisMax': 9.152750419468294, 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'useLocalOllama': False, 'localOllamaModelName': '', 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3'], 'liveDataEnabled': False, 'showAgentTrades': False, 'streamDeltaTime': 1, 'last_selected_symbol': 'PAXGUSDT'}
2025-09-04 14:19:51,141 - logging_config - INFO - utility_endpoints.py:199 - POST /settings for PAXGUSDT and email klemenzivkovic@gmail.com: current_symbol_settings compiled for Redis save: {'resolution': '1d', 'range': '3m', 'xAxisMin': 1010895382134, 'xAxisMax': 1081268727591, 'yAxisMin': -1.9749542229940475, 'yAxisMax': 9.152750419468294, 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3'], 'liveDataEnabled': False, 'streamDeltaTime': 1, 'useLocalOllama': False, 'localOllamaModelName': '', 'showAgentTrades': False, 'symbol': 'PAXGUSDT', 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'last_selected_symbol': 'PAXGUSDT'}
2025-09-04 14:19:51,143 - logging_config - INFO - utility_endpoints.py:201 - POST /settings for PAXGUSDT: Client sent streamDeltaTime: 1. Value to be saved in Redis for streamDeltaTime: 1
2025-09-04 14:19:51,143 - logging_config - INFO - utility_endpoints.py:204 - POST /settings for PAXGUSDT and email klemenzivkovic@gmail.com: Settings updated in Redis for PAXGUSDT: {'resolution': '1d', 'range': '3m', 'xAxisMin': 1010895382134, 'xAxisMax': 1081268727591, 'yAxisMin': -1.9749542229940475, 'yAxisMax': 9.152750419468294, 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3'], 'liveDataEnabled': False, 'streamDeltaTime': 1, 'useLocalOllama': False, 'localOllamaModelName': '', 'showAgentTrades': False, 'symbol': 'PAXGUSDT', 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'last_selected_symbol': 'PAXGUSDT'}
2025-09-04 14:19:51,655 - logging_config - INFO - websocket_handlers.py:742 - üì® RAW MESSAGE RECEIVED for PAXGUSDT: {
  "type": "config",
  "symbol": "PAXGUSDT",
  "indicators": [
    "macd",
    "rsi",
    "stochrsi_9_3"
  ],
  "resolution": "1d",
  "from_ts": 975708709405,
  "to_ts": 1116455400319
}
2025-09-04 14:19:51,656 - logging_config - INFO - websocket_handlers.py:747 - [TIMESTAMP DEBUG] websocket_handlers.py - Received timestamps:
2025-09-04 14:19:51,656 - logging_config - INFO - websocket_handlers.py:748 -   from_ts: 975708709405 (type: <class 'int'>)
2025-09-04 14:19:51,656 - logging_config - INFO - websocket_handlers.py:749 -   to_ts: 1116455400319 (type: <class 'int'>)
2025-09-04 14:19:51,656 - logging_config - WARNING - websocket_handlers.py:769 - [TIMESTAMP DEBUG] from_ts 975708709405 appears to be in MILLISECONDS (should be seconds)
2025-09-04 14:19:51,656 - logging_config - INFO - websocket_handlers.py:770 -   Converting to seconds: 975708709
2025-09-04 14:19:51,656 - logging_config - INFO - websocket_handlers.py:774 - [TIMESTAMP CONVERSION] Client milliseconds -> Server seconds:
2025-09-04 14:19:51,656 - logging_config - INFO - websocket_handlers.py:775 -   975708709405 -> 975708709 (2000-12-01 22:11:49 UTC)
2025-09-04 14:19:51,656 - logging_config - INFO - websocket_handlers.py:776 -   1116455400319 -> 1116455400 (2005-05-18 22:30:00 UTC)
2025-09-04 14:19:51,657 - logging_config - INFO - websocket_handlers.py:795 - [TIMESTAMP FIX] Final timestamps set:
2025-09-04 14:19:51,657 - logging_config - INFO - websocket_handlers.py:796 -   from_ts: 975708709 (type: <class 'int'>)
2025-09-04 14:19:51,657 - logging_config - INFO - websocket_handlers.py:797 -   to_ts: 1116455400 (type: <class 'int'>)
2025-09-04 14:19:51,657 - logging_config - INFO - websocket_handlers.py:807 - Client config updated for PAXGUSDT: indicators=['macd', 'rsi', 'stochrsi_9_3'], resolution=1d
2025-09-04 14:19:51,657 - logging_config - INFO - websocket_handlers.py:808 - üìä MESSAGE FIELD VALUES for PAXGUSDT:
2025-09-04 14:19:51,657 - logging_config - INFO - websocket_handlers.py:809 -   symbol: PAXGUSDT (fallback: PAXGUSDT)
2025-09-04 14:19:51,657 - logging_config - INFO - websocket_handlers.py:810 -   from_ts: 975708709405 (type: <class 'int'>)
2025-09-04 14:19:51,657 - logging_config - INFO - websocket_handlers.py:811 -   to_ts: 1116455400319 (type: <class 'int'>)
2025-09-04 14:19:51,657 - logging_config - INFO - websocket_handlers.py:812 -   indicators: ['macd', 'rsi', 'stochrsi_9_3'] (type: <class 'list'>)
2025-09-04 14:19:51,657 - logging_config - INFO - websocket_handlers.py:813 -   resolution: 1d (type: <class 'str'>)
2025-09-04 14:19:51,658 - logging_config - INFO - websocket_handlers.py:819 - üìä SERVER TIME RANGE ANALYSIS for PAXGUSDT:
2025-09-04 14:19:51,658 - logging_config - INFO - websocket_handlers.py:820 -   Old range: from_ts=916393486, to_ts=1057140177
2025-09-04 14:19:51,658 - logging_config - INFO - websocket_handlers.py:821 -   New range: from_ts=975708709, to_ts=1116455400
2025-09-04 14:19:51,658 - logging_config - INFO - websocket_handlers.py:822 -   Time range changed: True
2025-09-04 14:19:51,658 - logging_config - INFO - websocket_handlers.py:823 -   Historical sent: True
2025-09-04 14:19:51,658 - logging_config - INFO - websocket_handlers.py:824 -   Has timestamps: from_ts=True, to_ts=True
2025-09-04 14:19:51,658 - logging_config - INFO - websocket_handlers.py:843 -   üìÖ SERVER RECEIVED RANGE (UTC):
2025-09-04 14:19:51,658 - logging_config - INFO - websocket_handlers.py:844 -     From: 2000-12-01 22:11:49 UTC (975708709)
2025-09-04 14:19:51,658 - logging_config - INFO - websocket_handlers.py:845 -     To: 2005-05-18 22:30:00 UTC (1116455400)
2025-09-04 14:19:51,658 - logging_config - INFO - websocket_handlers.py:846 -     Range: 140746691 seconds (39096.3 hours)
2025-09-04 14:19:51,658 - logging_config - INFO - websocket_handlers.py:848 -   üìÖ SERVER RECEIVED RANGE (Local Time):
2025-09-04 14:19:51,658 - logging_config - INFO - websocket_handlers.py:849 -     From: 2000-12-02 00:11:49 Central Europe Summer Time
2025-09-04 14:19:51,659 - logging_config - INFO - websocket_handlers.py:850 -     To: 2005-05-19 00:30:00 Central Europe Summer Time
2025-09-04 14:19:51,659 - logging_config - INFO - websocket_handlers.py:853 -   üåç TIMEZONE ANALYSIS:
2025-09-04 14:19:51,659 - logging_config - INFO - websocket_handlers.py:854 -     Server timezone: Central Europe Summer Time (UTC+2.0)
2025-09-04 14:19:51,659 - logging_config - INFO - websocket_handlers.py:855 -     User timezone (from logs): Europe/Ljubljana (UTC+2)
2025-09-04 14:19:51,659 - logging_config - INFO - websocket_handlers.py:856 -     Timezone difference: 0.0 hours
2025-09-04 14:19:51,659 - logging_config - INFO - websocket_handlers.py:859 -   üì§ DATA TO BE SENT TO CLIENT:
2025-09-04 14:19:51,659 - logging_config - INFO - websocket_handlers.py:860 -     Timestamps will be sent as seconds (not milliseconds)
2025-09-04 14:19:51,659 - logging_config - INFO - websocket_handlers.py:861 -     Client will receive: from_ts=975708709, to_ts=1116455400
2025-09-04 14:19:51,659 - logging_config - INFO - websocket_handlers.py:862 -     Client local time equivalent: 2000-12-02 00:11:49 to 2005-05-19 00:30:00
2025-09-04 14:19:51,659 - logging_config - INFO - websocket_handlers.py:867 -   üìä USER'S CHART VIEW STATE:
2025-09-04 14:19:51,659 - logging_config - INFO - websocket_handlers.py:868 -     X-Axis Min: 30/08/2025, 10:31:39
2025-09-04 14:19:51,659 - logging_config - INFO - websocket_handlers.py:869 -     X-Axis Max: 04/09/2025, 01:58:37
2025-09-04 14:19:51,659 - logging_config - INFO - websocket_handlers.py:870 -     Expected local time range: 2025-08-30 10:31 to 2025-09-04 01:58
2025-09-04 14:19:51,660 - logging_config - INFO - websocket_handlers.py:871 -     Server received UTC equivalent: 2000-12-01 22:11 to 2005-05-18 22:30
2025-09-04 14:19:51,660 - logging_config - INFO - websocket_handlers.py:881 - Should send historical data: 1116455400
2025-09-04 14:19:51,660 - logging_config - INFO - websocket_handlers.py:884 - Sending historical data for PAXGUSDT - time range changed: True, historical_sent: True
2025-09-04 14:19:51,660 - logging_config - INFO - websocket_handlers.py:309 - Sending historical data for PAXGUSDT with indicators: ['macd', 'rsi', 'stochrsi_9_3']
2025-09-04 14:19:51,660 - logging_config - INFO - websocket_handlers.py:310 - Time range: from_ts=975708709, to_ts=1116455400, resolution=1d
2025-09-04 14:19:51,660 - logging_config - INFO - websocket_handlers.py:320 - WebSocket session email found: klemenzivkovic@gmail.com
2025-09-04 14:19:51,660 - logging_config - INFO - websocket_handlers.py:325 - Looking for drawings: symbol=PAXGUSDT, resolution=1d, email=klemenzivkovic@gmail.com
2025-09-04 14:19:51,660 - logging_config - INFO - websocket_handlers.py:330 - Redis key for drawings: drawings:klemenzivkovic@gmail.com:PAXGUSDT
2025-09-04 14:19:51,661 - logging_config - INFO - drawing_manager.py:60 - get_drawings for PAXGUSDT with resolution '1d': found 4 total, returning 4 filtered.
2025-09-04 14:19:51,661 - logging_config - INFO - websocket_handlers.py:339 - Sending 4 existing drawings for PAXGUSDT
2025-09-04 14:19:51,661 - logging_config - INFO - websocket_handlers.py:345 - Sending drawing (4) message: {'type': 'drawings', 'symbol': 'PAXGUSDT', 'data': [{'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1749504979, 'end_time': 1757034460, 'start_price': 3498.39837005988, 'end_price': 3360.406707317073, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': {'buyOnCross': False, 'sellOnCross': False, 'sendEmailOnCross': True}, 'id': '23a034a5-9e91-488c-a076-b1dc9fa49f8f'}, {'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1750519797, 'end_time': 1756969828, 'start_price': 3263.9115544910173, 'end_price': 3290.8273239708183, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': {'buyOnCross': False, 'sellOnCross': False, 'sendEmailOnCross': True}, 'id': 'baf77e17-16dc-4817-b3ea-430467fa3a06'}, {'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1742353742, 'end_time': 1759291109, 'start_price': 3597.298721036928, 'end_price': 3334.7182204260644, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': None, 'id': '30d5ab26-ece7-434c-b489-9aeeccb27e56'}, {'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1739775769, 'end_time': 1755240008, 'start_price': 3168.595862896743, 'end_price': 3270.412791705037, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': None, 'id': '56ea858d-8f15-4f9d-a3ef-249b5e232b7a'}]}
2025-09-04 14:19:51,661 - logging_config - INFO - websocket_handlers.py:347 - Successfully sent drawings message to client
2025-09-04 14:19:51,661 - logging_config - INFO - redis_utils.py:103 - Querying sorted set 'zset:kline:PAXGUSDT:1d' for range [975708709, 1116455400]
2025-09-04 14:19:51,661 - logging_config - INFO - redis_utils.py:106 - [TIMESTAMP DEBUG] redis_utils.py - get_cached_klines query:
2025-09-04 14:19:51,661 - logging_config - INFO - redis_utils.py:107 -   start_ts: 975708709 (type: <class 'int'>)
2025-09-04 14:19:51,663 - logging_config - INFO - redis_utils.py:108 -   end_ts: 1116455400 (type: <class 'int'>)
2025-09-04 14:19:51,663 - logging_config - INFO - redis_utils.py:115 - [TIMESTAMP DEBUG] start_ts 975708709 appears to be in SECONDS (correct for Redis)
2025-09-04 14:19:51,663 - logging_config - INFO - redis_utils.py:120 - [TIMESTAMP DEBUG] Checking Redis data sample for comparison...
2025-09-04 14:19:51,663 - logging_config - WARNING - redis_utils.py:129 - No data returned from zrangebyscore for key 'zset:kline:PAXGUSDT:1d' with range [975708709, 1116455400]. Checking if key exists and has members...
2025-09-04 14:19:51,664 - logging_config - INFO - redis_utils.py:132 - Key 'zset:kline:PAXGUSDT:1d': Exists? 1, Cardinality: 1000
2025-09-04 14:19:51,664 - logging_config - INFO - redis_utils.py:134 - Fetching all members from 'zset:kline:PAXGUSDT:1d' to inspect scores, as zrangebyscore returned empty for range [975708709, 1116455400].
2025-09-04 14:19:51,669 - logging_config - INFO - redis_utils.py:137 - All members in '{sorted_set_key}' (first 5 shown if many):
2025-09-04 14:19:51,669 - logging_config - INFO - redis_utils.py:139 -   Member: {"time": 1670630400, "open": 1788.0, "high": 1791.0, "low": 1781.0, "close": 1787.0, "vol": 54.645}..., Score: 1670630400.0 (datetime: 2022-12-10 00:00:00+00:00)
2025-09-04 14:19:51,669 - logging_config - INFO - redis_utils.py:139 -   Member: {"time": 1670716800, "open": 1787.0, "high": 1802.0, "low": 1785.0, "close": 1798.0, "vol": 130.347}..., Score: 1670716800.0 (datetime: 2022-12-11 00:00:00+00:00)
2025-09-04 14:19:51,669 - logging_config - INFO - redis_utils.py:139 -   Member: {"time": 1670803200, "open": 1798.0, "high": 1798.0, "low": 1777.0, "close": 1783.0, "vol": 112.461}..., Score: 1670803200.0 (datetime: 2022-12-12 00:00:00+00:00)
2025-09-04 14:19:51,669 - logging_config - INFO - redis_utils.py:139 -   Member: {"time": 1670889600, "open": 1783.0, "high": 1815.0, "low": 1777.0, "close": 1807.0, "vol": 128.112}..., Score: 1670889600.0 (datetime: 2022-12-13 00:00:00+00:00)
2025-09-04 14:19:51,669 - logging_config - INFO - redis_utils.py:139 -   Member: {"time": 1670976000, "open": 1807.0, "high": 1820.0, "low": 1789.0, "close": 1802.0, "vol": 138.043}..., Score: 1670976000.0 (datetime: 2022-12-14 00:00:00+00:00)
2025-09-04 14:19:51,669 - logging_config - INFO - redis_utils.py:140 -   ... and 995 more members.
2025-09-04 14:19:51,669 - logging_config - INFO - redis_utils.py:159 - Found 0 cached klines for PAXGUSDT 1d between 975708709 and 1116455400
2025-09-04 14:19:51,669 - logging_config - INFO - websocket_handlers.py:362 - ‚úÖ REDIS SUCCESS: Retrieved 0 klines from Redis for PAXGUSDT
2025-09-04 14:19:51,669 - logging_config - WARNING - websocket_handlers.py:370 - ‚ö†Ô∏è No historical klines found in Redis cache for PAXGUSDT
2025-09-04 14:19:51,669 - logging_config - INFO - websocket_handlers.py:371 - üîÑ FALLBACK: Attempting to fetch data from Bybit API for PAXGUSDT
2025-09-04 14:19:51,670 - logging_config - INFO - websocket_handlers.py:378 - üì° FETCHING FROM BYBIT: PAXGUSDT 1d from 975708709 to 1116455400
2025-09-04 14:19:51,846 - logging_config - INFO - redis_utils.py:340 - No more data available from Bybit for PAXGUSDT 1d at batch #1
2025-09-04 14:19:51,846 - logging_config - WARNING - websocket_handlers.py:391 - ‚ùå BYBIT FAILURE: No data fetched from Bybit for PAXGUSDT
2025-09-04 14:19:51,879 - logging_config - INFO - utility_endpoints.py:168 - POST /settings: RAW data received from client for symbol 'PAXGUSDT': {'symbol': 'PAXGUSDT', 'resolution': '1d', 'range': '3m', 'xAxisMin': 1038941640101, 'xAxisMax': 1109318585557, 'yAxisMin': -1.7003575161882787, 'yAxisMax': 9.427347126274062, 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'useLocalOllama': False, 'localOllamaModelName': '', 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3'], 'liveDataEnabled': False, 'showAgentTrades': False, 'streamDeltaTime': 1, 'last_selected_symbol': 'PAXGUSDT'}
2025-09-04 14:19:51,880 - logging_config - INFO - utility_endpoints.py:199 - POST /settings for PAXGUSDT and email klemenzivkovic@gmail.com: current_symbol_settings compiled for Redis save: {'resolution': '1d', 'range': '3m', 'xAxisMin': 1038941640101, 'xAxisMax': 1109318585557, 'yAxisMin': -1.7003575161882787, 'yAxisMax': 9.427347126274062, 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3'], 'liveDataEnabled': False, 'streamDeltaTime': 1, 'useLocalOllama': False, 'localOllamaModelName': '', 'showAgentTrades': False, 'symbol': 'PAXGUSDT', 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'last_selected_symbol': 'PAXGUSDT'}
2025-09-04 14:19:51,880 - logging_config - INFO - utility_endpoints.py:201 - POST /settings for PAXGUSDT: Client sent streamDeltaTime: 1. Value to be saved in Redis for streamDeltaTime: 1
2025-09-04 14:19:51,881 - logging_config - INFO - utility_endpoints.py:204 - POST /settings for PAXGUSDT and email klemenzivkovic@gmail.com: Settings updated in Redis for PAXGUSDT: {'resolution': '1d', 'range': '3m', 'xAxisMin': 1038941640101, 'xAxisMax': 1109318585557, 'yAxisMin': -1.7003575161882787, 'yAxisMax': 9.427347126274062, 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3'], 'liveDataEnabled': False, 'streamDeltaTime': 1, 'useLocalOllama': False, 'localOllamaModelName': '', 'showAgentTrades': False, 'symbol': 'PAXGUSDT', 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'last_selected_symbol': 'PAXGUSDT'}
2025-09-04 14:19:52,387 - logging_config - INFO - websocket_handlers.py:742 - üì® RAW MESSAGE RECEIVED for PAXGUSDT: {
  "type": "config",
  "symbol": "PAXGUSDT",
  "indicators": [
    "macd",
    "rsi",
    "stochrsi_9_3"
  ],
  "resolution": "1d",
  "from_ts": 1003753167373,
  "to_ts": 1144507058285
}
2025-09-04 14:19:52,387 - logging_config - INFO - websocket_handlers.py:747 - [TIMESTAMP DEBUG] websocket_handlers.py - Received timestamps:
2025-09-04 14:19:52,387 - logging_config - INFO - websocket_handlers.py:748 -   from_ts: 1003753167373 (type: <class 'int'>)
2025-09-04 14:19:52,387 - logging_config - INFO - websocket_handlers.py:749 -   to_ts: 1144507058285 (type: <class 'int'>)
2025-09-04 14:19:52,387 - logging_config - WARNING - websocket_handlers.py:769 - [TIMESTAMP DEBUG] from_ts 1003753167373 appears to be in MILLISECONDS (should be seconds)
2025-09-04 14:19:52,388 - logging_config - INFO - websocket_handlers.py:770 -   Converting to seconds: 1003753167
2025-09-04 14:19:52,388 - logging_config - INFO - websocket_handlers.py:774 - [TIMESTAMP CONVERSION] Client milliseconds -> Server seconds:
2025-09-04 14:19:52,388 - logging_config - INFO - websocket_handlers.py:775 -   1003753167373 -> 1003753167 (2001-10-22 12:19:27 UTC)
2025-09-04 14:19:52,388 - logging_config - INFO - websocket_handlers.py:776 -   1144507058285 -> 1144507058 (2006-04-08 14:37:38 UTC)
2025-09-04 14:19:52,388 - logging_config - INFO - websocket_handlers.py:795 - [TIMESTAMP FIX] Final timestamps set:
2025-09-04 14:19:52,388 - logging_config - INFO - websocket_handlers.py:796 -   from_ts: 1003753167 (type: <class 'int'>)
2025-09-04 14:19:52,388 - logging_config - INFO - websocket_handlers.py:797 -   to_ts: 1144507058 (type: <class 'int'>)
2025-09-04 14:19:52,388 - logging_config - INFO - websocket_handlers.py:807 - Client config updated for PAXGUSDT: indicators=['macd', 'rsi', 'stochrsi_9_3'], resolution=1d
2025-09-04 14:19:52,388 - logging_config - INFO - websocket_handlers.py:808 - üìä MESSAGE FIELD VALUES for PAXGUSDT:
2025-09-04 14:19:52,388 - logging_config - INFO - websocket_handlers.py:809 -   symbol: PAXGUSDT (fallback: PAXGUSDT)
2025-09-04 14:19:52,388 - logging_config - INFO - websocket_handlers.py:810 -   from_ts: 1003753167373 (type: <class 'int'>)
2025-09-04 14:19:52,388 - logging_config - INFO - websocket_handlers.py:811 -   to_ts: 1144507058285 (type: <class 'int'>)
2025-09-04 14:19:52,388 - logging_config - INFO - websocket_handlers.py:812 -   indicators: ['macd', 'rsi', 'stochrsi_9_3'] (type: <class 'list'>)
2025-09-04 14:19:52,388 - logging_config - INFO - websocket_handlers.py:813 -   resolution: 1d (type: <class 'str'>)
2025-09-04 14:19:52,388 - logging_config - INFO - websocket_handlers.py:819 - üìä SERVER TIME RANGE ANALYSIS for PAXGUSDT:
2025-09-04 14:19:52,388 - logging_config - INFO - websocket_handlers.py:820 -   Old range: from_ts=975708709, to_ts=1116455400
2025-09-04 14:19:52,388 - logging_config - INFO - websocket_handlers.py:821 -   New range: from_ts=1003753167, to_ts=1144507058
2025-09-04 14:19:52,389 - logging_config - INFO - websocket_handlers.py:822 -   Time range changed: True
2025-09-04 14:19:52,389 - logging_config - INFO - websocket_handlers.py:823 -   Historical sent: True
2025-09-04 14:19:52,389 - logging_config - INFO - websocket_handlers.py:824 -   Has timestamps: from_ts=True, to_ts=True
2025-09-04 14:19:52,389 - logging_config - INFO - websocket_handlers.py:843 -   üìÖ SERVER RECEIVED RANGE (UTC):
2025-09-04 14:19:52,389 - logging_config - INFO - websocket_handlers.py:844 -     From: 2001-10-22 12:19:27 UTC (1003753167)
2025-09-04 14:19:52,389 - logging_config - INFO - websocket_handlers.py:845 -     To: 2006-04-08 14:37:38 UTC (1144507058)
2025-09-04 14:19:52,389 - logging_config - INFO - websocket_handlers.py:846 -     Range: 140753891 seconds (39098.3 hours)
2025-09-04 14:19:52,389 - logging_config - INFO - websocket_handlers.py:848 -   üìÖ SERVER RECEIVED RANGE (Local Time):
2025-09-04 14:19:52,389 - logging_config - INFO - websocket_handlers.py:849 -     From: 2001-10-22 14:19:27 Central Europe Summer Time
2025-09-04 14:19:52,389 - logging_config - INFO - websocket_handlers.py:850 -     To: 2006-04-08 16:37:38 Central Europe Summer Time
2025-09-04 14:19:52,389 - logging_config - INFO - websocket_handlers.py:853 -   üåç TIMEZONE ANALYSIS:
2025-09-04 14:19:52,390 - logging_config - INFO - websocket_handlers.py:854 -     Server timezone: Central Europe Summer Time (UTC+2.0)
2025-09-04 14:19:52,390 - logging_config - INFO - websocket_handlers.py:855 -     User timezone (from logs): Europe/Ljubljana (UTC+2)
2025-09-04 14:19:52,390 - logging_config - INFO - websocket_handlers.py:856 -     Timezone difference: 0.0 hours
2025-09-04 14:19:52,390 - logging_config - INFO - websocket_handlers.py:859 -   üì§ DATA TO BE SENT TO CLIENT:
2025-09-04 14:19:52,390 - logging_config - INFO - websocket_handlers.py:860 -     Timestamps will be sent as seconds (not milliseconds)
2025-09-04 14:19:52,390 - logging_config - INFO - websocket_handlers.py:861 -     Client will receive: from_ts=1003753167, to_ts=1144507058
2025-09-04 14:19:52,390 - logging_config - INFO - websocket_handlers.py:862 -     Client local time equivalent: 2001-10-22 14:19:27 to 2006-04-08 16:37:38
2025-09-04 14:19:52,390 - logging_config - INFO - websocket_handlers.py:867 -   üìä USER'S CHART VIEW STATE:
2025-09-04 14:19:52,390 - logging_config - INFO - websocket_handlers.py:868 -     X-Axis Min: 30/08/2025, 10:31:39
2025-09-04 14:19:52,391 - logging_config - INFO - websocket_handlers.py:869 -     X-Axis Max: 04/09/2025, 01:58:37
2025-09-04 14:19:52,391 - logging_config - INFO - websocket_handlers.py:870 -     Expected local time range: 2025-08-30 10:31 to 2025-09-04 01:58
2025-09-04 14:19:52,391 - logging_config - INFO - websocket_handlers.py:871 -     Server received UTC equivalent: 2001-10-22 12:19 to 2006-04-08 14:37
2025-09-04 14:19:52,391 - logging_config - INFO - websocket_handlers.py:881 - Should send historical data: 1144507058
2025-09-04 14:19:52,391 - logging_config - INFO - websocket_handlers.py:884 - Sending historical data for PAXGUSDT - time range changed: True, historical_sent: True
2025-09-04 14:19:52,391 - logging_config - INFO - websocket_handlers.py:309 - Sending historical data for PAXGUSDT with indicators: ['macd', 'rsi', 'stochrsi_9_3']
2025-09-04 14:19:52,391 - logging_config - INFO - websocket_handlers.py:310 - Time range: from_ts=1003753167, to_ts=1144507058, resolution=1d
2025-09-04 14:19:52,391 - logging_config - INFO - websocket_handlers.py:320 - WebSocket session email found: klemenzivkovic@gmail.com
2025-09-04 14:19:52,391 - logging_config - INFO - websocket_handlers.py:325 - Looking for drawings: symbol=PAXGUSDT, resolution=1d, email=klemenzivkovic@gmail.com
2025-09-04 14:19:52,391 - logging_config - INFO - websocket_handlers.py:330 - Redis key for drawings: drawings:klemenzivkovic@gmail.com:PAXGUSDT
2025-09-04 14:19:52,393 - logging_config - INFO - drawing_manager.py:60 - get_drawings for PAXGUSDT with resolution '1d': found 4 total, returning 4 filtered.
2025-09-04 14:19:52,393 - logging_config - INFO - websocket_handlers.py:339 - Sending 4 existing drawings for PAXGUSDT
2025-09-04 14:19:52,393 - logging_config - INFO - websocket_handlers.py:345 - Sending drawing (4) message: {'type': 'drawings', 'symbol': 'PAXGUSDT', 'data': [{'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1749504979, 'end_time': 1757034460, 'start_price': 3498.39837005988, 'end_price': 3360.406707317073, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': {'buyOnCross': False, 'sellOnCross': False, 'sendEmailOnCross': True}, 'id': '23a034a5-9e91-488c-a076-b1dc9fa49f8f'}, {'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1750519797, 'end_time': 1756969828, 'start_price': 3263.9115544910173, 'end_price': 3290.8273239708183, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': {'buyOnCross': False, 'sellOnCross': False, 'sendEmailOnCross': True}, 'id': 'baf77e17-16dc-4817-b3ea-430467fa3a06'}, {'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1742353742, 'end_time': 1759291109, 'start_price': 3597.298721036928, 'end_price': 3334.7182204260644, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': None, 'id': '30d5ab26-ece7-434c-b489-9aeeccb27e56'}, {'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1739775769, 'end_time': 1755240008, 'start_price': 3168.595862896743, 'end_price': 3270.412791705037, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': None, 'id': '56ea858d-8f15-4f9d-a3ef-249b5e232b7a'}]}
2025-09-04 14:19:52,393 - logging_config - INFO - websocket_handlers.py:347 - Successfully sent drawings message to client
2025-09-04 14:19:52,393 - logging_config - INFO - redis_utils.py:103 - Querying sorted set 'zset:kline:PAXGUSDT:1d' for range [1003753167, 1144507058]
2025-09-04 14:19:52,393 - logging_config - INFO - redis_utils.py:106 - [TIMESTAMP DEBUG] redis_utils.py - get_cached_klines query:
2025-09-04 14:19:52,394 - logging_config - INFO - redis_utils.py:107 -   start_ts: 1003753167 (type: <class 'int'>)
2025-09-04 14:19:52,394 - logging_config - INFO - redis_utils.py:108 -   end_ts: 1144507058 (type: <class 'int'>)
2025-09-04 14:19:52,394 - logging_config - INFO - redis_utils.py:115 - [TIMESTAMP DEBUG] start_ts 1003753167 appears to be in SECONDS (correct for Redis)
2025-09-04 14:19:52,394 - logging_config - INFO - redis_utils.py:120 - [TIMESTAMP DEBUG] Checking Redis data sample for comparison...
2025-09-04 14:19:52,394 - logging_config - WARNING - redis_utils.py:129 - No data returned from zrangebyscore for key 'zset:kline:PAXGUSDT:1d' with range [1003753167, 1144507058]. Checking if key exists and has members...
2025-09-04 14:19:52,395 - logging_config - INFO - redis_utils.py:132 - Key 'zset:kline:PAXGUSDT:1d': Exists? 1, Cardinality: 1000
2025-09-04 14:19:52,395 - logging_config - INFO - redis_utils.py:134 - Fetching all members from 'zset:kline:PAXGUSDT:1d' to inspect scores, as zrangebyscore returned empty for range [1003753167, 1144507058].
2025-09-04 14:19:52,400 - logging_config - INFO - redis_utils.py:137 - All members in '{sorted_set_key}' (first 5 shown if many):
2025-09-04 14:19:52,400 - logging_config - INFO - redis_utils.py:139 -   Member: {"time": 1670630400, "open": 1788.0, "high": 1791.0, "low": 1781.0, "close": 1787.0, "vol": 54.645}..., Score: 1670630400.0 (datetime: 2022-12-10 00:00:00+00:00)
2025-09-04 14:19:52,400 - logging_config - INFO - redis_utils.py:139 -   Member: {"time": 1670716800, "open": 1787.0, "high": 1802.0, "low": 1785.0, "close": 1798.0, "vol": 130.347}..., Score: 1670716800.0 (datetime: 2022-12-11 00:00:00+00:00)
2025-09-04 14:19:52,401 - logging_config - INFO - redis_utils.py:139 -   Member: {"time": 1670803200, "open": 1798.0, "high": 1798.0, "low": 1777.0, "close": 1783.0, "vol": 112.461}..., Score: 1670803200.0 (datetime: 2022-12-12 00:00:00+00:00)
2025-09-04 14:19:52,401 - logging_config - INFO - redis_utils.py:139 -   Member: {"time": 1670889600, "open": 1783.0, "high": 1815.0, "low": 1777.0, "close": 1807.0, "vol": 128.112}..., Score: 1670889600.0 (datetime: 2022-12-13 00:00:00+00:00)
2025-09-04 14:19:52,401 - logging_config - INFO - redis_utils.py:139 -   Member: {"time": 1670976000, "open": 1807.0, "high": 1820.0, "low": 1789.0, "close": 1802.0, "vol": 138.043}..., Score: 1670976000.0 (datetime: 2022-12-14 00:00:00+00:00)
2025-09-04 14:19:52,401 - logging_config - INFO - redis_utils.py:140 -   ... and 995 more members.
2025-09-04 14:19:52,401 - logging_config - INFO - redis_utils.py:159 - Found 0 cached klines for PAXGUSDT 1d between 1003753167 and 1144507058
2025-09-04 14:19:52,401 - logging_config - INFO - websocket_handlers.py:362 - ‚úÖ REDIS SUCCESS: Retrieved 0 klines from Redis for PAXGUSDT
2025-09-04 14:19:52,401 - logging_config - WARNING - websocket_handlers.py:370 - ‚ö†Ô∏è No historical klines found in Redis cache for PAXGUSDT
2025-09-04 14:19:52,401 - logging_config - INFO - websocket_handlers.py:371 - üîÑ FALLBACK: Attempting to fetch data from Bybit API for PAXGUSDT
2025-09-04 14:19:52,401 - logging_config - INFO - websocket_handlers.py:378 - üì° FETCHING FROM BYBIT: PAXGUSDT 1d from 1003753167 to 1144507058
2025-09-04 14:19:52,577 - logging_config - INFO - redis_utils.py:340 - No more data available from Bybit for PAXGUSDT 1d at batch #1
2025-09-04 14:19:52,577 - logging_config - WARNING - websocket_handlers.py:391 - ‚ùå BYBIT FAILURE: No data fetched from Bybit for PAXGUSDT
2025-09-04 14:19:52,579 - logging_config - INFO - utility_endpoints.py:168 - POST /settings: RAW data received from client for symbol 'PAXGUSDT': {'symbol': 'PAXGUSDT', 'resolution': '1d', 'range': '3m', 'xAxisMin': 1082401029931, 'xAxisMax': 1152777975388, 'yAxisMin': -1.216544270863829, 'yAxisMax': 9.911160371598513, 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'useLocalOllama': False, 'localOllamaModelName': '', 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3'], 'liveDataEnabled': False, 'showAgentTrades': False, 'streamDeltaTime': 1, 'last_selected_symbol': 'PAXGUSDT'}
2025-09-04 14:19:52,579 - logging_config - INFO - utility_endpoints.py:199 - POST /settings for PAXGUSDT and email klemenzivkovic@gmail.com: current_symbol_settings compiled for Redis save: {'resolution': '1d', 'range': '3m', 'xAxisMin': 1082401029931, 'xAxisMax': 1152777975388, 'yAxisMin': -1.216544270863829, 'yAxisMax': 9.911160371598513, 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3'], 'liveDataEnabled': False, 'streamDeltaTime': 1, 'useLocalOllama': False, 'localOllamaModelName': '', 'showAgentTrades': False, 'symbol': 'PAXGUSDT', 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'last_selected_symbol': 'PAXGUSDT'}
2025-09-04 14:19:52,579 - logging_config - INFO - utility_endpoints.py:201 - POST /settings for PAXGUSDT: Client sent streamDeltaTime: 1. Value to be saved in Redis for streamDeltaTime: 1
2025-09-04 14:19:52,580 - logging_config - INFO - utility_endpoints.py:204 - POST /settings for PAXGUSDT and email klemenzivkovic@gmail.com: Settings updated in Redis for PAXGUSDT: {'resolution': '1d', 'range': '3m', 'xAxisMin': 1082401029931, 'xAxisMax': 1152777975388, 'yAxisMin': -1.216544270863829, 'yAxisMax': 9.911160371598513, 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3'], 'liveDataEnabled': False, 'streamDeltaTime': 1, 'useLocalOllama': False, 'localOllamaModelName': '', 'showAgentTrades': False, 'symbol': 'PAXGUSDT', 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'last_selected_symbol': 'PAXGUSDT'}
2025-09-04 14:19:52,983 - logging_config - INFO - websocket_handlers.py:742 - üì® RAW MESSAGE RECEIVED for PAXGUSDT: {
  "type": "config",
  "symbol": "PAXGUSDT",
  "indicators": [
    "macd",
    "rsi",
    "stochrsi_9_3"
  ],
  "resolution": "1d",
  "from_ts": 1047212557202,
  "to_ts": 1187966448116
}
2025-09-04 14:19:52,983 - logging_config - INFO - websocket_handlers.py:747 - [TIMESTAMP DEBUG] websocket_handlers.py - Received timestamps:
2025-09-04 14:19:52,983 - logging_config - INFO - websocket_handlers.py:748 -   from_ts: 1047212557202 (type: <class 'int'>)
2025-09-04 14:19:52,983 - logging_config - INFO - websocket_handlers.py:749 -   to_ts: 1187966448116 (type: <class 'int'>)
2025-09-04 14:19:52,983 - logging_config - WARNING - websocket_handlers.py:769 - [TIMESTAMP DEBUG] from_ts 1047212557202 appears to be in MILLISECONDS (should be seconds)
2025-09-04 14:19:52,983 - logging_config - INFO - websocket_handlers.py:770 -   Converting to seconds: 1047212557
2025-09-04 14:19:52,984 - logging_config - INFO - websocket_handlers.py:774 - [TIMESTAMP CONVERSION] Client milliseconds -> Server seconds:
2025-09-04 14:19:52,984 - logging_config - INFO - websocket_handlers.py:775 -   1047212557202 -> 1047212557 (2003-03-09 12:22:37 UTC)
2025-09-04 14:19:52,984 - logging_config - INFO - websocket_handlers.py:776 -   1187966448116 -> 1187966448 (2007-08-24 14:40:48 UTC)
2025-09-04 14:19:52,984 - logging_config - INFO - websocket_handlers.py:795 - [TIMESTAMP FIX] Final timestamps set:
2025-09-04 14:19:52,984 - logging_config - INFO - websocket_handlers.py:796 -   from_ts: 1047212557 (type: <class 'int'>)
2025-09-04 14:19:52,984 - logging_config - INFO - websocket_handlers.py:797 -   to_ts: 1187966448 (type: <class 'int'>)
2025-09-04 14:19:52,984 - logging_config - INFO - websocket_handlers.py:807 - Client config updated for PAXGUSDT: indicators=['macd', 'rsi', 'stochrsi_9_3'], resolution=1d
2025-09-04 14:19:52,984 - logging_config - INFO - websocket_handlers.py:808 - üìä MESSAGE FIELD VALUES for PAXGUSDT:
2025-09-04 14:19:52,984 - logging_config - INFO - websocket_handlers.py:809 -   symbol: PAXGUSDT (fallback: PAXGUSDT)
2025-09-04 14:19:52,984 - logging_config - INFO - websocket_handlers.py:810 -   from_ts: 1047212557202 (type: <class 'int'>)
2025-09-04 14:19:52,984 - logging_config - INFO - websocket_handlers.py:811 -   to_ts: 1187966448116 (type: <class 'int'>)
2025-09-04 14:19:52,984 - logging_config - INFO - websocket_handlers.py:812 -   indicators: ['macd', 'rsi', 'stochrsi_9_3'] (type: <class 'list'>)
2025-09-04 14:19:52,984 - logging_config - INFO - websocket_handlers.py:813 -   resolution: 1d (type: <class 'str'>)
2025-09-04 14:19:52,984 - logging_config - INFO - websocket_handlers.py:819 - üìä SERVER TIME RANGE ANALYSIS for PAXGUSDT:
2025-09-04 14:19:52,985 - logging_config - INFO - websocket_handlers.py:820 -   Old range: from_ts=1003753167, to_ts=1144507058
2025-09-04 14:19:52,985 - logging_config - INFO - websocket_handlers.py:821 -   New range: from_ts=1047212557, to_ts=1187966448
2025-09-04 14:19:52,985 - logging_config - INFO - websocket_handlers.py:822 -   Time range changed: True
2025-09-04 14:19:52,985 - logging_config - INFO - websocket_handlers.py:823 -   Historical sent: True
2025-09-04 14:19:52,985 - logging_config - INFO - websocket_handlers.py:824 -   Has timestamps: from_ts=True, to_ts=True
2025-09-04 14:19:52,985 - logging_config - INFO - websocket_handlers.py:843 -   üìÖ SERVER RECEIVED RANGE (UTC):
2025-09-04 14:19:52,985 - logging_config - INFO - websocket_handlers.py:844 -     From: 2003-03-09 12:22:37 UTC (1047212557)
2025-09-04 14:19:52,985 - logging_config - INFO - websocket_handlers.py:845 -     To: 2007-08-24 14:40:48 UTC (1187966448)
2025-09-04 14:19:52,985 - logging_config - INFO - websocket_handlers.py:846 -     Range: 140753891 seconds (39098.3 hours)
2025-09-04 14:19:52,985 - logging_config - INFO - websocket_handlers.py:848 -   üìÖ SERVER RECEIVED RANGE (Local Time):
2025-09-04 14:19:52,985 - logging_config - INFO - websocket_handlers.py:849 -     From: 2003-03-09 14:22:37 Central Europe Summer Time
2025-09-04 14:19:52,985 - logging_config - INFO - websocket_handlers.py:850 -     To: 2007-08-24 16:40:48 Central Europe Summer Time
2025-09-04 14:19:52,985 - logging_config - INFO - websocket_handlers.py:853 -   üåç TIMEZONE ANALYSIS:
2025-09-04 14:19:52,985 - logging_config - INFO - websocket_handlers.py:854 -     Server timezone: Central Europe Summer Time (UTC+2.0)
2025-09-04 14:19:52,985 - logging_config - INFO - websocket_handlers.py:855 -     User timezone (from logs): Europe/Ljubljana (UTC+2)
2025-09-04 14:19:52,986 - logging_config - INFO - websocket_handlers.py:856 -     Timezone difference: 0.0 hours
2025-09-04 14:19:52,986 - logging_config - INFO - websocket_handlers.py:859 -   üì§ DATA TO BE SENT TO CLIENT:
2025-09-04 14:19:52,986 - logging_config - INFO - websocket_handlers.py:860 -     Timestamps will be sent as seconds (not milliseconds)
2025-09-04 14:19:52,986 - logging_config - INFO - websocket_handlers.py:861 -     Client will receive: from_ts=1047212557, to_ts=1187966448
2025-09-04 14:19:52,986 - logging_config - INFO - websocket_handlers.py:862 -     Client local time equivalent: 2003-03-09 14:22:37 to 2007-08-24 16:40:48
2025-09-04 14:19:52,986 - logging_config - INFO - websocket_handlers.py:867 -   üìä USER'S CHART VIEW STATE:
2025-09-04 14:19:52,986 - logging_config - INFO - websocket_handlers.py:868 -     X-Axis Min: 30/08/2025, 10:31:39
2025-09-04 14:19:52,986 - logging_config - INFO - websocket_handlers.py:869 -     X-Axis Max: 04/09/2025, 01:58:37
2025-09-04 14:19:52,986 - logging_config - INFO - websocket_handlers.py:870 -     Expected local time range: 2025-08-30 10:31 to 2025-09-04 01:58
2025-09-04 14:19:52,986 - logging_config - INFO - websocket_handlers.py:871 -     Server received UTC equivalent: 2003-03-09 12:22 to 2007-08-24 14:40
2025-09-04 14:19:52,986 - logging_config - INFO - websocket_handlers.py:881 - Should send historical data: 1187966448
2025-09-04 14:19:52,986 - logging_config - INFO - websocket_handlers.py:884 - Sending historical data for PAXGUSDT - time range changed: True, historical_sent: True
2025-09-04 14:19:52,987 - logging_config - INFO - websocket_handlers.py:309 - Sending historical data for PAXGUSDT with indicators: ['macd', 'rsi', 'stochrsi_9_3']
2025-09-04 14:19:52,987 - logging_config - INFO - websocket_handlers.py:310 - Time range: from_ts=1047212557, to_ts=1187966448, resolution=1d
2025-09-04 14:19:52,987 - logging_config - INFO - websocket_handlers.py:320 - WebSocket session email found: klemenzivkovic@gmail.com
2025-09-04 14:19:52,987 - logging_config - INFO - websocket_handlers.py:325 - Looking for drawings: symbol=PAXGUSDT, resolution=1d, email=klemenzivkovic@gmail.com
2025-09-04 14:19:52,987 - logging_config - INFO - websocket_handlers.py:330 - Redis key for drawings: drawings:klemenzivkovic@gmail.com:PAXGUSDT
2025-09-04 14:19:52,987 - logging_config - INFO - drawing_manager.py:60 - get_drawings for PAXGUSDT with resolution '1d': found 4 total, returning 4 filtered.
2025-09-04 14:19:52,987 - logging_config - INFO - websocket_handlers.py:339 - Sending 4 existing drawings for PAXGUSDT
2025-09-04 14:19:52,988 - logging_config - INFO - websocket_handlers.py:345 - Sending drawing (4) message: {'type': 'drawings', 'symbol': 'PAXGUSDT', 'data': [{'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1749504979, 'end_time': 1757034460, 'start_price': 3498.39837005988, 'end_price': 3360.406707317073, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': {'buyOnCross': False, 'sellOnCross': False, 'sendEmailOnCross': True}, 'id': '23a034a5-9e91-488c-a076-b1dc9fa49f8f'}, {'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1750519797, 'end_time': 1756969828, 'start_price': 3263.9115544910173, 'end_price': 3290.8273239708183, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': {'buyOnCross': False, 'sellOnCross': False, 'sendEmailOnCross': True}, 'id': 'baf77e17-16dc-4817-b3ea-430467fa3a06'}, {'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1742353742, 'end_time': 1759291109, 'start_price': 3597.298721036928, 'end_price': 3334.7182204260644, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': None, 'id': '30d5ab26-ece7-434c-b489-9aeeccb27e56'}, {'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1739775769, 'end_time': 1755240008, 'start_price': 3168.595862896743, 'end_price': 3270.412791705037, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': None, 'id': '56ea858d-8f15-4f9d-a3ef-249b5e232b7a'}]}
2025-09-04 14:19:52,988 - logging_config - INFO - websocket_handlers.py:347 - Successfully sent drawings message to client
2025-09-04 14:19:52,988 - logging_config - INFO - redis_utils.py:103 - Querying sorted set 'zset:kline:PAXGUSDT:1d' for range [1047212557, 1187966448]
2025-09-04 14:19:52,988 - logging_config - INFO - redis_utils.py:106 - [TIMESTAMP DEBUG] redis_utils.py - get_cached_klines query:
2025-09-04 14:19:52,988 - logging_config - INFO - redis_utils.py:107 -   start_ts: 1047212557 (type: <class 'int'>)
2025-09-04 14:19:52,988 - logging_config - INFO - redis_utils.py:108 -   end_ts: 1187966448 (type: <class 'int'>)
2025-09-04 14:19:52,988 - logging_config - INFO - redis_utils.py:115 - [TIMESTAMP DEBUG] start_ts 1047212557 appears to be in SECONDS (correct for Redis)
2025-09-04 14:19:52,988 - logging_config - INFO - redis_utils.py:120 - [TIMESTAMP DEBUG] Checking Redis data sample for comparison...
2025-09-04 14:19:52,989 - logging_config - WARNING - redis_utils.py:129 - No data returned from zrangebyscore for key 'zset:kline:PAXGUSDT:1d' with range [1047212557, 1187966448]. Checking if key exists and has members...
2025-09-04 14:19:52,989 - logging_config - INFO - redis_utils.py:132 - Key 'zset:kline:PAXGUSDT:1d': Exists? 1, Cardinality: 1000
2025-09-04 14:19:52,990 - logging_config - INFO - redis_utils.py:134 - Fetching all members from 'zset:kline:PAXGUSDT:1d' to inspect scores, as zrangebyscore returned empty for range [1047212557, 1187966448].
2025-09-04 14:19:52,995 - logging_config - INFO - redis_utils.py:137 - All members in '{sorted_set_key}' (first 5 shown if many):
2025-09-04 14:19:52,996 - logging_config - INFO - redis_utils.py:139 -   Member: {"time": 1670630400, "open": 1788.0, "high": 1791.0, "low": 1781.0, "close": 1787.0, "vol": 54.645}..., Score: 1670630400.0 (datetime: 2022-12-10 00:00:00+00:00)
2025-09-04 14:19:52,996 - logging_config - INFO - redis_utils.py:139 -   Member: {"time": 1670716800, "open": 1787.0, "high": 1802.0, "low": 1785.0, "close": 1798.0, "vol": 130.347}..., Score: 1670716800.0 (datetime: 2022-12-11 00:00:00+00:00)
2025-09-04 14:19:52,996 - logging_config - INFO - redis_utils.py:139 -   Member: {"time": 1670803200, "open": 1798.0, "high": 1798.0, "low": 1777.0, "close": 1783.0, "vol": 112.461}..., Score: 1670803200.0 (datetime: 2022-12-12 00:00:00+00:00)
2025-09-04 14:19:52,996 - logging_config - INFO - redis_utils.py:139 -   Member: {"time": 1670889600, "open": 1783.0, "high": 1815.0, "low": 1777.0, "close": 1807.0, "vol": 128.112}..., Score: 1670889600.0 (datetime: 2022-12-13 00:00:00+00:00)
2025-09-04 14:19:52,996 - logging_config - INFO - redis_utils.py:139 -   Member: {"time": 1670976000, "open": 1807.0, "high": 1820.0, "low": 1789.0, "close": 1802.0, "vol": 138.043}..., Score: 1670976000.0 (datetime: 2022-12-14 00:00:00+00:00)
2025-09-04 14:19:52,996 - logging_config - INFO - redis_utils.py:140 -   ... and 995 more members.
2025-09-04 14:19:52,996 - logging_config - INFO - redis_utils.py:159 - Found 0 cached klines for PAXGUSDT 1d between 1047212557 and 1187966448
2025-09-04 14:19:52,996 - logging_config - INFO - websocket_handlers.py:362 - ‚úÖ REDIS SUCCESS: Retrieved 0 klines from Redis for PAXGUSDT
2025-09-04 14:19:52,996 - logging_config - WARNING - websocket_handlers.py:370 - ‚ö†Ô∏è No historical klines found in Redis cache for PAXGUSDT
2025-09-04 14:19:52,997 - logging_config - INFO - websocket_handlers.py:371 - üîÑ FALLBACK: Attempting to fetch data from Bybit API for PAXGUSDT
2025-09-04 14:19:52,997 - logging_config - INFO - websocket_handlers.py:378 - üì° FETCHING FROM BYBIT: PAXGUSDT 1d from 1047212557 to 1187966448
2025-09-04 14:19:53,186 - logging_config - INFO - redis_utils.py:340 - No more data available from Bybit for PAXGUSDT 1d at batch #1
2025-09-04 14:19:53,187 - logging_config - WARNING - websocket_handlers.py:391 - ‚ùå BYBIT FAILURE: No data fetched from Bybit for PAXGUSDT
2025-09-04 14:19:53,188 - logging_config - INFO - utility_endpoints.py:168 - POST /settings: RAW data received from client for symbol 'PAXGUSDT': {'symbol': 'PAXGUSDT', 'resolution': '1d', 'range': '3m', 'xAxisMin': 1129522227322, 'xAxisMax': 1199902772779, 'yAxisMin': -0.8242632611413022, 'yAxisMax': 10.30344138132104, 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'useLocalOllama': False, 'localOllamaModelName': '', 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3'], 'liveDataEnabled': False, 'showAgentTrades': False, 'streamDeltaTime': 1, 'last_selected_symbol': 'PAXGUSDT'}
2025-09-04 14:19:53,189 - logging_config - INFO - utility_endpoints.py:199 - POST /settings for PAXGUSDT and email klemenzivkovic@gmail.com: current_symbol_settings compiled for Redis save: {'resolution': '1d', 'range': '3m', 'xAxisMin': 1129522227322, 'xAxisMax': 1199902772779, 'yAxisMin': -0.8242632611413022, 'yAxisMax': 10.30344138132104, 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3'], 'liveDataEnabled': False, 'streamDeltaTime': 1, 'useLocalOllama': False, 'localOllamaModelName': '', 'showAgentTrades': False, 'symbol': 'PAXGUSDT', 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'last_selected_symbol': 'PAXGUSDT'}
2025-09-04 14:19:53,189 - logging_config - INFO - utility_endpoints.py:201 - POST /settings for PAXGUSDT: Client sent streamDeltaTime: 1. Value to be saved in Redis for streamDeltaTime: 1
2025-09-04 14:19:53,190 - logging_config - INFO - utility_endpoints.py:204 - POST /settings for PAXGUSDT and email klemenzivkovic@gmail.com: Settings updated in Redis for PAXGUSDT: {'resolution': '1d', 'range': '3m', 'xAxisMin': 1129522227322, 'xAxisMax': 1199902772779, 'yAxisMin': -0.8242632611413022, 'yAxisMax': 10.30344138132104, 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3'], 'liveDataEnabled': False, 'streamDeltaTime': 1, 'useLocalOllama': False, 'localOllamaModelName': '', 'showAgentTrades': False, 'symbol': 'PAXGUSDT', 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'last_selected_symbol': 'PAXGUSDT'}
2025-09-04 14:19:53,503 - logging_config - INFO - websocket_handlers.py:742 - üì® RAW MESSAGE RECEIVED for PAXGUSDT: {
  "type": "config",
  "symbol": "PAXGUSDT",
  "indicators": [
    "macd",
    "rsi",
    "stochrsi_9_3"
  ],
  "resolution": "1d",
  "from_ts": 1094331954593,
  "to_ts": 1235093045507
}
2025-09-04 14:19:53,503 - logging_config - INFO - websocket_handlers.py:747 - [TIMESTAMP DEBUG] websocket_handlers.py - Received timestamps:
2025-09-04 14:19:53,503 - logging_config - INFO - websocket_handlers.py:748 -   from_ts: 1094331954593 (type: <class 'int'>)
2025-09-04 14:19:53,504 - logging_config - INFO - websocket_handlers.py:749 -   to_ts: 1235093045507 (type: <class 'int'>)
2025-09-04 14:19:53,504 - logging_config - WARNING - websocket_handlers.py:769 - [TIMESTAMP DEBUG] from_ts 1094331954593 appears to be in MILLISECONDS (should be seconds)
2025-09-04 14:19:53,504 - logging_config - INFO - websocket_handlers.py:770 -   Converting to seconds: 1094331954
2025-09-04 14:19:53,504 - logging_config - INFO - websocket_handlers.py:774 - [TIMESTAMP CONVERSION] Client milliseconds -> Server seconds:
2025-09-04 14:19:53,504 - logging_config - INFO - websocket_handlers.py:775 -   1094331954593 -> 1094331954 (2004-09-04 21:05:54 UTC)
2025-09-04 14:19:53,504 - logging_config - INFO - websocket_handlers.py:776 -   1235093045507 -> 1235093045 (2009-02-20 01:24:05 UTC)
2025-09-04 14:19:53,504 - logging_config - INFO - websocket_handlers.py:795 - [TIMESTAMP FIX] Final timestamps set:
2025-09-04 14:19:53,504 - logging_config - INFO - websocket_handlers.py:796 -   from_ts: 1094331954 (type: <class 'int'>)
2025-09-04 14:19:53,504 - logging_config - INFO - websocket_handlers.py:797 -   to_ts: 1235093045 (type: <class 'int'>)
2025-09-04 14:19:53,504 - logging_config - INFO - websocket_handlers.py:807 - Client config updated for PAXGUSDT: indicators=['macd', 'rsi', 'stochrsi_9_3'], resolution=1d
2025-09-04 14:19:53,505 - logging_config - INFO - websocket_handlers.py:808 - üìä MESSAGE FIELD VALUES for PAXGUSDT:
2025-09-04 14:19:53,505 - logging_config - INFO - websocket_handlers.py:809 -   symbol: PAXGUSDT (fallback: PAXGUSDT)
2025-09-04 14:19:53,505 - logging_config - INFO - websocket_handlers.py:810 -   from_ts: 1094331954593 (type: <class 'int'>)
2025-09-04 14:19:53,505 - logging_config - INFO - websocket_handlers.py:811 -   to_ts: 1235093045507 (type: <class 'int'>)
2025-09-04 14:19:53,505 - logging_config - INFO - websocket_handlers.py:812 -   indicators: ['macd', 'rsi', 'stochrsi_9_3'] (type: <class 'list'>)
2025-09-04 14:19:53,505 - logging_config - INFO - websocket_handlers.py:813 -   resolution: 1d (type: <class 'str'>)
2025-09-04 14:19:53,505 - logging_config - INFO - websocket_handlers.py:819 - üìä SERVER TIME RANGE ANALYSIS for PAXGUSDT:
2025-09-04 14:19:53,505 - logging_config - INFO - websocket_handlers.py:820 -   Old range: from_ts=1047212557, to_ts=1187966448
2025-09-04 14:19:53,505 - logging_config - INFO - websocket_handlers.py:821 -   New range: from_ts=1094331954, to_ts=1235093045
2025-09-04 14:19:53,505 - logging_config - INFO - websocket_handlers.py:822 -   Time range changed: True
2025-09-04 14:19:53,505 - logging_config - INFO - websocket_handlers.py:823 -   Historical sent: True
2025-09-04 14:19:53,505 - logging_config - INFO - websocket_handlers.py:824 -   Has timestamps: from_ts=True, to_ts=True
2025-09-04 14:19:53,505 - logging_config - INFO - websocket_handlers.py:843 -   üìÖ SERVER RECEIVED RANGE (UTC):
2025-09-04 14:19:53,506 - logging_config - INFO - websocket_handlers.py:844 -     From: 2004-09-04 21:05:54 UTC (1094331954)
2025-09-04 14:19:53,506 - logging_config - INFO - websocket_handlers.py:845 -     To: 2009-02-20 01:24:05 UTC (1235093045)
2025-09-04 14:19:53,506 - logging_config - INFO - websocket_handlers.py:846 -     Range: 140761091 seconds (39100.3 hours)
2025-09-04 14:19:53,506 - logging_config - INFO - websocket_handlers.py:848 -   üìÖ SERVER RECEIVED RANGE (Local Time):
2025-09-04 14:19:53,506 - logging_config - INFO - websocket_handlers.py:849 -     From: 2004-09-04 23:05:54 Central Europe Summer Time
2025-09-04 14:19:53,506 - logging_config - INFO - websocket_handlers.py:850 -     To: 2009-02-20 03:24:05 Central Europe Summer Time
2025-09-04 14:19:53,506 - logging_config - INFO - websocket_handlers.py:853 -   üåç TIMEZONE ANALYSIS:
2025-09-04 14:19:53,506 - logging_config - INFO - websocket_handlers.py:854 -     Server timezone: Central Europe Summer Time (UTC+2.0)
2025-09-04 14:19:53,506 - logging_config - INFO - websocket_handlers.py:855 -     User timezone (from logs): Europe/Ljubljana (UTC+2)
2025-09-04 14:19:53,506 - logging_config - INFO - websocket_handlers.py:856 -     Timezone difference: 0.0 hours
2025-09-04 14:19:53,507 - logging_config - INFO - websocket_handlers.py:859 -   üì§ DATA TO BE SENT TO CLIENT:
2025-09-04 14:19:53,507 - logging_config - INFO - websocket_handlers.py:860 -     Timestamps will be sent as seconds (not milliseconds)
2025-09-04 14:19:53,507 - logging_config - INFO - websocket_handlers.py:861 -     Client will receive: from_ts=1094331954, to_ts=1235093045
2025-09-04 14:19:53,507 - logging_config - INFO - websocket_handlers.py:862 -     Client local time equivalent: 2004-09-04 23:05:54 to 2009-02-20 03:24:05
2025-09-04 14:19:53,507 - logging_config - INFO - websocket_handlers.py:867 -   üìä USER'S CHART VIEW STATE:
2025-09-04 14:19:53,507 - logging_config - INFO - websocket_handlers.py:868 -     X-Axis Min: 30/08/2025, 10:31:39
2025-09-04 14:19:53,507 - logging_config - INFO - websocket_handlers.py:869 -     X-Axis Max: 04/09/2025, 01:58:37
2025-09-04 14:19:53,507 - logging_config - INFO - websocket_handlers.py:870 -     Expected local time range: 2025-08-30 10:31 to 2025-09-04 01:58
2025-09-04 14:19:53,507 - logging_config - INFO - websocket_handlers.py:871 -     Server received UTC equivalent: 2004-09-04 21:05 to 2009-02-20 01:24
2025-09-04 14:19:53,507 - logging_config - INFO - websocket_handlers.py:881 - Should send historical data: 1235093045
2025-09-04 14:19:53,508 - logging_config - INFO - websocket_handlers.py:884 - Sending historical data for PAXGUSDT - time range changed: True, historical_sent: True
2025-09-04 14:19:53,508 - logging_config - INFO - websocket_handlers.py:309 - Sending historical data for PAXGUSDT with indicators: ['macd', 'rsi', 'stochrsi_9_3']
2025-09-04 14:19:53,508 - logging_config - INFO - websocket_handlers.py:310 - Time range: from_ts=1094331954, to_ts=1235093045, resolution=1d
2025-09-04 14:19:53,508 - logging_config - INFO - websocket_handlers.py:320 - WebSocket session email found: klemenzivkovic@gmail.com
2025-09-04 14:19:53,508 - logging_config - INFO - websocket_handlers.py:325 - Looking for drawings: symbol=PAXGUSDT, resolution=1d, email=klemenzivkovic@gmail.com
2025-09-04 14:19:53,508 - logging_config - INFO - websocket_handlers.py:330 - Redis key for drawings: drawings:klemenzivkovic@gmail.com:PAXGUSDT
2025-09-04 14:19:53,508 - logging_config - INFO - drawing_manager.py:60 - get_drawings for PAXGUSDT with resolution '1d': found 4 total, returning 4 filtered.
2025-09-04 14:19:53,509 - logging_config - INFO - websocket_handlers.py:339 - Sending 4 existing drawings for PAXGUSDT
2025-09-04 14:19:53,509 - logging_config - INFO - websocket_handlers.py:345 - Sending drawing (4) message: {'type': 'drawings', 'symbol': 'PAXGUSDT', 'data': [{'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1749504979, 'end_time': 1757034460, 'start_price': 3498.39837005988, 'end_price': 3360.406707317073, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': {'buyOnCross': False, 'sellOnCross': False, 'sendEmailOnCross': True}, 'id': '23a034a5-9e91-488c-a076-b1dc9fa49f8f'}, {'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1750519797, 'end_time': 1756969828, 'start_price': 3263.9115544910173, 'end_price': 3290.8273239708183, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': {'buyOnCross': False, 'sellOnCross': False, 'sendEmailOnCross': True}, 'id': 'baf77e17-16dc-4817-b3ea-430467fa3a06'}, {'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1742353742, 'end_time': 1759291109, 'start_price': 3597.298721036928, 'end_price': 3334.7182204260644, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': None, 'id': '30d5ab26-ece7-434c-b489-9aeeccb27e56'}, {'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1739775769, 'end_time': 1755240008, 'start_price': 3168.595862896743, 'end_price': 3270.412791705037, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': None, 'id': '56ea858d-8f15-4f9d-a3ef-249b5e232b7a'}]}
2025-09-04 14:19:53,509 - logging_config - INFO - websocket_handlers.py:347 - Successfully sent drawings message to client
2025-09-04 14:19:53,509 - logging_config - INFO - redis_utils.py:103 - Querying sorted set 'zset:kline:PAXGUSDT:1d' for range [1094331954, 1235093045]
2025-09-04 14:19:53,509 - logging_config - INFO - redis_utils.py:106 - [TIMESTAMP DEBUG] redis_utils.py - get_cached_klines query:
2025-09-04 14:19:53,510 - logging_config - INFO - redis_utils.py:107 -   start_ts: 1094331954 (type: <class 'int'>)
2025-09-04 14:19:53,510 - logging_config - INFO - redis_utils.py:108 -   end_ts: 1235093045 (type: <class 'int'>)
2025-09-04 14:19:53,510 - logging_config - INFO - redis_utils.py:115 - [TIMESTAMP DEBUG] start_ts 1094331954 appears to be in SECONDS (correct for Redis)
2025-09-04 14:19:53,510 - logging_config - INFO - redis_utils.py:120 - [TIMESTAMP DEBUG] Checking Redis data sample for comparison...
2025-09-04 14:19:53,510 - logging_config - WARNING - redis_utils.py:129 - No data returned from zrangebyscore for key 'zset:kline:PAXGUSDT:1d' with range [1094331954, 1235093045]. Checking if key exists and has members...
2025-09-04 14:19:53,511 - logging_config - INFO - redis_utils.py:132 - Key 'zset:kline:PAXGUSDT:1d': Exists? 1, Cardinality: 1000
2025-09-04 14:19:53,511 - logging_config - INFO - redis_utils.py:134 - Fetching all members from 'zset:kline:PAXGUSDT:1d' to inspect scores, as zrangebyscore returned empty for range [1094331954, 1235093045].
2025-09-04 14:19:53,516 - logging_config - INFO - redis_utils.py:137 - All members in '{sorted_set_key}' (first 5 shown if many):
2025-09-04 14:19:53,516 - logging_config - INFO - redis_utils.py:139 -   Member: {"time": 1670630400, "open": 1788.0, "high": 1791.0, "low": 1781.0, "close": 1787.0, "vol": 54.645}..., Score: 1670630400.0 (datetime: 2022-12-10 00:00:00+00:00)
2025-09-04 14:19:53,516 - logging_config - INFO - redis_utils.py:139 -   Member: {"time": 1670716800, "open": 1787.0, "high": 1802.0, "low": 1785.0, "close": 1798.0, "vol": 130.347}..., Score: 1670716800.0 (datetime: 2022-12-11 00:00:00+00:00)
2025-09-04 14:19:53,517 - logging_config - INFO - redis_utils.py:139 -   Member: {"time": 1670803200, "open": 1798.0, "high": 1798.0, "low": 1777.0, "close": 1783.0, "vol": 112.461}..., Score: 1670803200.0 (datetime: 2022-12-12 00:00:00+00:00)
2025-09-04 14:19:53,517 - logging_config - INFO - redis_utils.py:139 -   Member: {"time": 1670889600, "open": 1783.0, "high": 1815.0, "low": 1777.0, "close": 1807.0, "vol": 128.112}..., Score: 1670889600.0 (datetime: 2022-12-13 00:00:00+00:00)
2025-09-04 14:19:53,517 - logging_config - INFO - redis_utils.py:139 -   Member: {"time": 1670976000, "open": 1807.0, "high": 1820.0, "low": 1789.0, "close": 1802.0, "vol": 138.043}..., Score: 1670976000.0 (datetime: 2022-12-14 00:00:00+00:00)
2025-09-04 14:19:53,517 - logging_config - INFO - redis_utils.py:140 -   ... and 995 more members.
2025-09-04 14:19:53,517 - logging_config - INFO - redis_utils.py:159 - Found 0 cached klines for PAXGUSDT 1d between 1094331954 and 1235093045
2025-09-04 14:19:53,517 - logging_config - INFO - websocket_handlers.py:362 - ‚úÖ REDIS SUCCESS: Retrieved 0 klines from Redis for PAXGUSDT
2025-09-04 14:19:53,517 - logging_config - WARNING - websocket_handlers.py:370 - ‚ö†Ô∏è No historical klines found in Redis cache for PAXGUSDT
2025-09-04 14:19:53,517 - logging_config - INFO - websocket_handlers.py:371 - üîÑ FALLBACK: Attempting to fetch data from Bybit API for PAXGUSDT
2025-09-04 14:19:53,518 - logging_config - INFO - websocket_handlers.py:378 - üì° FETCHING FROM BYBIT: PAXGUSDT 1d from 1094331954 to 1235093045
2025-09-04 14:19:53,713 - logging_config - INFO - redis_utils.py:340 - No more data available from Bybit for PAXGUSDT 1d at batch #1
2025-09-04 14:19:53,713 - logging_config - WARNING - websocket_handlers.py:391 - ‚ùå BYBIT FAILURE: No data fetched from Bybit for PAXGUSDT
2025-09-04 14:19:53,715 - logging_config - INFO - utility_endpoints.py:168 - POST /settings: RAW data received from client for symbol 'PAXGUSDT': {'symbol': 'PAXGUSDT', 'resolution': '1d', 'range': '3m', 'xAxisMin': 1169243509412, 'xAxisMax': 1239616854869, 'yAxisMin': -0.2096896792426769, 'yAxisMax': 10.918014963219665, 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'useLocalOllama': False, 'localOllamaModelName': '', 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3'], 'liveDataEnabled': False, 'showAgentTrades': False, 'streamDeltaTime': 1, 'last_selected_symbol': 'PAXGUSDT'}
2025-09-04 14:19:53,715 - logging_config - INFO - utility_endpoints.py:199 - POST /settings for PAXGUSDT and email klemenzivkovic@gmail.com: current_symbol_settings compiled for Redis save: {'resolution': '1d', 'range': '3m', 'xAxisMin': 1169243509412, 'xAxisMax': 1239616854869, 'yAxisMin': -0.2096896792426769, 'yAxisMax': 10.918014963219665, 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3'], 'liveDataEnabled': False, 'streamDeltaTime': 1, 'useLocalOllama': False, 'localOllamaModelName': '', 'showAgentTrades': False, 'symbol': 'PAXGUSDT', 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'last_selected_symbol': 'PAXGUSDT'}
2025-09-04 14:19:53,715 - logging_config - INFO - utility_endpoints.py:201 - POST /settings for PAXGUSDT: Client sent streamDeltaTime: 1. Value to be saved in Redis for streamDeltaTime: 1
2025-09-04 14:19:53,715 - logging_config - INFO - utility_endpoints.py:204 - POST /settings for PAXGUSDT and email klemenzivkovic@gmail.com: Settings updated in Redis for PAXGUSDT: {'resolution': '1d', 'range': '3m', 'xAxisMin': 1169243509412, 'xAxisMax': 1239616854869, 'yAxisMin': -0.2096896792426769, 'yAxisMax': 10.918014963219665, 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3'], 'liveDataEnabled': False, 'streamDeltaTime': 1, 'useLocalOllama': False, 'localOllamaModelName': '', 'showAgentTrades': False, 'symbol': 'PAXGUSDT', 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'last_selected_symbol': 'PAXGUSDT'}
2025-09-04 14:19:54,034 - logging_config - INFO - websocket_handlers.py:742 - üì® RAW MESSAGE RECEIVED for PAXGUSDT: {
  "type": "config",
  "symbol": "PAXGUSDT",
  "indicators": [
    "macd",
    "rsi",
    "stochrsi_9_3"
  ],
  "resolution": "1d",
  "from_ts": 1160707691769,
  "to_ts": 1301461582683
}
2025-09-04 14:19:54,035 - logging_config - INFO - websocket_handlers.py:747 - [TIMESTAMP DEBUG] websocket_handlers.py - Received timestamps:
2025-09-04 14:19:54,035 - logging_config - INFO - websocket_handlers.py:748 -   from_ts: 1160707691769 (type: <class 'int'>)
2025-09-04 14:19:54,035 - logging_config - INFO - websocket_handlers.py:749 -   to_ts: 1301461582683 (type: <class 'int'>)
2025-09-04 14:19:54,035 - logging_config - WARNING - websocket_handlers.py:769 - [TIMESTAMP DEBUG] from_ts 1160707691769 appears to be in MILLISECONDS (should be seconds)
2025-09-04 14:19:54,035 - logging_config - INFO - websocket_handlers.py:770 -   Converting to seconds: 1160707691
2025-09-04 14:19:54,035 - logging_config - INFO - websocket_handlers.py:774 - [TIMESTAMP CONVERSION] Client milliseconds -> Server seconds:
2025-09-04 14:19:54,035 - logging_config - INFO - websocket_handlers.py:775 -   1160707691769 -> 1160707691 (2006-10-13 02:48:11 UTC)
2025-09-04 14:19:54,035 - logging_config - INFO - websocket_handlers.py:776 -   1301461582683 -> 1301461582 (2011-03-30 05:06:22 UTC)
2025-09-04 14:19:54,035 - logging_config - INFO - websocket_handlers.py:795 - [TIMESTAMP FIX] Final timestamps set:
2025-09-04 14:19:54,035 - logging_config - INFO - websocket_handlers.py:796 -   from_ts: 1160707691 (type: <class 'int'>)
2025-09-04 14:19:54,035 - logging_config - INFO - websocket_handlers.py:797 -   to_ts: 1301461582 (type: <class 'int'>)
2025-09-04 14:19:54,036 - logging_config - INFO - websocket_handlers.py:807 - Client config updated for PAXGUSDT: indicators=['macd', 'rsi', 'stochrsi_9_3'], resolution=1d
2025-09-04 14:19:54,036 - logging_config - INFO - websocket_handlers.py:808 - üìä MESSAGE FIELD VALUES for PAXGUSDT:
2025-09-04 14:19:54,036 - logging_config - INFO - websocket_handlers.py:809 -   symbol: PAXGUSDT (fallback: PAXGUSDT)
2025-09-04 14:19:54,036 - logging_config - INFO - websocket_handlers.py:810 -   from_ts: 1160707691769 (type: <class 'int'>)
2025-09-04 14:19:54,036 - logging_config - INFO - websocket_handlers.py:811 -   to_ts: 1301461582683 (type: <class 'int'>)
2025-09-04 14:19:54,036 - logging_config - INFO - websocket_handlers.py:812 -   indicators: ['macd', 'rsi', 'stochrsi_9_3'] (type: <class 'list'>)
2025-09-04 14:19:54,036 - logging_config - INFO - websocket_handlers.py:813 -   resolution: 1d (type: <class 'str'>)
2025-09-04 14:19:54,036 - logging_config - INFO - websocket_handlers.py:819 - üìä SERVER TIME RANGE ANALYSIS for PAXGUSDT:
2025-09-04 14:19:54,036 - logging_config - INFO - websocket_handlers.py:820 -   Old range: from_ts=1094331954, to_ts=1235093045
2025-09-04 14:19:54,036 - logging_config - INFO - websocket_handlers.py:821 -   New range: from_ts=1160707691, to_ts=1301461582
2025-09-04 14:19:54,036 - logging_config - INFO - websocket_handlers.py:822 -   Time range changed: True
2025-09-04 14:19:54,036 - logging_config - INFO - websocket_handlers.py:823 -   Historical sent: True
2025-09-04 14:19:54,036 - logging_config - INFO - websocket_handlers.py:824 -   Has timestamps: from_ts=True, to_ts=True
2025-09-04 14:19:54,036 - logging_config - INFO - websocket_handlers.py:843 -   üìÖ SERVER RECEIVED RANGE (UTC):
2025-09-04 14:19:54,036 - logging_config - INFO - websocket_handlers.py:844 -     From: 2006-10-13 02:48:11 UTC (1160707691)
2025-09-04 14:19:54,037 - logging_config - INFO - websocket_handlers.py:845 -     To: 2011-03-30 05:06:22 UTC (1301461582)
2025-09-04 14:19:54,037 - logging_config - INFO - websocket_handlers.py:846 -     Range: 140753891 seconds (39098.3 hours)
2025-09-04 14:19:54,037 - logging_config - INFO - websocket_handlers.py:848 -   üìÖ SERVER RECEIVED RANGE (Local Time):
2025-09-04 14:19:54,037 - logging_config - INFO - websocket_handlers.py:849 -     From: 2006-10-13 04:48:11 Central Europe Summer Time
2025-09-04 14:19:54,037 - logging_config - INFO - websocket_handlers.py:850 -     To: 2011-03-30 07:06:22 Central Europe Summer Time
2025-09-04 14:19:54,037 - logging_config - INFO - websocket_handlers.py:853 -   üåç TIMEZONE ANALYSIS:
2025-09-04 14:19:54,037 - logging_config - INFO - websocket_handlers.py:854 -     Server timezone: Central Europe Summer Time (UTC+2.0)
2025-09-04 14:19:54,037 - logging_config - INFO - websocket_handlers.py:855 -     User timezone (from logs): Europe/Ljubljana (UTC+2)
2025-09-04 14:19:54,037 - logging_config - INFO - websocket_handlers.py:856 -     Timezone difference: 0.0 hours
2025-09-04 14:19:54,037 - logging_config - INFO - websocket_handlers.py:859 -   üì§ DATA TO BE SENT TO CLIENT:
2025-09-04 14:19:54,037 - logging_config - INFO - websocket_handlers.py:860 -     Timestamps will be sent as seconds (not milliseconds)
2025-09-04 14:19:54,037 - logging_config - INFO - websocket_handlers.py:861 -     Client will receive: from_ts=1160707691, to_ts=1301461582
2025-09-04 14:19:54,037 - logging_config - INFO - websocket_handlers.py:862 -     Client local time equivalent: 2006-10-13 04:48:11 to 2011-03-30 07:06:22
2025-09-04 14:19:54,037 - logging_config - INFO - websocket_handlers.py:867 -   üìä USER'S CHART VIEW STATE:
2025-09-04 14:19:54,038 - logging_config - INFO - websocket_handlers.py:868 -     X-Axis Min: 30/08/2025, 10:31:39
2025-09-04 14:19:54,038 - logging_config - INFO - websocket_handlers.py:869 -     X-Axis Max: 04/09/2025, 01:58:37
2025-09-04 14:19:54,038 - logging_config - INFO - websocket_handlers.py:870 -     Expected local time range: 2025-08-30 10:31 to 2025-09-04 01:58
2025-09-04 14:19:54,038 - logging_config - INFO - websocket_handlers.py:871 -     Server received UTC equivalent: 2006-10-13 02:48 to 2011-03-30 05:06
2025-09-04 14:19:54,038 - logging_config - INFO - websocket_handlers.py:881 - Should send historical data: 1301461582
2025-09-04 14:19:54,038 - logging_config - INFO - websocket_handlers.py:884 - Sending historical data for PAXGUSDT - time range changed: True, historical_sent: True
2025-09-04 14:19:54,038 - logging_config - INFO - websocket_handlers.py:309 - Sending historical data for PAXGUSDT with indicators: ['macd', 'rsi', 'stochrsi_9_3']
2025-09-04 14:19:54,038 - logging_config - INFO - websocket_handlers.py:310 - Time range: from_ts=1160707691, to_ts=1301461582, resolution=1d
2025-09-04 14:19:54,038 - logging_config - INFO - websocket_handlers.py:320 - WebSocket session email found: klemenzivkovic@gmail.com
2025-09-04 14:19:54,038 - logging_config - INFO - websocket_handlers.py:325 - Looking for drawings: symbol=PAXGUSDT, resolution=1d, email=klemenzivkovic@gmail.com
2025-09-04 14:19:54,038 - logging_config - INFO - websocket_handlers.py:330 - Redis key for drawings: drawings:klemenzivkovic@gmail.com:PAXGUSDT
2025-09-04 14:19:54,039 - logging_config - INFO - drawing_manager.py:60 - get_drawings for PAXGUSDT with resolution '1d': found 4 total, returning 4 filtered.
2025-09-04 14:19:54,039 - logging_config - INFO - websocket_handlers.py:339 - Sending 4 existing drawings for PAXGUSDT
2025-09-04 14:19:54,039 - logging_config - INFO - websocket_handlers.py:345 - Sending drawing (4) message: {'type': 'drawings', 'symbol': 'PAXGUSDT', 'data': [{'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1749504979, 'end_time': 1757034460, 'start_price': 3498.39837005988, 'end_price': 3360.406707317073, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': {'buyOnCross': False, 'sellOnCross': False, 'sendEmailOnCross': True}, 'id': '23a034a5-9e91-488c-a076-b1dc9fa49f8f'}, {'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1750519797, 'end_time': 1756969828, 'start_price': 3263.9115544910173, 'end_price': 3290.8273239708183, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': {'buyOnCross': False, 'sellOnCross': False, 'sendEmailOnCross': True}, 'id': 'baf77e17-16dc-4817-b3ea-430467fa3a06'}, {'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1742353742, 'end_time': 1759291109, 'start_price': 3597.298721036928, 'end_price': 3334.7182204260644, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': None, 'id': '30d5ab26-ece7-434c-b489-9aeeccb27e56'}, {'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1739775769, 'end_time': 1755240008, 'start_price': 3168.595862896743, 'end_price': 3270.412791705037, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': None, 'id': '56ea858d-8f15-4f9d-a3ef-249b5e232b7a'}]}
2025-09-04 14:19:54,040 - logging_config - INFO - websocket_handlers.py:347 - Successfully sent drawings message to client
2025-09-04 14:19:54,040 - logging_config - INFO - redis_utils.py:103 - Querying sorted set 'zset:kline:PAXGUSDT:1d' for range [1160707691, 1301461582]
2025-09-04 14:19:54,040 - logging_config - INFO - redis_utils.py:106 - [TIMESTAMP DEBUG] redis_utils.py - get_cached_klines query:
2025-09-04 14:19:54,040 - logging_config - INFO - redis_utils.py:107 -   start_ts: 1160707691 (type: <class 'int'>)
2025-09-04 14:19:54,040 - logging_config - INFO - redis_utils.py:108 -   end_ts: 1301461582 (type: <class 'int'>)
2025-09-04 14:19:54,040 - logging_config - INFO - redis_utils.py:115 - [TIMESTAMP DEBUG] start_ts 1160707691 appears to be in SECONDS (correct for Redis)
2025-09-04 14:19:54,040 - logging_config - INFO - redis_utils.py:120 - [TIMESTAMP DEBUG] Checking Redis data sample for comparison...
2025-09-04 14:19:54,041 - logging_config - WARNING - redis_utils.py:129 - No data returned from zrangebyscore for key 'zset:kline:PAXGUSDT:1d' with range [1160707691, 1301461582]. Checking if key exists and has members...
2025-09-04 14:19:54,041 - logging_config - INFO - utility_endpoints.py:168 - POST /settings: RAW data received from client for symbol 'PAXGUSDT': {'symbol': 'PAXGUSDT', 'resolution': '1d', 'range': '3m', 'xAxisMin': 1195896164498, 'xAxisMax': 1266273109955, 'yAxisMin': 0.326427700711443, 'yAxisMax': 11.454132343173786, 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'useLocalOllama': False, 'localOllamaModelName': '', 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3'], 'liveDataEnabled': False, 'showAgentTrades': False, 'streamDeltaTime': 1, 'last_selected_symbol': 'PAXGUSDT'}
2025-09-04 14:19:54,044 - logging_config - INFO - utility_endpoints.py:199 - POST /settings for PAXGUSDT and email klemenzivkovic@gmail.com: current_symbol_settings compiled for Redis save: {'resolution': '1d', 'range': '3m', 'xAxisMin': 1195896164498, 'xAxisMax': 1266273109955, 'yAxisMin': 0.326427700711443, 'yAxisMax': 11.454132343173786, 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3'], 'liveDataEnabled': False, 'streamDeltaTime': 1, 'useLocalOllama': False, 'localOllamaModelName': '', 'showAgentTrades': False, 'symbol': 'PAXGUSDT', 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'last_selected_symbol': 'PAXGUSDT'}
2025-09-04 14:19:54,045 - logging_config - INFO - utility_endpoints.py:201 - POST /settings for PAXGUSDT: Client sent streamDeltaTime: 1. Value to be saved in Redis for streamDeltaTime: 1
2025-09-04 14:19:54,045 - logging_config - INFO - redis_utils.py:132 - Key 'zset:kline:PAXGUSDT:1d': Exists? 1, Cardinality: 1000
2025-09-04 14:19:54,045 - logging_config - INFO - redis_utils.py:134 - Fetching all members from 'zset:kline:PAXGUSDT:1d' to inspect scores, as zrangebyscore returned empty for range [1160707691, 1301461582].
2025-09-04 14:19:54,045 - logging_config - INFO - utility_endpoints.py:204 - POST /settings for PAXGUSDT and email klemenzivkovic@gmail.com: Settings updated in Redis for PAXGUSDT: {'resolution': '1d', 'range': '3m', 'xAxisMin': 1195896164498, 'xAxisMax': 1266273109955, 'yAxisMin': 0.326427700711443, 'yAxisMax': 11.454132343173786, 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3'], 'liveDataEnabled': False, 'streamDeltaTime': 1, 'useLocalOllama': False, 'localOllamaModelName': '', 'showAgentTrades': False, 'symbol': 'PAXGUSDT', 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'last_selected_symbol': 'PAXGUSDT'}
2025-09-04 14:19:54,050 - logging_config - INFO - redis_utils.py:137 - All members in '{sorted_set_key}' (first 5 shown if many):
2025-09-04 14:19:54,050 - logging_config - INFO - redis_utils.py:139 -   Member: {"time": 1670630400, "open": 1788.0, "high": 1791.0, "low": 1781.0, "close": 1787.0, "vol": 54.645}..., Score: 1670630400.0 (datetime: 2022-12-10 00:00:00+00:00)
2025-09-04 14:19:54,050 - logging_config - INFO - redis_utils.py:139 -   Member: {"time": 1670716800, "open": 1787.0, "high": 1802.0, "low": 1785.0, "close": 1798.0, "vol": 130.347}..., Score: 1670716800.0 (datetime: 2022-12-11 00:00:00+00:00)
2025-09-04 14:19:54,050 - logging_config - INFO - redis_utils.py:139 -   Member: {"time": 1670803200, "open": 1798.0, "high": 1798.0, "low": 1777.0, "close": 1783.0, "vol": 112.461}..., Score: 1670803200.0 (datetime: 2022-12-12 00:00:00+00:00)
2025-09-04 14:19:54,050 - logging_config - INFO - redis_utils.py:139 -   Member: {"time": 1670889600, "open": 1783.0, "high": 1815.0, "low": 1777.0, "close": 1807.0, "vol": 128.112}..., Score: 1670889600.0 (datetime: 2022-12-13 00:00:00+00:00)
2025-09-04 14:19:54,050 - logging_config - INFO - redis_utils.py:139 -   Member: {"time": 1670976000, "open": 1807.0, "high": 1820.0, "low": 1789.0, "close": 1802.0, "vol": 138.043}..., Score: 1670976000.0 (datetime: 2022-12-14 00:00:00+00:00)
2025-09-04 14:19:54,050 - logging_config - INFO - redis_utils.py:140 -   ... and 995 more members.
2025-09-04 14:19:54,050 - logging_config - INFO - redis_utils.py:159 - Found 0 cached klines for PAXGUSDT 1d between 1160707691 and 1301461582
2025-09-04 14:19:54,051 - logging_config - INFO - websocket_handlers.py:362 - ‚úÖ REDIS SUCCESS: Retrieved 0 klines from Redis for PAXGUSDT
2025-09-04 14:19:54,051 - logging_config - WARNING - websocket_handlers.py:370 - ‚ö†Ô∏è No historical klines found in Redis cache for PAXGUSDT
2025-09-04 14:19:54,051 - logging_config - INFO - websocket_handlers.py:371 - üîÑ FALLBACK: Attempting to fetch data from Bybit API for PAXGUSDT
2025-09-04 14:19:54,051 - logging_config - INFO - websocket_handlers.py:378 - üì° FETCHING FROM BYBIT: PAXGUSDT 1d from 1160707691 to 1301461582
2025-09-04 14:19:54,245 - logging_config - INFO - redis_utils.py:340 - No more data available from Bybit for PAXGUSDT 1d at batch #1
2025-09-04 14:19:54,245 - logging_config - WARNING - websocket_handlers.py:391 - ‚ùå BYBIT FAILURE: No data fetched from Bybit for PAXGUSDT
2025-09-04 14:19:54,543 - logging_config - INFO - websocket_handlers.py:742 - üì® RAW MESSAGE RECEIVED for PAXGUSDT: {
  "type": "config",
  "symbol": "PAXGUSDT",
  "indicators": [
    "macd",
    "rsi",
    "stochrsi_9_3"
  ],
  "resolution": "1d",
  "from_ts": 1160707691769,
  "to_ts": 1301461582683
}
2025-09-04 14:19:54,544 - logging_config - INFO - websocket_handlers.py:747 - [TIMESTAMP DEBUG] websocket_handlers.py - Received timestamps:
2025-09-04 14:19:54,544 - logging_config - INFO - websocket_handlers.py:748 -   from_ts: 1160707691769 (type: <class 'int'>)
2025-09-04 14:19:54,544 - logging_config - INFO - websocket_handlers.py:749 -   to_ts: 1301461582683 (type: <class 'int'>)
2025-09-04 14:19:54,544 - logging_config - WARNING - websocket_handlers.py:769 - [TIMESTAMP DEBUG] from_ts 1160707691769 appears to be in MILLISECONDS (should be seconds)
2025-09-04 14:19:54,544 - logging_config - INFO - websocket_handlers.py:770 -   Converting to seconds: 1160707691
2025-09-04 14:19:54,544 - logging_config - INFO - websocket_handlers.py:774 - [TIMESTAMP CONVERSION] Client milliseconds -> Server seconds:
2025-09-04 14:19:54,544 - logging_config - INFO - websocket_handlers.py:775 -   1160707691769 -> 1160707691 (2006-10-13 02:48:11 UTC)
2025-09-04 14:19:54,544 - logging_config - INFO - websocket_handlers.py:776 -   1301461582683 -> 1301461582 (2011-03-30 05:06:22 UTC)
2025-09-04 14:19:54,545 - logging_config - INFO - websocket_handlers.py:795 - [TIMESTAMP FIX] Final timestamps set:
2025-09-04 14:19:54,545 - logging_config - INFO - websocket_handlers.py:796 -   from_ts: 1160707691 (type: <class 'int'>)
2025-09-04 14:19:54,545 - logging_config - INFO - websocket_handlers.py:797 -   to_ts: 1301461582 (type: <class 'int'>)
2025-09-04 14:19:54,545 - logging_config - INFO - websocket_handlers.py:807 - Client config updated for PAXGUSDT: indicators=['macd', 'rsi', 'stochrsi_9_3'], resolution=1d
2025-09-04 14:19:54,545 - logging_config - INFO - websocket_handlers.py:808 - üìä MESSAGE FIELD VALUES for PAXGUSDT:
2025-09-04 14:19:54,545 - logging_config - INFO - websocket_handlers.py:809 -   symbol: PAXGUSDT (fallback: PAXGUSDT)
2025-09-04 14:19:54,545 - logging_config - INFO - websocket_handlers.py:810 -   from_ts: 1160707691769 (type: <class 'int'>)
2025-09-04 14:19:54,545 - logging_config - INFO - websocket_handlers.py:811 -   to_ts: 1301461582683 (type: <class 'int'>)
2025-09-04 14:19:54,545 - logging_config - INFO - websocket_handlers.py:812 -   indicators: ['macd', 'rsi', 'stochrsi_9_3'] (type: <class 'list'>)
2025-09-04 14:19:54,545 - logging_config - INFO - websocket_handlers.py:813 -   resolution: 1d (type: <class 'str'>)
2025-09-04 14:19:54,545 - logging_config - INFO - websocket_handlers.py:819 - üìä SERVER TIME RANGE ANALYSIS for PAXGUSDT:
2025-09-04 14:19:54,545 - logging_config - INFO - websocket_handlers.py:820 -   Old range: from_ts=1160707691, to_ts=1301461582
2025-09-04 14:19:54,545 - logging_config - INFO - websocket_handlers.py:821 -   New range: from_ts=1160707691, to_ts=1301461582
2025-09-04 14:19:54,546 - logging_config - INFO - websocket_handlers.py:822 -   Time range changed: False
2025-09-04 14:19:54,546 - logging_config - INFO - websocket_handlers.py:823 -   Historical sent: True
2025-09-04 14:19:54,546 - logging_config - INFO - websocket_handlers.py:824 -   Has timestamps: from_ts=True, to_ts=True
2025-09-04 14:19:54,546 - logging_config - INFO - websocket_handlers.py:843 -   üìÖ SERVER RECEIVED RANGE (UTC):
2025-09-04 14:19:54,546 - logging_config - INFO - websocket_handlers.py:844 -     From: 2006-10-13 02:48:11 UTC (1160707691)
2025-09-04 14:19:54,546 - logging_config - INFO - websocket_handlers.py:845 -     To: 2011-03-30 05:06:22 UTC (1301461582)
2025-09-04 14:19:54,546 - logging_config - INFO - websocket_handlers.py:846 -     Range: 140753891 seconds (39098.3 hours)
2025-09-04 14:19:54,546 - logging_config - INFO - websocket_handlers.py:848 -   üìÖ SERVER RECEIVED RANGE (Local Time):
2025-09-04 14:19:54,546 - logging_config - INFO - websocket_handlers.py:849 -     From: 2006-10-13 04:48:11 Central Europe Summer Time
2025-09-04 14:19:54,546 - logging_config - INFO - websocket_handlers.py:850 -     To: 2011-03-30 07:06:22 Central Europe Summer Time
2025-09-04 14:19:54,546 - logging_config - INFO - websocket_handlers.py:853 -   üåç TIMEZONE ANALYSIS:
2025-09-04 14:19:54,546 - logging_config - INFO - websocket_handlers.py:854 -     Server timezone: Central Europe Summer Time (UTC+2.0)
2025-09-04 14:19:54,547 - logging_config - INFO - websocket_handlers.py:855 -     User timezone (from logs): Europe/Ljubljana (UTC+2)
2025-09-04 14:19:54,547 - logging_config - INFO - websocket_handlers.py:856 -     Timezone difference: 0.0 hours
2025-09-04 14:19:54,547 - logging_config - INFO - websocket_handlers.py:859 -   üì§ DATA TO BE SENT TO CLIENT:
2025-09-04 14:19:54,547 - logging_config - INFO - websocket_handlers.py:860 -     Timestamps will be sent as seconds (not milliseconds)
2025-09-04 14:19:54,547 - logging_config - INFO - websocket_handlers.py:861 -     Client will receive: from_ts=1160707691, to_ts=1301461582
2025-09-04 14:19:54,547 - logging_config - INFO - websocket_handlers.py:862 -     Client local time equivalent: 2006-10-13 04:48:11 to 2011-03-30 07:06:22
2025-09-04 14:19:54,547 - logging_config - INFO - websocket_handlers.py:867 -   üìä USER'S CHART VIEW STATE:
2025-09-04 14:19:54,547 - logging_config - INFO - websocket_handlers.py:868 -     X-Axis Min: 30/08/2025, 10:31:39
2025-09-04 14:19:54,547 - logging_config - INFO - websocket_handlers.py:869 -     X-Axis Max: 04/09/2025, 01:58:37
2025-09-04 14:19:54,547 - logging_config - INFO - websocket_handlers.py:870 -     Expected local time range: 2025-08-30 10:31 to 2025-09-04 01:58
2025-09-04 14:19:54,547 - logging_config - INFO - websocket_handlers.py:871 -     Server received UTC equivalent: 2006-10-13 02:48 to 2011-03-30 05:06
2025-09-04 14:19:54,547 - logging_config - INFO - websocket_handlers.py:881 - Should send historical data: False
2025-09-04 14:19:54,547 - logging_config - INFO - websocket_handlers.py:887 - NOT sending historical data for PAXGUSDT - conditions not met
2025-09-04 14:19:54,548 - logging_config - INFO - websocket_handlers.py:505 - Starting live stream for PAXGUSDT from Redis stream: stream:kline:PAXGUSDT:1d
2025-09-04 14:19:54,615 - logging_config - INFO - utility_endpoints.py:168 - POST /settings: RAW data received from client for symbol 'PAXGUSDT': {'symbol': 'PAXGUSDT', 'resolution': '1d', 'range': '3m', 'xAxisMin': 1217493409143, 'xAxisMax': 1287870354600, 'yAxisMin': 0.6010244075172118, 'yAxisMax': 11.728729049979554, 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'useLocalOllama': False, 'localOllamaModelName': '', 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3'], 'liveDataEnabled': False, 'showAgentTrades': False, 'streamDeltaTime': 1, 'last_selected_symbol': 'PAXGUSDT'}
2025-09-04 14:19:54,616 - logging_config - INFO - utility_endpoints.py:199 - POST /settings for PAXGUSDT and email klemenzivkovic@gmail.com: current_symbol_settings compiled for Redis save: {'resolution': '1d', 'range': '3m', 'xAxisMin': 1217493409143, 'xAxisMax': 1287870354600, 'yAxisMin': 0.6010244075172118, 'yAxisMax': 11.728729049979554, 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3'], 'liveDataEnabled': False, 'streamDeltaTime': 1, 'useLocalOllama': False, 'localOllamaModelName': '', 'showAgentTrades': False, 'symbol': 'PAXGUSDT', 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'last_selected_symbol': 'PAXGUSDT'}
2025-09-04 14:19:54,616 - logging_config - INFO - utility_endpoints.py:201 - POST /settings for PAXGUSDT: Client sent streamDeltaTime: 1. Value to be saved in Redis for streamDeltaTime: 1
2025-09-04 14:19:54,617 - logging_config - INFO - utility_endpoints.py:204 - POST /settings for PAXGUSDT and email klemenzivkovic@gmail.com: Settings updated in Redis for PAXGUSDT: {'resolution': '1d', 'range': '3m', 'xAxisMin': 1217493409143, 'xAxisMax': 1287870354600, 'yAxisMin': 0.6010244075172118, 'yAxisMax': 11.728729049979554, 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3'], 'liveDataEnabled': False, 'streamDeltaTime': 1, 'useLocalOllama': False, 'localOllamaModelName': '', 'showAgentTrades': False, 'symbol': 'PAXGUSDT', 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'last_selected_symbol': 'PAXGUSDT'}
2025-09-04 14:19:55,112 - logging_config - INFO - websocket_handlers.py:742 - üì® RAW MESSAGE RECEIVED for PAXGUSDT: {
  "type": "config",
  "symbol": "PAXGUSDT",
  "indicators": [
    "macd",
    "rsi",
    "stochrsi_9_3"
  ],
  "resolution": "1d",
  "from_ts": 1182304936414,
  "to_ts": 1323058827328
}
2025-09-04 14:19:55,112 - logging_config - INFO - websocket_handlers.py:747 - [TIMESTAMP DEBUG] websocket_handlers.py - Received timestamps:
2025-09-04 14:19:55,112 - logging_config - INFO - websocket_handlers.py:748 -   from_ts: 1182304936414 (type: <class 'int'>)
2025-09-04 14:19:55,112 - logging_config - INFO - websocket_handlers.py:749 -   to_ts: 1323058827328 (type: <class 'int'>)
2025-09-04 14:19:55,112 - logging_config - WARNING - websocket_handlers.py:769 - [TIMESTAMP DEBUG] from_ts 1182304936414 appears to be in MILLISECONDS (should be seconds)
2025-09-04 14:19:55,112 - logging_config - INFO - websocket_handlers.py:770 -   Converting to seconds: 1182304936
2025-09-04 14:19:55,113 - logging_config - INFO - websocket_handlers.py:774 - [TIMESTAMP CONVERSION] Client milliseconds -> Server seconds:
2025-09-04 14:19:55,113 - logging_config - INFO - websocket_handlers.py:775 -   1182304936414 -> 1182304936 (2007-06-20 02:02:16 UTC)
2025-09-04 14:19:55,113 - logging_config - INFO - websocket_handlers.py:776 -   1323058827328 -> 1323058827 (2011-12-05 04:20:27 UTC)
2025-09-04 14:19:55,113 - logging_config - INFO - websocket_handlers.py:795 - [TIMESTAMP FIX] Final timestamps set:
2025-09-04 14:19:55,113 - logging_config - INFO - websocket_handlers.py:796 -   from_ts: 1182304936 (type: <class 'int'>)
2025-09-04 14:19:55,113 - logging_config - INFO - websocket_handlers.py:797 -   to_ts: 1323058827 (type: <class 'int'>)
2025-09-04 14:19:55,113 - logging_config - INFO - websocket_handlers.py:807 - Client config updated for PAXGUSDT: indicators=['macd', 'rsi', 'stochrsi_9_3'], resolution=1d
2025-09-04 14:19:55,113 - logging_config - INFO - websocket_handlers.py:808 - üìä MESSAGE FIELD VALUES for PAXGUSDT:
2025-09-04 14:19:55,114 - logging_config - INFO - websocket_handlers.py:809 -   symbol: PAXGUSDT (fallback: PAXGUSDT)
2025-09-04 14:19:55,114 - logging_config - INFO - websocket_handlers.py:810 -   from_ts: 1182304936414 (type: <class 'int'>)
2025-09-04 14:19:55,114 - logging_config - INFO - websocket_handlers.py:811 -   to_ts: 1323058827328 (type: <class 'int'>)
2025-09-04 14:19:55,114 - logging_config - INFO - websocket_handlers.py:812 -   indicators: ['macd', 'rsi', 'stochrsi_9_3'] (type: <class 'list'>)
2025-09-04 14:19:55,114 - logging_config - INFO - websocket_handlers.py:813 -   resolution: 1d (type: <class 'str'>)
2025-09-04 14:19:55,114 - logging_config - INFO - websocket_handlers.py:819 - üìä SERVER TIME RANGE ANALYSIS for PAXGUSDT:
2025-09-04 14:19:55,114 - logging_config - INFO - websocket_handlers.py:820 -   Old range: from_ts=1160707691, to_ts=1301461582
2025-09-04 14:19:55,114 - logging_config - INFO - websocket_handlers.py:821 -   New range: from_ts=1182304936, to_ts=1323058827
2025-09-04 14:19:55,114 - logging_config - INFO - websocket_handlers.py:822 -   Time range changed: True
2025-09-04 14:19:55,114 - logging_config - INFO - websocket_handlers.py:823 -   Historical sent: True
2025-09-04 14:19:55,114 - logging_config - INFO - websocket_handlers.py:824 -   Has timestamps: from_ts=True, to_ts=True
2025-09-04 14:19:55,114 - logging_config - INFO - websocket_handlers.py:843 -   üìÖ SERVER RECEIVED RANGE (UTC):
2025-09-04 14:19:55,115 - logging_config - INFO - websocket_handlers.py:844 -     From: 2007-06-20 02:02:16 UTC (1182304936)
2025-09-04 14:19:55,115 - logging_config - INFO - websocket_handlers.py:845 -     To: 2011-12-05 04:20:27 UTC (1323058827)
2025-09-04 14:19:55,115 - logging_config - INFO - websocket_handlers.py:846 -     Range: 140753891 seconds (39098.3 hours)
2025-09-04 14:19:55,115 - logging_config - INFO - websocket_handlers.py:848 -   üìÖ SERVER RECEIVED RANGE (Local Time):
2025-09-04 14:19:55,115 - logging_config - INFO - websocket_handlers.py:849 -     From: 2007-06-20 04:02:16 Central Europe Summer Time
2025-09-04 14:19:55,115 - logging_config - INFO - websocket_handlers.py:850 -     To: 2011-12-05 06:20:27 Central Europe Summer Time
2025-09-04 14:19:55,115 - logging_config - INFO - websocket_handlers.py:853 -   üåç TIMEZONE ANALYSIS:
2025-09-04 14:19:55,115 - logging_config - INFO - websocket_handlers.py:854 -     Server timezone: Central Europe Summer Time (UTC+2.0)
2025-09-04 14:19:55,115 - logging_config - INFO - websocket_handlers.py:855 -     User timezone (from logs): Europe/Ljubljana (UTC+2)
2025-09-04 14:19:55,115 - logging_config - INFO - websocket_handlers.py:856 -     Timezone difference: 0.0 hours
2025-09-04 14:19:55,116 - logging_config - INFO - websocket_handlers.py:859 -   üì§ DATA TO BE SENT TO CLIENT:
2025-09-04 14:19:55,116 - logging_config - INFO - websocket_handlers.py:860 -     Timestamps will be sent as seconds (not milliseconds)
2025-09-04 14:19:55,116 - logging_config - INFO - websocket_handlers.py:861 -     Client will receive: from_ts=1182304936, to_ts=1323058827
2025-09-04 14:19:55,116 - logging_config - INFO - websocket_handlers.py:862 -     Client local time equivalent: 2007-06-20 04:02:16 to 2011-12-05 06:20:27
2025-09-04 14:19:55,116 - logging_config - INFO - websocket_handlers.py:867 -   üìä USER'S CHART VIEW STATE:
2025-09-04 14:19:55,116 - logging_config - INFO - websocket_handlers.py:868 -     X-Axis Min: 30/08/2025, 10:31:39
2025-09-04 14:19:55,116 - logging_config - INFO - websocket_handlers.py:869 -     X-Axis Max: 04/09/2025, 01:58:37
2025-09-04 14:19:55,116 - logging_config - INFO - websocket_handlers.py:870 -     Expected local time range: 2025-08-30 10:31 to 2025-09-04 01:58
2025-09-04 14:19:55,116 - logging_config - INFO - websocket_handlers.py:871 -     Server received UTC equivalent: 2007-06-20 02:02 to 2011-12-05 04:20
2025-09-04 14:19:55,116 - logging_config - INFO - websocket_handlers.py:881 - Should send historical data: 1323058827
2025-09-04 14:19:55,116 - logging_config - INFO - websocket_handlers.py:884 - Sending historical data for PAXGUSDT - time range changed: True, historical_sent: True
2025-09-04 14:19:55,116 - logging_config - INFO - websocket_handlers.py:309 - Sending historical data for PAXGUSDT with indicators: ['macd', 'rsi', 'stochrsi_9_3']
2025-09-04 14:19:55,116 - logging_config - INFO - websocket_handlers.py:310 - Time range: from_ts=1182304936, to_ts=1323058827, resolution=1d
2025-09-04 14:19:55,116 - logging_config - INFO - websocket_handlers.py:320 - WebSocket session email found: klemenzivkovic@gmail.com
2025-09-04 14:19:55,116 - logging_config - INFO - websocket_handlers.py:325 - Looking for drawings: symbol=PAXGUSDT, resolution=1d, email=klemenzivkovic@gmail.com
2025-09-04 14:19:55,117 - logging_config - INFO - websocket_handlers.py:330 - Redis key for drawings: drawings:klemenzivkovic@gmail.com:PAXGUSDT
2025-09-04 14:19:55,117 - logging_config - INFO - drawing_manager.py:60 - get_drawings for PAXGUSDT with resolution '1d': found 4 total, returning 4 filtered.
2025-09-04 14:19:55,117 - logging_config - INFO - websocket_handlers.py:339 - Sending 4 existing drawings for PAXGUSDT
2025-09-04 14:19:55,117 - logging_config - INFO - websocket_handlers.py:345 - Sending drawing (4) message: {'type': 'drawings', 'symbol': 'PAXGUSDT', 'data': [{'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1749504979, 'end_time': 1757034460, 'start_price': 3498.39837005988, 'end_price': 3360.406707317073, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': {'buyOnCross': False, 'sellOnCross': False, 'sendEmailOnCross': True}, 'id': '23a034a5-9e91-488c-a076-b1dc9fa49f8f'}, {'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1750519797, 'end_time': 1756969828, 'start_price': 3263.9115544910173, 'end_price': 3290.8273239708183, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': {'buyOnCross': False, 'sellOnCross': False, 'sendEmailOnCross': True}, 'id': 'baf77e17-16dc-4817-b3ea-430467fa3a06'}, {'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1742353742, 'end_time': 1759291109, 'start_price': 3597.298721036928, 'end_price': 3334.7182204260644, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': None, 'id': '30d5ab26-ece7-434c-b489-9aeeccb27e56'}, {'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1739775769, 'end_time': 1755240008, 'start_price': 3168.595862896743, 'end_price': 3270.412791705037, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': None, 'id': '56ea858d-8f15-4f9d-a3ef-249b5e232b7a'}]}
2025-09-04 14:19:55,118 - logging_config - INFO - websocket_handlers.py:347 - Successfully sent drawings message to client
2025-09-04 14:19:55,118 - logging_config - INFO - redis_utils.py:103 - Querying sorted set 'zset:kline:PAXGUSDT:1d' for range [1182304936, 1323058827]
2025-09-04 14:19:55,118 - logging_config - INFO - redis_utils.py:106 - [TIMESTAMP DEBUG] redis_utils.py - get_cached_klines query:
2025-09-04 14:19:55,118 - logging_config - INFO - redis_utils.py:107 -   start_ts: 1182304936 (type: <class 'int'>)
2025-09-04 14:19:55,118 - logging_config - INFO - redis_utils.py:108 -   end_ts: 1323058827 (type: <class 'int'>)
2025-09-04 14:19:55,118 - logging_config - INFO - redis_utils.py:115 - [TIMESTAMP DEBUG] start_ts 1182304936 appears to be in SECONDS (correct for Redis)
2025-09-04 14:19:55,118 - logging_config - INFO - redis_utils.py:120 - [TIMESTAMP DEBUG] Checking Redis data sample for comparison...
2025-09-04 14:19:55,119 - logging_config - WARNING - redis_utils.py:129 - No data returned from zrangebyscore for key 'zset:kline:PAXGUSDT:1d' with range [1182304936, 1323058827]. Checking if key exists and has members...
2025-09-04 14:19:55,119 - logging_config - INFO - redis_utils.py:132 - Key 'zset:kline:PAXGUSDT:1d': Exists? 1, Cardinality: 1000
2025-09-04 14:19:55,120 - logging_config - INFO - redis_utils.py:134 - Fetching all members from 'zset:kline:PAXGUSDT:1d' to inspect scores, as zrangebyscore returned empty for range [1182304936, 1323058827].
2025-09-04 14:19:55,125 - logging_config - INFO - redis_utils.py:137 - All members in '{sorted_set_key}' (first 5 shown if many):
2025-09-04 14:19:55,125 - logging_config - INFO - redis_utils.py:139 -   Member: {"time": 1670630400, "open": 1788.0, "high": 1791.0, "low": 1781.0, "close": 1787.0, "vol": 54.645}..., Score: 1670630400.0 (datetime: 2022-12-10 00:00:00+00:00)
2025-09-04 14:19:55,125 - logging_config - INFO - redis_utils.py:139 -   Member: {"time": 1670716800, "open": 1787.0, "high": 1802.0, "low": 1785.0, "close": 1798.0, "vol": 130.347}..., Score: 1670716800.0 (datetime: 2022-12-11 00:00:00+00:00)
2025-09-04 14:19:55,125 - logging_config - INFO - redis_utils.py:139 -   Member: {"time": 1670803200, "open": 1798.0, "high": 1798.0, "low": 1777.0, "close": 1783.0, "vol": 112.461}..., Score: 1670803200.0 (datetime: 2022-12-12 00:00:00+00:00)
2025-09-04 14:19:55,126 - logging_config - INFO - redis_utils.py:139 -   Member: {"time": 1670889600, "open": 1783.0, "high": 1815.0, "low": 1777.0, "close": 1807.0, "vol": 128.112}..., Score: 1670889600.0 (datetime: 2022-12-13 00:00:00+00:00)
2025-09-04 14:19:55,126 - logging_config - INFO - redis_utils.py:139 -   Member: {"time": 1670976000, "open": 1807.0, "high": 1820.0, "low": 1789.0, "close": 1802.0, "vol": 138.043}..., Score: 1670976000.0 (datetime: 2022-12-14 00:00:00+00:00)
2025-09-04 14:19:55,126 - logging_config - INFO - redis_utils.py:140 -   ... and 995 more members.
2025-09-04 14:19:55,126 - logging_config - INFO - redis_utils.py:159 - Found 0 cached klines for PAXGUSDT 1d between 1182304936 and 1323058827
2025-09-04 14:19:55,126 - logging_config - INFO - websocket_handlers.py:362 - ‚úÖ REDIS SUCCESS: Retrieved 0 klines from Redis for PAXGUSDT
2025-09-04 14:19:55,126 - logging_config - WARNING - websocket_handlers.py:370 - ‚ö†Ô∏è No historical klines found in Redis cache for PAXGUSDT
2025-09-04 14:19:55,126 - logging_config - INFO - websocket_handlers.py:371 - üîÑ FALLBACK: Attempting to fetch data from Bybit API for PAXGUSDT
2025-09-04 14:19:55,126 - logging_config - INFO - websocket_handlers.py:378 - üì° FETCHING FROM BYBIT: PAXGUSDT 1d from 1182304936 to 1323058827
2025-09-04 14:19:55,301 - logging_config - INFO - redis_utils.py:340 - No more data available from Bybit for PAXGUSDT 1d at batch #1
2025-09-04 14:19:55,301 - logging_config - WARNING - websocket_handlers.py:391 - ‚ùå BYBIT FAILURE: No data fetched from Bybit for PAXGUSDT
2025-09-04 14:19:55,303 - logging_config - INFO - utility_endpoints.py:168 - POST /settings: RAW data received from client for symbol 'PAXGUSDT': {'symbol': 'PAXGUSDT', 'resolution': '1d', 'range': '3m', 'xAxisMin': 1247891371971, 'xAxisMax': 1318268317428, 'yAxisMin': 1.3463583259900127, 'yAxisMax': 12.474062968452355, 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'useLocalOllama': False, 'localOllamaModelName': '', 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3'], 'liveDataEnabled': False, 'showAgentTrades': False, 'streamDeltaTime': 1, 'last_selected_symbol': 'PAXGUSDT'}
2025-09-04 14:19:55,303 - logging_config - INFO - utility_endpoints.py:199 - POST /settings for PAXGUSDT and email klemenzivkovic@gmail.com: current_symbol_settings compiled for Redis save: {'resolution': '1d', 'range': '3m', 'xAxisMin': 1247891371971, 'xAxisMax': 1318268317428, 'yAxisMin': 1.3463583259900127, 'yAxisMax': 12.474062968452355, 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3'], 'liveDataEnabled': False, 'streamDeltaTime': 1, 'useLocalOllama': False, 'localOllamaModelName': '', 'showAgentTrades': False, 'symbol': 'PAXGUSDT', 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'last_selected_symbol': 'PAXGUSDT'}
2025-09-04 14:19:55,303 - logging_config - INFO - utility_endpoints.py:201 - POST /settings for PAXGUSDT: Client sent streamDeltaTime: 1. Value to be saved in Redis for streamDeltaTime: 1
2025-09-04 14:19:55,304 - logging_config - INFO - utility_endpoints.py:204 - POST /settings for PAXGUSDT and email klemenzivkovic@gmail.com: Settings updated in Redis for PAXGUSDT: {'resolution': '1d', 'range': '3m', 'xAxisMin': 1247891371971, 'xAxisMax': 1318268317428, 'yAxisMin': 1.3463583259900127, 'yAxisMax': 12.474062968452355, 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3'], 'liveDataEnabled': False, 'streamDeltaTime': 1, 'useLocalOllama': False, 'localOllamaModelName': '', 'showAgentTrades': False, 'symbol': 'PAXGUSDT', 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'last_selected_symbol': 'PAXGUSDT'}
2025-09-04 14:19:55,725 - logging_config - INFO - websocket_handlers.py:742 - üì® RAW MESSAGE RECEIVED for PAXGUSDT: {
  "type": "config",
  "symbol": "PAXGUSDT",
  "indicators": [
    "macd",
    "rsi",
    "stochrsi_9_3"
  ],
  "resolution": "1d",
  "from_ts": 1212702899242,
  "to_ts": 1353456790156
}
2025-09-04 14:19:55,726 - logging_config - INFO - websocket_handlers.py:747 - [TIMESTAMP DEBUG] websocket_handlers.py - Received timestamps:
2025-09-04 14:19:55,726 - logging_config - INFO - websocket_handlers.py:748 -   from_ts: 1212702899242 (type: <class 'int'>)
2025-09-04 14:19:55,726 - logging_config - INFO - websocket_handlers.py:749 -   to_ts: 1353456790156 (type: <class 'int'>)
2025-09-04 14:19:55,726 - logging_config - WARNING - websocket_handlers.py:769 - [TIMESTAMP DEBUG] from_ts 1212702899242 appears to be in MILLISECONDS (should be seconds)
2025-09-04 14:19:55,726 - logging_config - INFO - websocket_handlers.py:770 -   Converting to seconds: 1212702899
2025-09-04 14:19:55,726 - logging_config - INFO - websocket_handlers.py:774 - [TIMESTAMP CONVERSION] Client milliseconds -> Server seconds:
2025-09-04 14:19:55,726 - logging_config - INFO - websocket_handlers.py:775 -   1212702899242 -> 1212702899 (2008-06-05 21:54:59 UTC)
2025-09-04 14:19:55,726 - logging_config - INFO - websocket_handlers.py:776 -   1353456790156 -> 1353456790 (2012-11-21 00:13:10 UTC)
2025-09-04 14:19:55,726 - logging_config - INFO - websocket_handlers.py:795 - [TIMESTAMP FIX] Final timestamps set:
2025-09-04 14:19:55,726 - logging_config - INFO - websocket_handlers.py:796 -   from_ts: 1212702899 (type: <class 'int'>)
2025-09-04 14:19:55,726 - logging_config - INFO - websocket_handlers.py:797 -   to_ts: 1353456790 (type: <class 'int'>)
2025-09-04 14:19:55,726 - logging_config - INFO - websocket_handlers.py:807 - Client config updated for PAXGUSDT: indicators=['macd', 'rsi', 'stochrsi_9_3'], resolution=1d
2025-09-04 14:19:55,727 - logging_config - INFO - websocket_handlers.py:808 - üìä MESSAGE FIELD VALUES for PAXGUSDT:
2025-09-04 14:19:55,727 - logging_config - INFO - websocket_handlers.py:809 -   symbol: PAXGUSDT (fallback: PAXGUSDT)
2025-09-04 14:19:55,727 - logging_config - INFO - websocket_handlers.py:810 -   from_ts: 1212702899242 (type: <class 'int'>)
2025-09-04 14:19:55,727 - logging_config - INFO - websocket_handlers.py:811 -   to_ts: 1353456790156 (type: <class 'int'>)
2025-09-04 14:19:55,727 - logging_config - INFO - websocket_handlers.py:812 -   indicators: ['macd', 'rsi', 'stochrsi_9_3'] (type: <class 'list'>)
2025-09-04 14:19:55,727 - logging_config - INFO - websocket_handlers.py:813 -   resolution: 1d (type: <class 'str'>)
2025-09-04 14:19:55,727 - logging_config - INFO - websocket_handlers.py:819 - üìä SERVER TIME RANGE ANALYSIS for PAXGUSDT:
2025-09-04 14:19:55,727 - logging_config - INFO - websocket_handlers.py:820 -   Old range: from_ts=1182304936, to_ts=1323058827
2025-09-04 14:19:55,727 - logging_config - INFO - websocket_handlers.py:821 -   New range: from_ts=1212702899, to_ts=1353456790
2025-09-04 14:19:55,727 - logging_config - INFO - websocket_handlers.py:822 -   Time range changed: True
2025-09-04 14:19:55,727 - logging_config - INFO - websocket_handlers.py:823 -   Historical sent: True
2025-09-04 14:19:55,727 - logging_config - INFO - websocket_handlers.py:824 -   Has timestamps: from_ts=True, to_ts=True
2025-09-04 14:19:55,727 - logging_config - INFO - websocket_handlers.py:843 -   üìÖ SERVER RECEIVED RANGE (UTC):
2025-09-04 14:19:55,728 - logging_config - INFO - websocket_handlers.py:844 -     From: 2008-06-05 21:54:59 UTC (1212702899)
2025-09-04 14:19:55,728 - logging_config - INFO - websocket_handlers.py:845 -     To: 2012-11-21 00:13:10 UTC (1353456790)
2025-09-04 14:19:55,728 - logging_config - INFO - websocket_handlers.py:846 -     Range: 140753891 seconds (39098.3 hours)
2025-09-04 14:19:55,728 - logging_config - INFO - websocket_handlers.py:848 -   üìÖ SERVER RECEIVED RANGE (Local Time):
2025-09-04 14:19:55,728 - logging_config - INFO - websocket_handlers.py:849 -     From: 2008-06-05 23:54:59 Central Europe Summer Time
2025-09-04 14:19:55,728 - logging_config - INFO - websocket_handlers.py:850 -     To: 2012-11-21 02:13:10 Central Europe Summer Time
2025-09-04 14:19:55,728 - logging_config - INFO - websocket_handlers.py:853 -   üåç TIMEZONE ANALYSIS:
2025-09-04 14:19:55,728 - logging_config - INFO - websocket_handlers.py:854 -     Server timezone: Central Europe Summer Time (UTC+2.0)
2025-09-04 14:19:55,728 - logging_config - INFO - websocket_handlers.py:855 -     User timezone (from logs): Europe/Ljubljana (UTC+2)
2025-09-04 14:19:55,728 - logging_config - INFO - websocket_handlers.py:856 -     Timezone difference: 0.0 hours
2025-09-04 14:19:55,728 - logging_config - INFO - websocket_handlers.py:859 -   üì§ DATA TO BE SENT TO CLIENT:
2025-09-04 14:19:55,728 - logging_config - INFO - websocket_handlers.py:860 -     Timestamps will be sent as seconds (not milliseconds)
2025-09-04 14:19:55,728 - logging_config - INFO - websocket_handlers.py:861 -     Client will receive: from_ts=1212702899, to_ts=1353456790
2025-09-04 14:19:55,728 - logging_config - INFO - websocket_handlers.py:862 -     Client local time equivalent: 2008-06-05 23:54:59 to 2012-11-21 02:13:10
2025-09-04 14:19:55,728 - logging_config - INFO - websocket_handlers.py:867 -   üìä USER'S CHART VIEW STATE:
2025-09-04 14:19:55,728 - logging_config - INFO - websocket_handlers.py:868 -     X-Axis Min: 30/08/2025, 10:31:39
2025-09-04 14:19:55,728 - logging_config - INFO - websocket_handlers.py:869 -     X-Axis Max: 04/09/2025, 01:58:37
2025-09-04 14:19:55,728 - logging_config - INFO - websocket_handlers.py:870 -     Expected local time range: 2025-08-30 10:31 to 2025-09-04 01:58
2025-09-04 14:19:55,728 - logging_config - INFO - websocket_handlers.py:871 -     Server received UTC equivalent: 2008-06-05 21:54 to 2012-11-21 00:13
2025-09-04 14:19:55,730 - logging_config - INFO - websocket_handlers.py:881 - Should send historical data: 1353456790
2025-09-04 14:19:55,730 - logging_config - INFO - websocket_handlers.py:884 - Sending historical data for PAXGUSDT - time range changed: True, historical_sent: True
2025-09-04 14:19:55,730 - logging_config - INFO - websocket_handlers.py:309 - Sending historical data for PAXGUSDT with indicators: ['macd', 'rsi', 'stochrsi_9_3']
2025-09-04 14:19:55,730 - logging_config - INFO - websocket_handlers.py:310 - Time range: from_ts=1212702899, to_ts=1353456790, resolution=1d
2025-09-04 14:19:55,730 - logging_config - INFO - websocket_handlers.py:320 - WebSocket session email found: klemenzivkovic@gmail.com
2025-09-04 14:19:55,730 - logging_config - INFO - websocket_handlers.py:325 - Looking for drawings: symbol=PAXGUSDT, resolution=1d, email=klemenzivkovic@gmail.com
2025-09-04 14:19:55,730 - logging_config - INFO - websocket_handlers.py:330 - Redis key for drawings: drawings:klemenzivkovic@gmail.com:PAXGUSDT
2025-09-04 14:19:55,731 - logging_config - INFO - drawing_manager.py:60 - get_drawings for PAXGUSDT with resolution '1d': found 4 total, returning 4 filtered.
2025-09-04 14:19:55,731 - logging_config - INFO - websocket_handlers.py:339 - Sending 4 existing drawings for PAXGUSDT
2025-09-04 14:19:55,731 - logging_config - INFO - websocket_handlers.py:345 - Sending drawing (4) message: {'type': 'drawings', 'symbol': 'PAXGUSDT', 'data': [{'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1749504979, 'end_time': 1757034460, 'start_price': 3498.39837005988, 'end_price': 3360.406707317073, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': {'buyOnCross': False, 'sellOnCross': False, 'sendEmailOnCross': True}, 'id': '23a034a5-9e91-488c-a076-b1dc9fa49f8f'}, {'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1750519797, 'end_time': 1756969828, 'start_price': 3263.9115544910173, 'end_price': 3290.8273239708183, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': {'buyOnCross': False, 'sellOnCross': False, 'sendEmailOnCross': True}, 'id': 'baf77e17-16dc-4817-b3ea-430467fa3a06'}, {'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1742353742, 'end_time': 1759291109, 'start_price': 3597.298721036928, 'end_price': 3334.7182204260644, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': None, 'id': '30d5ab26-ece7-434c-b489-9aeeccb27e56'}, {'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1739775769, 'end_time': 1755240008, 'start_price': 3168.595862896743, 'end_price': 3270.412791705037, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': None, 'id': '56ea858d-8f15-4f9d-a3ef-249b5e232b7a'}]}
2025-09-04 14:19:55,731 - logging_config - INFO - websocket_handlers.py:347 - Successfully sent drawings message to client
2025-09-04 14:19:55,731 - logging_config - INFO - redis_utils.py:103 - Querying sorted set 'zset:kline:PAXGUSDT:1d' for range [1212702899, 1353456790]
2025-09-04 14:19:55,731 - logging_config - INFO - redis_utils.py:106 - [TIMESTAMP DEBUG] redis_utils.py - get_cached_klines query:
2025-09-04 14:19:55,731 - logging_config - INFO - redis_utils.py:107 -   start_ts: 1212702899 (type: <class 'int'>)
2025-09-04 14:19:55,732 - logging_config - INFO - redis_utils.py:108 -   end_ts: 1353456790 (type: <class 'int'>)
2025-09-04 14:19:55,732 - logging_config - INFO - redis_utils.py:115 - [TIMESTAMP DEBUG] start_ts 1212702899 appears to be in SECONDS (correct for Redis)
2025-09-04 14:19:55,732 - logging_config - INFO - redis_utils.py:120 - [TIMESTAMP DEBUG] Checking Redis data sample for comparison...
2025-09-04 14:19:55,732 - logging_config - WARNING - redis_utils.py:129 - No data returned from zrangebyscore for key 'zset:kline:PAXGUSDT:1d' with range [1212702899, 1353456790]. Checking if key exists and has members...
2025-09-04 14:19:55,733 - logging_config - INFO - redis_utils.py:132 - Key 'zset:kline:PAXGUSDT:1d': Exists? 1, Cardinality: 1000
2025-09-04 14:19:55,733 - logging_config - INFO - redis_utils.py:134 - Fetching all members from 'zset:kline:PAXGUSDT:1d' to inspect scores, as zrangebyscore returned empty for range [1212702899, 1353456790].
2025-09-04 14:19:55,737 - logging_config - INFO - redis_utils.py:137 - All members in '{sorted_set_key}' (first 5 shown if many):
2025-09-04 14:19:55,737 - logging_config - INFO - redis_utils.py:139 -   Member: {"time": 1670630400, "open": 1788.0, "high": 1791.0, "low": 1781.0, "close": 1787.0, "vol": 54.645}..., Score: 1670630400.0 (datetime: 2022-12-10 00:00:00+00:00)
2025-09-04 14:19:55,737 - logging_config - INFO - redis_utils.py:139 -   Member: {"time": 1670716800, "open": 1787.0, "high": 1802.0, "low": 1785.0, "close": 1798.0, "vol": 130.347}..., Score: 1670716800.0 (datetime: 2022-12-11 00:00:00+00:00)
2025-09-04 14:19:55,738 - logging_config - INFO - redis_utils.py:139 -   Member: {"time": 1670803200, "open": 1798.0, "high": 1798.0, "low": 1777.0, "close": 1783.0, "vol": 112.461}..., Score: 1670803200.0 (datetime: 2022-12-12 00:00:00+00:00)
2025-09-04 14:19:55,738 - logging_config - INFO - redis_utils.py:139 -   Member: {"time": 1670889600, "open": 1783.0, "high": 1815.0, "low": 1777.0, "close": 1807.0, "vol": 128.112}..., Score: 1670889600.0 (datetime: 2022-12-13 00:00:00+00:00)
2025-09-04 14:19:55,738 - logging_config - INFO - redis_utils.py:139 -   Member: {"time": 1670976000, "open": 1807.0, "high": 1820.0, "low": 1789.0, "close": 1802.0, "vol": 138.043}..., Score: 1670976000.0 (datetime: 2022-12-14 00:00:00+00:00)
2025-09-04 14:19:55,738 - logging_config - INFO - redis_utils.py:140 -   ... and 995 more members.
2025-09-04 14:19:55,738 - logging_config - INFO - redis_utils.py:159 - Found 0 cached klines for PAXGUSDT 1d between 1212702899 and 1353456790
2025-09-04 14:19:55,738 - logging_config - INFO - websocket_handlers.py:362 - ‚úÖ REDIS SUCCESS: Retrieved 0 klines from Redis for PAXGUSDT
2025-09-04 14:19:55,738 - logging_config - WARNING - websocket_handlers.py:370 - ‚ö†Ô∏è No historical klines found in Redis cache for PAXGUSDT
2025-09-04 14:19:55,738 - logging_config - INFO - websocket_handlers.py:371 - üîÑ FALLBACK: Attempting to fetch data from Bybit API for PAXGUSDT
2025-09-04 14:19:55,738 - logging_config - INFO - websocket_handlers.py:378 - üì° FETCHING FROM BYBIT: PAXGUSDT 1d from 1212702899 to 1353456790
2025-09-04 14:19:56,281 - logging_config - INFO - redis_utils.py:340 - No more data available from Bybit for PAXGUSDT 1d at batch #1
2025-09-04 14:19:56,281 - logging_config - WARNING - websocket_handlers.py:391 - ‚ùå BYBIT FAILURE: No data fetched from Bybit for PAXGUSDT
2025-09-04 14:19:56,284 - logging_config - INFO - utility_endpoints.py:168 - POST /settings: RAW data received from client for symbol 'PAXGUSDT': {'symbol': 'PAXGUSDT', 'resolution': '1d', 'range': '3m', 'xAxisMin': 1305203290424, 'xAxisMax': 1375580235881, 'yAxisMin': 2.667037725389186, 'yAxisMax': 13.794742367851528, 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'useLocalOllama': False, 'localOllamaModelName': '', 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3'], 'liveDataEnabled': False, 'showAgentTrades': False, 'streamDeltaTime': 1, 'last_selected_symbol': 'PAXGUSDT'}
2025-09-04 14:19:56,285 - logging_config - INFO - utility_endpoints.py:199 - POST /settings for PAXGUSDT and email klemenzivkovic@gmail.com: current_symbol_settings compiled for Redis save: {'resolution': '1d', 'range': '3m', 'xAxisMin': 1305203290424, 'xAxisMax': 1375580235881, 'yAxisMin': 2.667037725389186, 'yAxisMax': 13.794742367851528, 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3'], 'liveDataEnabled': False, 'streamDeltaTime': 1, 'useLocalOllama': False, 'localOllamaModelName': '', 'showAgentTrades': False, 'symbol': 'PAXGUSDT', 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'last_selected_symbol': 'PAXGUSDT'}
2025-09-04 14:19:56,285 - logging_config - INFO - utility_endpoints.py:201 - POST /settings for PAXGUSDT: Client sent streamDeltaTime: 1. Value to be saved in Redis for streamDeltaTime: 1
2025-09-04 14:19:56,285 - logging_config - INFO - utility_endpoints.py:204 - POST /settings for PAXGUSDT and email klemenzivkovic@gmail.com: Settings updated in Redis for PAXGUSDT: {'resolution': '1d', 'range': '3m', 'xAxisMin': 1305203290424, 'xAxisMax': 1375580235881, 'yAxisMin': 2.667037725389186, 'yAxisMax': 13.794742367851528, 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3'], 'liveDataEnabled': False, 'streamDeltaTime': 1, 'useLocalOllama': False, 'localOllamaModelName': '', 'showAgentTrades': False, 'symbol': 'PAXGUSDT', 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'last_selected_symbol': 'PAXGUSDT'}
2025-09-04 14:19:56,385 - logging_config - INFO - websocket_handlers.py:742 - üì® RAW MESSAGE RECEIVED for PAXGUSDT: {
  "type": "config",
  "symbol": "PAXGUSDT",
  "indicators": [
    "macd",
    "rsi",
    "stochrsi_9_3"
  ],
  "resolution": "1d",
  "from_ts": 1270014817695,
  "to_ts": 1410768708609
}
2025-09-04 14:19:56,386 - logging_config - INFO - websocket_handlers.py:747 - [TIMESTAMP DEBUG] websocket_handlers.py - Received timestamps:
2025-09-04 14:19:56,386 - logging_config - INFO - websocket_handlers.py:748 -   from_ts: 1270014817695 (type: <class 'int'>)
2025-09-04 14:19:56,386 - logging_config - INFO - websocket_handlers.py:749 -   to_ts: 1410768708609 (type: <class 'int'>)
2025-09-04 14:19:56,386 - logging_config - WARNING - websocket_handlers.py:769 - [TIMESTAMP DEBUG] from_ts 1270014817695 appears to be in MILLISECONDS (should be seconds)
2025-09-04 14:19:56,386 - logging_config - INFO - websocket_handlers.py:770 -   Converting to seconds: 1270014817
2025-09-04 14:19:56,386 - logging_config - INFO - websocket_handlers.py:774 - [TIMESTAMP CONVERSION] Client milliseconds -> Server seconds:
2025-09-04 14:19:56,386 - logging_config - INFO - websocket_handlers.py:775 -   1270014817695 -> 1270014817 (2010-03-31 05:53:37 UTC)
2025-09-04 14:19:56,386 - logging_config - INFO - websocket_handlers.py:776 -   1410768708609 -> 1410768708 (2014-09-15 08:11:48 UTC)
2025-09-04 14:19:56,386 - logging_config - INFO - websocket_handlers.py:795 - [TIMESTAMP FIX] Final timestamps set:
2025-09-04 14:19:56,386 - logging_config - INFO - websocket_handlers.py:796 -   from_ts: 1270014817 (type: <class 'int'>)
2025-09-04 14:19:56,387 - logging_config - INFO - websocket_handlers.py:797 -   to_ts: 1410768708 (type: <class 'int'>)
2025-09-04 14:19:56,387 - logging_config - INFO - websocket_handlers.py:807 - Client config updated for PAXGUSDT: indicators=['macd', 'rsi', 'stochrsi_9_3'], resolution=1d
2025-09-04 14:19:56,387 - logging_config - INFO - websocket_handlers.py:808 - üìä MESSAGE FIELD VALUES for PAXGUSDT:
2025-09-04 14:19:56,387 - logging_config - INFO - websocket_handlers.py:809 -   symbol: PAXGUSDT (fallback: PAXGUSDT)
2025-09-04 14:19:56,387 - logging_config - INFO - websocket_handlers.py:810 -   from_ts: 1270014817695 (type: <class 'int'>)
2025-09-04 14:19:56,387 - logging_config - INFO - websocket_handlers.py:811 -   to_ts: 1410768708609 (type: <class 'int'>)
2025-09-04 14:19:56,387 - logging_config - INFO - websocket_handlers.py:812 -   indicators: ['macd', 'rsi', 'stochrsi_9_3'] (type: <class 'list'>)
2025-09-04 14:19:56,387 - logging_config - INFO - websocket_handlers.py:813 -   resolution: 1d (type: <class 'str'>)
2025-09-04 14:19:56,388 - logging_config - INFO - websocket_handlers.py:819 - üìä SERVER TIME RANGE ANALYSIS for PAXGUSDT:
2025-09-04 14:19:56,388 - logging_config - INFO - websocket_handlers.py:820 -   Old range: from_ts=1212702899, to_ts=1353456790
2025-09-04 14:19:56,388 - logging_config - INFO - websocket_handlers.py:821 -   New range: from_ts=1270014817, to_ts=1410768708
2025-09-04 14:19:56,388 - logging_config - INFO - websocket_handlers.py:822 -   Time range changed: True
2025-09-04 14:19:56,388 - logging_config - INFO - websocket_handlers.py:823 -   Historical sent: True
2025-09-04 14:19:56,388 - logging_config - INFO - websocket_handlers.py:824 -   Has timestamps: from_ts=True, to_ts=True
2025-09-04 14:19:56,388 - logging_config - INFO - websocket_handlers.py:843 -   üìÖ SERVER RECEIVED RANGE (UTC):
2025-09-04 14:19:56,388 - logging_config - INFO - websocket_handlers.py:844 -     From: 2010-03-31 05:53:37 UTC (1270014817)
2025-09-04 14:19:56,388 - logging_config - INFO - websocket_handlers.py:845 -     To: 2014-09-15 08:11:48 UTC (1410768708)
2025-09-04 14:19:56,388 - logging_config - INFO - websocket_handlers.py:846 -     Range: 140753891 seconds (39098.3 hours)
2025-09-04 14:19:56,388 - logging_config - INFO - websocket_handlers.py:848 -   üìÖ SERVER RECEIVED RANGE (Local Time):
2025-09-04 14:19:56,388 - logging_config - INFO - websocket_handlers.py:849 -     From: 2010-03-31 07:53:37 Central Europe Summer Time
2025-09-04 14:19:56,389 - logging_config - INFO - websocket_handlers.py:850 -     To: 2014-09-15 10:11:48 Central Europe Summer Time
2025-09-04 14:19:56,389 - logging_config - INFO - websocket_handlers.py:853 -   üåç TIMEZONE ANALYSIS:
2025-09-04 14:19:56,389 - logging_config - INFO - websocket_handlers.py:854 -     Server timezone: Central Europe Summer Time (UTC+2.0)
2025-09-04 14:19:56,389 - logging_config - INFO - websocket_handlers.py:855 -     User timezone (from logs): Europe/Ljubljana (UTC+2)
2025-09-04 14:19:56,389 - logging_config - INFO - websocket_handlers.py:856 -     Timezone difference: 0.0 hours
2025-09-04 14:19:56,389 - logging_config - INFO - websocket_handlers.py:859 -   üì§ DATA TO BE SENT TO CLIENT:
2025-09-04 14:19:56,389 - logging_config - INFO - websocket_handlers.py:860 -     Timestamps will be sent as seconds (not milliseconds)
2025-09-04 14:19:56,389 - logging_config - INFO - websocket_handlers.py:861 -     Client will receive: from_ts=1270014817, to_ts=1410768708
2025-09-04 14:19:56,389 - logging_config - INFO - websocket_handlers.py:862 -     Client local time equivalent: 2010-03-31 07:53:37 to 2014-09-15 10:11:48
2025-09-04 14:19:56,389 - logging_config - INFO - websocket_handlers.py:867 -   üìä USER'S CHART VIEW STATE:
2025-09-04 14:19:56,389 - logging_config - INFO - websocket_handlers.py:868 -     X-Axis Min: 30/08/2025, 10:31:39
2025-09-04 14:19:56,389 - logging_config - INFO - websocket_handlers.py:869 -     X-Axis Max: 04/09/2025, 01:58:37
2025-09-04 14:19:56,390 - logging_config - INFO - websocket_handlers.py:870 -     Expected local time range: 2025-08-30 10:31 to 2025-09-04 01:58
2025-09-04 14:19:56,390 - logging_config - INFO - websocket_handlers.py:871 -     Server received UTC equivalent: 2010-03-31 05:53 to 2014-09-15 08:11
2025-09-04 14:19:56,390 - logging_config - INFO - websocket_handlers.py:881 - Should send historical data: 1410768708
2025-09-04 14:19:56,390 - logging_config - INFO - websocket_handlers.py:884 - Sending historical data for PAXGUSDT - time range changed: True, historical_sent: True
2025-09-04 14:19:56,390 - logging_config - INFO - websocket_handlers.py:309 - Sending historical data for PAXGUSDT with indicators: ['macd', 'rsi', 'stochrsi_9_3']
2025-09-04 14:19:56,390 - logging_config - INFO - websocket_handlers.py:310 - Time range: from_ts=1270014817, to_ts=1410768708, resolution=1d
2025-09-04 14:19:56,390 - logging_config - INFO - websocket_handlers.py:320 - WebSocket session email found: klemenzivkovic@gmail.com
2025-09-04 14:19:56,390 - logging_config - INFO - websocket_handlers.py:325 - Looking for drawings: symbol=PAXGUSDT, resolution=1d, email=klemenzivkovic@gmail.com
2025-09-04 14:19:56,390 - logging_config - INFO - websocket_handlers.py:330 - Redis key for drawings: drawings:klemenzivkovic@gmail.com:PAXGUSDT
2025-09-04 14:19:56,391 - logging_config - INFO - drawing_manager.py:60 - get_drawings for PAXGUSDT with resolution '1d': found 4 total, returning 4 filtered.
2025-09-04 14:19:56,391 - logging_config - INFO - websocket_handlers.py:339 - Sending 4 existing drawings for PAXGUSDT
2025-09-04 14:19:56,391 - logging_config - INFO - websocket_handlers.py:345 - Sending drawing (4) message: {'type': 'drawings', 'symbol': 'PAXGUSDT', 'data': [{'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1749504979, 'end_time': 1757034460, 'start_price': 3498.39837005988, 'end_price': 3360.406707317073, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': {'buyOnCross': False, 'sellOnCross': False, 'sendEmailOnCross': True}, 'id': '23a034a5-9e91-488c-a076-b1dc9fa49f8f'}, {'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1750519797, 'end_time': 1756969828, 'start_price': 3263.9115544910173, 'end_price': 3290.8273239708183, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': {'buyOnCross': False, 'sellOnCross': False, 'sendEmailOnCross': True}, 'id': 'baf77e17-16dc-4817-b3ea-430467fa3a06'}, {'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1742353742, 'end_time': 1759291109, 'start_price': 3597.298721036928, 'end_price': 3334.7182204260644, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': None, 'id': '30d5ab26-ece7-434c-b489-9aeeccb27e56'}, {'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1739775769, 'end_time': 1755240008, 'start_price': 3168.595862896743, 'end_price': 3270.412791705037, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': None, 'id': '56ea858d-8f15-4f9d-a3ef-249b5e232b7a'}]}
2025-09-04 14:19:56,391 - logging_config - INFO - websocket_handlers.py:347 - Successfully sent drawings message to client
2025-09-04 14:19:56,391 - logging_config - INFO - redis_utils.py:103 - Querying sorted set 'zset:kline:PAXGUSDT:1d' for range [1270014817, 1410768708]
2025-09-04 14:19:56,392 - logging_config - INFO - redis_utils.py:106 - [TIMESTAMP DEBUG] redis_utils.py - get_cached_klines query:
2025-09-04 14:19:56,392 - logging_config - INFO - redis_utils.py:107 -   start_ts: 1270014817 (type: <class 'int'>)
2025-09-04 14:19:56,392 - logging_config - INFO - redis_utils.py:108 -   end_ts: 1410768708 (type: <class 'int'>)
2025-09-04 14:19:56,392 - logging_config - INFO - redis_utils.py:115 - [TIMESTAMP DEBUG] start_ts 1270014817 appears to be in SECONDS (correct for Redis)
2025-09-04 14:19:56,392 - logging_config - INFO - redis_utils.py:120 - [TIMESTAMP DEBUG] Checking Redis data sample for comparison...
2025-09-04 14:19:56,393 - logging_config - WARNING - redis_utils.py:129 - No data returned from zrangebyscore for key 'zset:kline:PAXGUSDT:1d' with range [1270014817, 1410768708]. Checking if key exists and has members...
2025-09-04 14:19:56,394 - logging_config - INFO - redis_utils.py:132 - Key 'zset:kline:PAXGUSDT:1d': Exists? 1, Cardinality: 1000
2025-09-04 14:19:56,394 - logging_config - INFO - redis_utils.py:134 - Fetching all members from 'zset:kline:PAXGUSDT:1d' to inspect scores, as zrangebyscore returned empty for range [1270014817, 1410768708].
2025-09-04 14:19:56,398 - logging_config - INFO - redis_utils.py:137 - All members in '{sorted_set_key}' (first 5 shown if many):
2025-09-04 14:19:56,398 - logging_config - INFO - redis_utils.py:139 -   Member: {"time": 1670630400, "open": 1788.0, "high": 1791.0, "low": 1781.0, "close": 1787.0, "vol": 54.645}..., Score: 1670630400.0 (datetime: 2022-12-10 00:00:00+00:00)
2025-09-04 14:19:56,399 - logging_config - INFO - redis_utils.py:139 -   Member: {"time": 1670716800, "open": 1787.0, "high": 1802.0, "low": 1785.0, "close": 1798.0, "vol": 130.347}..., Score: 1670716800.0 (datetime: 2022-12-11 00:00:00+00:00)
2025-09-04 14:19:56,399 - logging_config - INFO - redis_utils.py:139 -   Member: {"time": 1670803200, "open": 1798.0, "high": 1798.0, "low": 1777.0, "close": 1783.0, "vol": 112.461}..., Score: 1670803200.0 (datetime: 2022-12-12 00:00:00+00:00)
2025-09-04 14:19:56,399 - logging_config - INFO - redis_utils.py:139 -   Member: {"time": 1670889600, "open": 1783.0, "high": 1815.0, "low": 1777.0, "close": 1807.0, "vol": 128.112}..., Score: 1670889600.0 (datetime: 2022-12-13 00:00:00+00:00)
2025-09-04 14:19:56,399 - logging_config - INFO - redis_utils.py:139 -   Member: {"time": 1670976000, "open": 1807.0, "high": 1820.0, "low": 1789.0, "close": 1802.0, "vol": 138.043}..., Score: 1670976000.0 (datetime: 2022-12-14 00:00:00+00:00)
2025-09-04 14:19:56,399 - logging_config - INFO - redis_utils.py:140 -   ... and 995 more members.
2025-09-04 14:19:56,399 - logging_config - INFO - redis_utils.py:159 - Found 0 cached klines for PAXGUSDT 1d between 1270014817 and 1410768708
2025-09-04 14:19:56,399 - logging_config - INFO - websocket_handlers.py:362 - ‚úÖ REDIS SUCCESS: Retrieved 0 klines from Redis for PAXGUSDT
2025-09-04 14:19:56,399 - logging_config - WARNING - websocket_handlers.py:370 - ‚ö†Ô∏è No historical klines found in Redis cache for PAXGUSDT
2025-09-04 14:19:56,399 - logging_config - INFO - websocket_handlers.py:371 - üîÑ FALLBACK: Attempting to fetch data from Bybit API for PAXGUSDT
2025-09-04 14:19:56,400 - logging_config - INFO - websocket_handlers.py:378 - üì° FETCHING FROM BYBIT: PAXGUSDT 1d from 1270014817 to 1410768708
2025-09-04 14:19:56,892 - logging_config - INFO - redis_utils.py:340 - No more data available from Bybit for PAXGUSDT 1d at batch #1
2025-09-04 14:19:56,892 - logging_config - WARNING - websocket_handlers.py:391 - ‚ùå BYBIT FAILURE: No data fetched from Bybit for PAXGUSDT
2025-09-04 14:19:56,895 - logging_config - INFO - utility_endpoints.py:168 - POST /settings: RAW data received from client for symbol 'PAXGUSDT': {'symbol': 'PAXGUSDT', 'resolution': '1d', 'range': '3m', 'xAxisMin': 1340217562793, 'xAxisMax': 1410594508250, 'yAxisMin': 3.5169799131213275, 'yAxisMax': 14.64468455558367, 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'useLocalOllama': False, 'localOllamaModelName': '', 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3'], 'liveDataEnabled': False, 'showAgentTrades': False, 'streamDeltaTime': 1, 'last_selected_symbol': 'PAXGUSDT'}
2025-09-04 14:19:56,895 - logging_config - INFO - utility_endpoints.py:199 - POST /settings for PAXGUSDT and email klemenzivkovic@gmail.com: current_symbol_settings compiled for Redis save: {'resolution': '1d', 'range': '3m', 'xAxisMin': 1340217562793, 'xAxisMax': 1410594508250, 'yAxisMin': 3.5169799131213275, 'yAxisMax': 14.64468455558367, 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3'], 'liveDataEnabled': False, 'streamDeltaTime': 1, 'useLocalOllama': False, 'localOllamaModelName': '', 'showAgentTrades': False, 'symbol': 'PAXGUSDT', 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'last_selected_symbol': 'PAXGUSDT'}
2025-09-04 14:19:56,895 - logging_config - INFO - utility_endpoints.py:201 - POST /settings for PAXGUSDT: Client sent streamDeltaTime: 1. Value to be saved in Redis for streamDeltaTime: 1
2025-09-04 14:19:56,896 - logging_config - INFO - utility_endpoints.py:204 - POST /settings for PAXGUSDT and email klemenzivkovic@gmail.com: Settings updated in Redis for PAXGUSDT: {'resolution': '1d', 'range': '3m', 'xAxisMin': 1340217562793, 'xAxisMax': 1410594508250, 'yAxisMin': 3.5169799131213275, 'yAxisMax': 14.64468455558367, 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3'], 'liveDataEnabled': False, 'streamDeltaTime': 1, 'useLocalOllama': False, 'localOllamaModelName': '', 'showAgentTrades': False, 'symbol': 'PAXGUSDT', 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'last_selected_symbol': 'PAXGUSDT'}
2025-09-04 14:19:57,063 - logging_config - INFO - websocket_handlers.py:742 - üì® RAW MESSAGE RECEIVED for PAXGUSDT: {
  "type": "config",
  "symbol": "PAXGUSDT",
  "indicators": [
    "macd",
    "rsi",
    "stochrsi_9_3"
  ],
  "resolution": "1d",
  "from_ts": 1305029090064,
  "to_ts": 1445782980978
}
2025-09-04 14:19:57,063 - logging_config - INFO - websocket_handlers.py:747 - [TIMESTAMP DEBUG] websocket_handlers.py - Received timestamps:
2025-09-04 14:19:57,064 - logging_config - INFO - websocket_handlers.py:748 -   from_ts: 1305029090064 (type: <class 'int'>)
2025-09-04 14:19:57,064 - logging_config - INFO - websocket_handlers.py:749 -   to_ts: 1445782980978 (type: <class 'int'>)
2025-09-04 14:19:57,064 - logging_config - WARNING - websocket_handlers.py:769 - [TIMESTAMP DEBUG] from_ts 1305029090064 appears to be in MILLISECONDS (should be seconds)
2025-09-04 14:19:57,064 - logging_config - INFO - websocket_handlers.py:770 -   Converting to seconds: 1305029090
2025-09-04 14:19:57,064 - logging_config - INFO - websocket_handlers.py:774 - [TIMESTAMP CONVERSION] Client milliseconds -> Server seconds:
2025-09-04 14:19:57,064 - logging_config - INFO - websocket_handlers.py:775 -   1305029090064 -> 1305029090 (2011-05-10 12:04:50 UTC)
2025-09-04 14:19:57,064 - logging_config - INFO - websocket_handlers.py:776 -   1445782980978 -> 1445782980 (2015-10-25 14:23:00 UTC)
2025-09-04 14:19:57,064 - logging_config - INFO - websocket_handlers.py:795 - [TIMESTAMP FIX] Final timestamps set:
2025-09-04 14:19:57,065 - logging_config - INFO - websocket_handlers.py:796 -   from_ts: 1305029090 (type: <class 'int'>)
2025-09-04 14:19:57,065 - logging_config - INFO - websocket_handlers.py:797 -   to_ts: 1445782980 (type: <class 'int'>)
2025-09-04 14:19:57,065 - logging_config - INFO - websocket_handlers.py:807 - Client config updated for PAXGUSDT: indicators=['macd', 'rsi', 'stochrsi_9_3'], resolution=1d
2025-09-04 14:19:57,065 - logging_config - INFO - websocket_handlers.py:808 - üìä MESSAGE FIELD VALUES for PAXGUSDT:
2025-09-04 14:19:57,065 - logging_config - INFO - websocket_handlers.py:809 -   symbol: PAXGUSDT (fallback: PAXGUSDT)
2025-09-04 14:19:57,065 - logging_config - INFO - websocket_handlers.py:810 -   from_ts: 1305029090064 (type: <class 'int'>)
2025-09-04 14:19:57,065 - logging_config - INFO - websocket_handlers.py:811 -   to_ts: 1445782980978 (type: <class 'int'>)
2025-09-04 14:19:57,065 - logging_config - INFO - websocket_handlers.py:812 -   indicators: ['macd', 'rsi', 'stochrsi_9_3'] (type: <class 'list'>)
2025-09-04 14:19:57,065 - logging_config - INFO - websocket_handlers.py:813 -   resolution: 1d (type: <class 'str'>)
2025-09-04 14:19:57,065 - logging_config - INFO - websocket_handlers.py:819 - üìä SERVER TIME RANGE ANALYSIS for PAXGUSDT:
2025-09-04 14:19:57,065 - logging_config - INFO - websocket_handlers.py:820 -   Old range: from_ts=1270014817, to_ts=1410768708
2025-09-04 14:19:57,065 - logging_config - INFO - websocket_handlers.py:821 -   New range: from_ts=1305029090, to_ts=1445782980
2025-09-04 14:19:57,065 - logging_config - INFO - websocket_handlers.py:822 -   Time range changed: True
2025-09-04 14:19:57,066 - logging_config - INFO - websocket_handlers.py:823 -   Historical sent: True
2025-09-04 14:19:57,066 - logging_config - INFO - websocket_handlers.py:824 -   Has timestamps: from_ts=True, to_ts=True
2025-09-04 14:19:57,066 - logging_config - INFO - websocket_handlers.py:843 -   üìÖ SERVER RECEIVED RANGE (UTC):
2025-09-04 14:19:57,066 - logging_config - INFO - websocket_handlers.py:844 -     From: 2011-05-10 12:04:50 UTC (1305029090)
2025-09-04 14:19:57,066 - logging_config - INFO - websocket_handlers.py:845 -     To: 2015-10-25 14:23:00 UTC (1445782980)
2025-09-04 14:19:57,066 - logging_config - INFO - websocket_handlers.py:846 -     Range: 140753890 seconds (39098.3 hours)
2025-09-04 14:19:57,066 - logging_config - INFO - websocket_handlers.py:848 -   üìÖ SERVER RECEIVED RANGE (Local Time):
2025-09-04 14:19:57,066 - logging_config - INFO - websocket_handlers.py:849 -     From: 2011-05-10 14:04:50 Central Europe Summer Time
2025-09-04 14:19:57,066 - logging_config - INFO - websocket_handlers.py:850 -     To: 2015-10-25 16:23:00 Central Europe Summer Time
2025-09-04 14:19:57,066 - logging_config - INFO - websocket_handlers.py:853 -   üåç TIMEZONE ANALYSIS:
2025-09-04 14:19:57,066 - logging_config - INFO - websocket_handlers.py:854 -     Server timezone: Central Europe Summer Time (UTC+2.0)
2025-09-04 14:19:57,066 - logging_config - INFO - websocket_handlers.py:855 -     User timezone (from logs): Europe/Ljubljana (UTC+2)
2025-09-04 14:19:57,066 - logging_config - INFO - websocket_handlers.py:856 -     Timezone difference: 0.0 hours
2025-09-04 14:19:57,067 - logging_config - INFO - websocket_handlers.py:859 -   üì§ DATA TO BE SENT TO CLIENT:
2025-09-04 14:19:57,067 - logging_config - INFO - websocket_handlers.py:860 -     Timestamps will be sent as seconds (not milliseconds)
2025-09-04 14:19:57,067 - logging_config - INFO - websocket_handlers.py:861 -     Client will receive: from_ts=1305029090, to_ts=1445782980
2025-09-04 14:19:57,067 - logging_config - INFO - websocket_handlers.py:862 -     Client local time equivalent: 2011-05-10 14:04:50 to 2015-10-25 16:23:00
2025-09-04 14:19:57,067 - logging_config - INFO - websocket_handlers.py:867 -   üìä USER'S CHART VIEW STATE:
2025-09-04 14:19:57,067 - logging_config - INFO - websocket_handlers.py:868 -     X-Axis Min: 30/08/2025, 10:31:39
2025-09-04 14:19:57,067 - logging_config - INFO - websocket_handlers.py:869 -     X-Axis Max: 04/09/2025, 01:58:37
2025-09-04 14:19:57,068 - logging_config - INFO - websocket_handlers.py:870 -     Expected local time range: 2025-08-30 10:31 to 2025-09-04 01:58
2025-09-04 14:19:57,068 - logging_config - INFO - websocket_handlers.py:871 -     Server received UTC equivalent: 2011-05-10 12:04 to 2015-10-25 14:23
2025-09-04 14:19:57,068 - logging_config - INFO - websocket_handlers.py:881 - Should send historical data: 1445782980
2025-09-04 14:19:57,068 - logging_config - INFO - websocket_handlers.py:884 - Sending historical data for PAXGUSDT - time range changed: True, historical_sent: True
2025-09-04 14:19:57,068 - logging_config - INFO - websocket_handlers.py:309 - Sending historical data for PAXGUSDT with indicators: ['macd', 'rsi', 'stochrsi_9_3']
2025-09-04 14:19:57,068 - logging_config - INFO - websocket_handlers.py:310 - Time range: from_ts=1305029090, to_ts=1445782980, resolution=1d
2025-09-04 14:19:57,068 - logging_config - INFO - websocket_handlers.py:320 - WebSocket session email found: klemenzivkovic@gmail.com
2025-09-04 14:19:57,068 - logging_config - INFO - websocket_handlers.py:325 - Looking for drawings: symbol=PAXGUSDT, resolution=1d, email=klemenzivkovic@gmail.com
2025-09-04 14:19:57,068 - logging_config - INFO - websocket_handlers.py:330 - Redis key for drawings: drawings:klemenzivkovic@gmail.com:PAXGUSDT
2025-09-04 14:19:57,069 - logging_config - INFO - drawing_manager.py:60 - get_drawings for PAXGUSDT with resolution '1d': found 4 total, returning 4 filtered.
2025-09-04 14:19:57,069 - logging_config - INFO - websocket_handlers.py:339 - Sending 4 existing drawings for PAXGUSDT
2025-09-04 14:19:57,069 - logging_config - INFO - websocket_handlers.py:345 - Sending drawing (4) message: {'type': 'drawings', 'symbol': 'PAXGUSDT', 'data': [{'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1749504979, 'end_time': 1757034460, 'start_price': 3498.39837005988, 'end_price': 3360.406707317073, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': {'buyOnCross': False, 'sellOnCross': False, 'sendEmailOnCross': True}, 'id': '23a034a5-9e91-488c-a076-b1dc9fa49f8f'}, {'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1750519797, 'end_time': 1756969828, 'start_price': 3263.9115544910173, 'end_price': 3290.8273239708183, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': {'buyOnCross': False, 'sellOnCross': False, 'sendEmailOnCross': True}, 'id': 'baf77e17-16dc-4817-b3ea-430467fa3a06'}, {'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1742353742, 'end_time': 1759291109, 'start_price': 3597.298721036928, 'end_price': 3334.7182204260644, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': None, 'id': '30d5ab26-ece7-434c-b489-9aeeccb27e56'}, {'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1739775769, 'end_time': 1755240008, 'start_price': 3168.595862896743, 'end_price': 3270.412791705037, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': None, 'id': '56ea858d-8f15-4f9d-a3ef-249b5e232b7a'}]}
2025-09-04 14:19:57,069 - logging_config - INFO - websocket_handlers.py:347 - Successfully sent drawings message to client
2025-09-04 14:19:57,069 - logging_config - INFO - redis_utils.py:103 - Querying sorted set 'zset:kline:PAXGUSDT:1d' for range [1305029090, 1445782980]
2025-09-04 14:19:57,069 - logging_config - INFO - redis_utils.py:106 - [TIMESTAMP DEBUG] redis_utils.py - get_cached_klines query:
2025-09-04 14:19:57,070 - logging_config - INFO - redis_utils.py:107 -   start_ts: 1305029090 (type: <class 'int'>)
2025-09-04 14:19:57,070 - logging_config - INFO - redis_utils.py:108 -   end_ts: 1445782980 (type: <class 'int'>)
2025-09-04 14:19:57,070 - logging_config - INFO - redis_utils.py:115 - [TIMESTAMP DEBUG] start_ts 1305029090 appears to be in SECONDS (correct for Redis)
2025-09-04 14:19:57,070 - logging_config - INFO - redis_utils.py:120 - [TIMESTAMP DEBUG] Checking Redis data sample for comparison...
2025-09-04 14:19:57,070 - logging_config - WARNING - redis_utils.py:129 - No data returned from zrangebyscore for key 'zset:kline:PAXGUSDT:1d' with range [1305029090, 1445782980]. Checking if key exists and has members...
2025-09-04 14:19:57,071 - logging_config - INFO - redis_utils.py:132 - Key 'zset:kline:PAXGUSDT:1d': Exists? 1, Cardinality: 1000
2025-09-04 14:19:57,071 - logging_config - INFO - redis_utils.py:134 - Fetching all members from 'zset:kline:PAXGUSDT:1d' to inspect scores, as zrangebyscore returned empty for range [1305029090, 1445782980].
2025-09-04 14:19:57,076 - logging_config - INFO - redis_utils.py:137 - All members in '{sorted_set_key}' (first 5 shown if many):
2025-09-04 14:19:57,076 - logging_config - INFO - redis_utils.py:139 -   Member: {"time": 1670630400, "open": 1788.0, "high": 1791.0, "low": 1781.0, "close": 1787.0, "vol": 54.645}..., Score: 1670630400.0 (datetime: 2022-12-10 00:00:00+00:00)
2025-09-04 14:19:57,076 - logging_config - INFO - redis_utils.py:139 -   Member: {"time": 1670716800, "open": 1787.0, "high": 1802.0, "low": 1785.0, "close": 1798.0, "vol": 130.347}..., Score: 1670716800.0 (datetime: 2022-12-11 00:00:00+00:00)
2025-09-04 14:19:57,077 - logging_config - INFO - redis_utils.py:139 -   Member: {"time": 1670803200, "open": 1798.0, "high": 1798.0, "low": 1777.0, "close": 1783.0, "vol": 112.461}..., Score: 1670803200.0 (datetime: 2022-12-12 00:00:00+00:00)
2025-09-04 14:19:57,077 - logging_config - INFO - redis_utils.py:139 -   Member: {"time": 1670889600, "open": 1783.0, "high": 1815.0, "low": 1777.0, "close": 1807.0, "vol": 128.112}..., Score: 1670889600.0 (datetime: 2022-12-13 00:00:00+00:00)
2025-09-04 14:19:57,077 - logging_config - INFO - redis_utils.py:139 -   Member: {"time": 1670976000, "open": 1807.0, "high": 1820.0, "low": 1789.0, "close": 1802.0, "vol": 138.043}..., Score: 1670976000.0 (datetime: 2022-12-14 00:00:00+00:00)
2025-09-04 14:19:57,077 - logging_config - INFO - redis_utils.py:140 -   ... and 995 more members.
2025-09-04 14:19:57,077 - logging_config - INFO - redis_utils.py:159 - Found 0 cached klines for PAXGUSDT 1d between 1305029090 and 1445782980
2025-09-04 14:19:57,077 - logging_config - INFO - websocket_handlers.py:362 - ‚úÖ REDIS SUCCESS: Retrieved 0 klines from Redis for PAXGUSDT
2025-09-04 14:19:57,077 - logging_config - WARNING - websocket_handlers.py:370 - ‚ö†Ô∏è No historical klines found in Redis cache for PAXGUSDT
2025-09-04 14:19:57,077 - logging_config - INFO - websocket_handlers.py:371 - üîÑ FALLBACK: Attempting to fetch data from Bybit API for PAXGUSDT
2025-09-04 14:19:57,077 - logging_config - INFO - websocket_handlers.py:378 - üì° FETCHING FROM BYBIT: PAXGUSDT 1d from 1305029090 to 1445782980
2025-09-04 14:19:57,571 - logging_config - INFO - redis_utils.py:340 - No more data available from Bybit for PAXGUSDT 1d at batch #1
2025-09-04 14:19:57,571 - logging_config - WARNING - websocket_handlers.py:391 - ‚ùå BYBIT FAILURE: No data fetched from Bybit for PAXGUSDT
2025-09-04 14:19:57,574 - logging_config - INFO - utility_endpoints.py:168 - POST /settings: RAW data received from client for symbol 'PAXGUSDT': {'symbol': 'PAXGUSDT', 'resolution': '1d', 'range': '3m', 'xAxisMin': 1368612221480, 'xAxisMax': 1438989166937, 'yAxisMin': 4.157705562334788, 'yAxisMax': 15.28541020479713, 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'useLocalOllama': False, 'localOllamaModelName': '', 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3'], 'liveDataEnabled': False, 'showAgentTrades': False, 'streamDeltaTime': 1, 'last_selected_symbol': 'PAXGUSDT'}
2025-09-04 14:19:57,574 - logging_config - INFO - utility_endpoints.py:199 - POST /settings for PAXGUSDT and email klemenzivkovic@gmail.com: current_symbol_settings compiled for Redis save: {'resolution': '1d', 'range': '3m', 'xAxisMin': 1368612221480, 'xAxisMax': 1438989166937, 'yAxisMin': 4.157705562334788, 'yAxisMax': 15.28541020479713, 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3'], 'liveDataEnabled': False, 'streamDeltaTime': 1, 'useLocalOllama': False, 'localOllamaModelName': '', 'showAgentTrades': False, 'symbol': 'PAXGUSDT', 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'last_selected_symbol': 'PAXGUSDT'}
2025-09-04 14:19:57,574 - logging_config - INFO - utility_endpoints.py:201 - POST /settings for PAXGUSDT: Client sent streamDeltaTime: 1. Value to be saved in Redis for streamDeltaTime: 1
2025-09-04 14:19:57,575 - logging_config - INFO - utility_endpoints.py:204 - POST /settings for PAXGUSDT and email klemenzivkovic@gmail.com: Settings updated in Redis for PAXGUSDT: {'resolution': '1d', 'range': '3m', 'xAxisMin': 1368612221480, 'xAxisMax': 1438989166937, 'yAxisMin': 4.157705562334788, 'yAxisMax': 15.28541020479713, 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3'], 'liveDataEnabled': False, 'streamDeltaTime': 1, 'useLocalOllama': False, 'localOllamaModelName': '', 'showAgentTrades': False, 'symbol': 'PAXGUSDT', 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'last_selected_symbol': 'PAXGUSDT'}
2025-09-04 14:19:57,714 - logging_config - INFO - websocket_handlers.py:742 - üì® RAW MESSAGE RECEIVED for PAXGUSDT: {
  "type": "config",
  "symbol": "PAXGUSDT",
  "indicators": [
    "macd",
    "rsi",
    "stochrsi_9_3"
  ],
  "resolution": "1d",
  "from_ts": 1333423748751,
  "to_ts": 1474177639665
}
2025-09-04 14:19:57,715 - logging_config - INFO - websocket_handlers.py:747 - [TIMESTAMP DEBUG] websocket_handlers.py - Received timestamps:
2025-09-04 14:19:57,715 - logging_config - INFO - websocket_handlers.py:748 -   from_ts: 1333423748751 (type: <class 'int'>)
2025-09-04 14:19:57,715 - logging_config - INFO - websocket_handlers.py:749 -   to_ts: 1474177639665 (type: <class 'int'>)
2025-09-04 14:19:57,715 - logging_config - WARNING - websocket_handlers.py:769 - [TIMESTAMP DEBUG] from_ts 1333423748751 appears to be in MILLISECONDS (should be seconds)
2025-09-04 14:19:57,715 - logging_config - INFO - websocket_handlers.py:770 -   Converting to seconds: 1333423748
2025-09-04 14:19:57,715 - logging_config - INFO - websocket_handlers.py:774 - [TIMESTAMP CONVERSION] Client milliseconds -> Server seconds:
2025-09-04 14:19:57,715 - logging_config - INFO - websocket_handlers.py:775 -   1333423748751 -> 1333423748 (2012-04-03 03:29:08 UTC)
2025-09-04 14:19:57,715 - logging_config - INFO - websocket_handlers.py:776 -   1474177639665 -> 1474177639 (2016-09-18 05:47:19 UTC)
2025-09-04 14:19:57,715 - logging_config - INFO - websocket_handlers.py:795 - [TIMESTAMP FIX] Final timestamps set:
2025-09-04 14:19:57,715 - logging_config - INFO - websocket_handlers.py:796 -   from_ts: 1333423748 (type: <class 'int'>)
2025-09-04 14:19:57,715 - logging_config - INFO - websocket_handlers.py:797 -   to_ts: 1474177639 (type: <class 'int'>)
2025-09-04 14:19:57,715 - logging_config - INFO - websocket_handlers.py:807 - Client config updated for PAXGUSDT: indicators=['macd', 'rsi', 'stochrsi_9_3'], resolution=1d
2025-09-04 14:19:57,715 - logging_config - INFO - websocket_handlers.py:808 - üìä MESSAGE FIELD VALUES for PAXGUSDT:
2025-09-04 14:19:57,715 - logging_config - INFO - websocket_handlers.py:809 -   symbol: PAXGUSDT (fallback: PAXGUSDT)
2025-09-04 14:19:57,715 - logging_config - INFO - websocket_handlers.py:810 -   from_ts: 1333423748751 (type: <class 'int'>)
2025-09-04 14:19:57,716 - logging_config - INFO - websocket_handlers.py:811 -   to_ts: 1474177639665 (type: <class 'int'>)
2025-09-04 14:19:57,716 - logging_config - INFO - websocket_handlers.py:812 -   indicators: ['macd', 'rsi', 'stochrsi_9_3'] (type: <class 'list'>)
2025-09-04 14:19:57,716 - logging_config - INFO - websocket_handlers.py:813 -   resolution: 1d (type: <class 'str'>)
2025-09-04 14:19:57,716 - logging_config - INFO - websocket_handlers.py:819 - üìä SERVER TIME RANGE ANALYSIS for PAXGUSDT:
2025-09-04 14:19:57,716 - logging_config - INFO - websocket_handlers.py:820 -   Old range: from_ts=1305029090, to_ts=1445782980
2025-09-04 14:19:57,716 - logging_config - INFO - websocket_handlers.py:821 -   New range: from_ts=1333423748, to_ts=1474177639
2025-09-04 14:19:57,716 - logging_config - INFO - websocket_handlers.py:822 -   Time range changed: True
2025-09-04 14:19:57,716 - logging_config - INFO - websocket_handlers.py:823 -   Historical sent: True
2025-09-04 14:19:57,716 - logging_config - INFO - websocket_handlers.py:824 -   Has timestamps: from_ts=True, to_ts=True
2025-09-04 14:19:57,716 - logging_config - INFO - websocket_handlers.py:843 -   üìÖ SERVER RECEIVED RANGE (UTC):
2025-09-04 14:19:57,716 - logging_config - INFO - websocket_handlers.py:844 -     From: 2012-04-03 03:29:08 UTC (1333423748)
2025-09-04 14:19:57,716 - logging_config - INFO - websocket_handlers.py:845 -     To: 2016-09-18 05:47:19 UTC (1474177639)
2025-09-04 14:19:57,717 - logging_config - INFO - websocket_handlers.py:846 -     Range: 140753891 seconds (39098.3 hours)
2025-09-04 14:19:57,717 - logging_config - INFO - websocket_handlers.py:848 -   üìÖ SERVER RECEIVED RANGE (Local Time):
2025-09-04 14:19:57,717 - logging_config - INFO - websocket_handlers.py:849 -     From: 2012-04-03 05:29:08 Central Europe Summer Time
2025-09-04 14:19:57,717 - logging_config - INFO - websocket_handlers.py:850 -     To: 2016-09-18 07:47:19 Central Europe Summer Time
2025-09-04 14:19:57,717 - logging_config - INFO - websocket_handlers.py:853 -   üåç TIMEZONE ANALYSIS:
2025-09-04 14:19:57,717 - logging_config - INFO - websocket_handlers.py:854 -     Server timezone: Central Europe Summer Time (UTC+2.0)
2025-09-04 14:19:57,717 - logging_config - INFO - websocket_handlers.py:855 -     User timezone (from logs): Europe/Ljubljana (UTC+2)
2025-09-04 14:19:57,717 - logging_config - INFO - websocket_handlers.py:856 -     Timezone difference: 0.0 hours
2025-09-04 14:19:57,717 - logging_config - INFO - websocket_handlers.py:859 -   üì§ DATA TO BE SENT TO CLIENT:
2025-09-04 14:19:57,717 - logging_config - INFO - websocket_handlers.py:860 -     Timestamps will be sent as seconds (not milliseconds)
2025-09-04 14:19:57,717 - logging_config - INFO - websocket_handlers.py:861 -     Client will receive: from_ts=1333423748, to_ts=1474177639
2025-09-04 14:19:57,717 - logging_config - INFO - websocket_handlers.py:862 -     Client local time equivalent: 2012-04-03 05:29:08 to 2016-09-18 07:47:19
2025-09-04 14:19:57,717 - logging_config - INFO - websocket_handlers.py:867 -   üìä USER'S CHART VIEW STATE:
2025-09-04 14:19:57,718 - logging_config - INFO - websocket_handlers.py:868 -     X-Axis Min: 30/08/2025, 10:31:39
2025-09-04 14:19:57,718 - logging_config - INFO - websocket_handlers.py:869 -     X-Axis Max: 04/09/2025, 01:58:37
2025-09-04 14:19:57,718 - logging_config - INFO - websocket_handlers.py:870 -     Expected local time range: 2025-08-30 10:31 to 2025-09-04 01:58
2025-09-04 14:19:57,718 - logging_config - INFO - websocket_handlers.py:871 -     Server received UTC equivalent: 2012-04-03 03:29 to 2016-09-18 05:47
2025-09-04 14:19:57,718 - logging_config - INFO - websocket_handlers.py:881 - Should send historical data: 1474177639
2025-09-04 14:19:57,718 - logging_config - INFO - websocket_handlers.py:884 - Sending historical data for PAXGUSDT - time range changed: True, historical_sent: True
2025-09-04 14:19:57,718 - logging_config - INFO - websocket_handlers.py:309 - Sending historical data for PAXGUSDT with indicators: ['macd', 'rsi', 'stochrsi_9_3']
2025-09-04 14:19:57,718 - logging_config - INFO - websocket_handlers.py:310 - Time range: from_ts=1333423748, to_ts=1474177639, resolution=1d
2025-09-04 14:19:57,718 - logging_config - INFO - websocket_handlers.py:320 - WebSocket session email found: klemenzivkovic@gmail.com
2025-09-04 14:19:57,718 - logging_config - INFO - websocket_handlers.py:325 - Looking for drawings: symbol=PAXGUSDT, resolution=1d, email=klemenzivkovic@gmail.com
2025-09-04 14:19:57,718 - logging_config - INFO - websocket_handlers.py:330 - Redis key for drawings: drawings:klemenzivkovic@gmail.com:PAXGUSDT
2025-09-04 14:19:57,719 - logging_config - INFO - drawing_manager.py:60 - get_drawings for PAXGUSDT with resolution '1d': found 4 total, returning 4 filtered.
2025-09-04 14:19:57,719 - logging_config - INFO - websocket_handlers.py:339 - Sending 4 existing drawings for PAXGUSDT
2025-09-04 14:19:57,719 - logging_config - INFO - websocket_handlers.py:345 - Sending drawing (4) message: {'type': 'drawings', 'symbol': 'PAXGUSDT', 'data': [{'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1749504979, 'end_time': 1757034460, 'start_price': 3498.39837005988, 'end_price': 3360.406707317073, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': {'buyOnCross': False, 'sellOnCross': False, 'sendEmailOnCross': True}, 'id': '23a034a5-9e91-488c-a076-b1dc9fa49f8f'}, {'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1750519797, 'end_time': 1756969828, 'start_price': 3263.9115544910173, 'end_price': 3290.8273239708183, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': {'buyOnCross': False, 'sellOnCross': False, 'sendEmailOnCross': True}, 'id': 'baf77e17-16dc-4817-b3ea-430467fa3a06'}, {'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1742353742, 'end_time': 1759291109, 'start_price': 3597.298721036928, 'end_price': 3334.7182204260644, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': None, 'id': '30d5ab26-ece7-434c-b489-9aeeccb27e56'}, {'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1739775769, 'end_time': 1755240008, 'start_price': 3168.595862896743, 'end_price': 3270.412791705037, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': None, 'id': '56ea858d-8f15-4f9d-a3ef-249b5e232b7a'}]}
2025-09-04 14:19:57,719 - logging_config - INFO - websocket_handlers.py:347 - Successfully sent drawings message to client
2025-09-04 14:19:57,720 - logging_config - INFO - redis_utils.py:103 - Querying sorted set 'zset:kline:PAXGUSDT:1d' for range [1333423748, 1474177639]
2025-09-04 14:19:57,720 - logging_config - INFO - redis_utils.py:106 - [TIMESTAMP DEBUG] redis_utils.py - get_cached_klines query:
2025-09-04 14:19:57,720 - logging_config - INFO - redis_utils.py:107 -   start_ts: 1333423748 (type: <class 'int'>)
2025-09-04 14:19:57,720 - logging_config - INFO - redis_utils.py:108 -   end_ts: 1474177639 (type: <class 'int'>)
2025-09-04 14:19:57,720 - logging_config - INFO - redis_utils.py:115 - [TIMESTAMP DEBUG] start_ts 1333423748 appears to be in SECONDS (correct for Redis)
2025-09-04 14:19:57,720 - logging_config - INFO - redis_utils.py:120 - [TIMESTAMP DEBUG] Checking Redis data sample for comparison...
2025-09-04 14:19:57,721 - logging_config - WARNING - redis_utils.py:129 - No data returned from zrangebyscore for key 'zset:kline:PAXGUSDT:1d' with range [1333423748, 1474177639]. Checking if key exists and has members...
2025-09-04 14:19:57,721 - logging_config - INFO - redis_utils.py:132 - Key 'zset:kline:PAXGUSDT:1d': Exists? 1, Cardinality: 1000
2025-09-04 14:19:57,721 - logging_config - INFO - redis_utils.py:134 - Fetching all members from 'zset:kline:PAXGUSDT:1d' to inspect scores, as zrangebyscore returned empty for range [1333423748, 1474177639].
2025-09-04 14:19:57,728 - logging_config - INFO - redis_utils.py:137 - All members in '{sorted_set_key}' (first 5 shown if many):
2025-09-04 14:19:57,728 - logging_config - INFO - redis_utils.py:139 -   Member: {"time": 1670630400, "open": 1788.0, "high": 1791.0, "low": 1781.0, "close": 1787.0, "vol": 54.645}..., Score: 1670630400.0 (datetime: 2022-12-10 00:00:00+00:00)
2025-09-04 14:19:57,728 - logging_config - INFO - redis_utils.py:139 -   Member: {"time": 1670716800, "open": 1787.0, "high": 1802.0, "low": 1785.0, "close": 1798.0, "vol": 130.347}..., Score: 1670716800.0 (datetime: 2022-12-11 00:00:00+00:00)
2025-09-04 14:19:57,728 - logging_config - INFO - redis_utils.py:139 -   Member: {"time": 1670803200, "open": 1798.0, "high": 1798.0, "low": 1777.0, "close": 1783.0, "vol": 112.461}..., Score: 1670803200.0 (datetime: 2022-12-12 00:00:00+00:00)
2025-09-04 14:19:57,728 - logging_config - INFO - redis_utils.py:139 -   Member: {"time": 1670889600, "open": 1783.0, "high": 1815.0, "low": 1777.0, "close": 1807.0, "vol": 128.112}..., Score: 1670889600.0 (datetime: 2022-12-13 00:00:00+00:00)
2025-09-04 14:19:57,728 - logging_config - INFO - redis_utils.py:139 -   Member: {"time": 1670976000, "open": 1807.0, "high": 1820.0, "low": 1789.0, "close": 1802.0, "vol": 138.043}..., Score: 1670976000.0 (datetime: 2022-12-14 00:00:00+00:00)
2025-09-04 14:19:57,729 - logging_config - INFO - redis_utils.py:140 -   ... and 995 more members.
2025-09-04 14:19:57,729 - logging_config - INFO - redis_utils.py:159 - Found 0 cached klines for PAXGUSDT 1d between 1333423748 and 1474177639
2025-09-04 14:19:57,729 - logging_config - INFO - websocket_handlers.py:362 - ‚úÖ REDIS SUCCESS: Retrieved 0 klines from Redis for PAXGUSDT
2025-09-04 14:19:57,729 - logging_config - WARNING - websocket_handlers.py:370 - ‚ö†Ô∏è No historical klines found in Redis cache for PAXGUSDT
2025-09-04 14:19:57,729 - logging_config - INFO - websocket_handlers.py:371 - üîÑ FALLBACK: Attempting to fetch data from Bybit API for PAXGUSDT
2025-09-04 14:19:57,729 - logging_config - INFO - websocket_handlers.py:378 - üì° FETCHING FROM BYBIT: PAXGUSDT 1d from 1333423748 to 1474177639
2025-09-04 14:19:57,900 - logging_config - INFO - redis_utils.py:340 - No more data available from Bybit for PAXGUSDT 1d at batch #1
2025-09-04 14:19:57,900 - logging_config - WARNING - websocket_handlers.py:391 - ‚ùå BYBIT FAILURE: No data fetched from Bybit for PAXGUSDT
2025-09-04 14:19:57,901 - logging_config - INFO - utility_endpoints.py:168 - POST /settings: RAW data received from client for symbol 'PAXGUSDT': {'symbol': 'PAXGUSDT', 'resolution': '1d', 'range': '3m', 'xAxisMin': 1394049074046, 'xAxisMax': 1464422419503, 'yAxisMin': 4.393074168168304, 'yAxisMax': 15.520778810630645, 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'useLocalOllama': False, 'localOllamaModelName': '', 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3'], 'liveDataEnabled': False, 'showAgentTrades': False, 'streamDeltaTime': 1, 'last_selected_symbol': 'PAXGUSDT'}
2025-09-04 14:19:57,901 - logging_config - INFO - utility_endpoints.py:199 - POST /settings for PAXGUSDT and email klemenzivkovic@gmail.com: current_symbol_settings compiled for Redis save: {'resolution': '1d', 'range': '3m', 'xAxisMin': 1394049074046, 'xAxisMax': 1464422419503, 'yAxisMin': 4.393074168168304, 'yAxisMax': 15.520778810630645, 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3'], 'liveDataEnabled': False, 'streamDeltaTime': 1, 'useLocalOllama': False, 'localOllamaModelName': '', 'showAgentTrades': False, 'symbol': 'PAXGUSDT', 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'last_selected_symbol': 'PAXGUSDT'}
2025-09-04 14:19:57,901 - logging_config - INFO - utility_endpoints.py:201 - POST /settings for PAXGUSDT: Client sent streamDeltaTime: 1. Value to be saved in Redis for streamDeltaTime: 1
2025-09-04 14:19:57,903 - logging_config - INFO - utility_endpoints.py:204 - POST /settings for PAXGUSDT and email klemenzivkovic@gmail.com: Settings updated in Redis for PAXGUSDT: {'resolution': '1d', 'range': '3m', 'xAxisMin': 1394049074046, 'xAxisMax': 1464422419503, 'yAxisMin': 4.393074168168304, 'yAxisMax': 15.520778810630645, 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3'], 'liveDataEnabled': False, 'streamDeltaTime': 1, 'useLocalOllama': False, 'localOllamaModelName': '', 'showAgentTrades': False, 'symbol': 'PAXGUSDT', 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'last_selected_symbol': 'PAXGUSDT'}
2025-09-04 14:19:58,400 - logging_config - INFO - websocket_handlers.py:742 - üì® RAW MESSAGE RECEIVED for PAXGUSDT: {
  "type": "config",
  "symbol": "PAXGUSDT",
  "indicators": [
    "macd",
    "rsi",
    "stochrsi_9_3"
  ],
  "resolution": "1d",
  "from_ts": 1358862401317,
  "to_ts": 1499609092231
}
2025-09-04 14:19:58,400 - logging_config - INFO - websocket_handlers.py:747 - [TIMESTAMP DEBUG] websocket_handlers.py - Received timestamps:
2025-09-04 14:19:58,400 - logging_config - INFO - websocket_handlers.py:748 -   from_ts: 1358862401317 (type: <class 'int'>)
2025-09-04 14:19:58,400 - logging_config - INFO - websocket_handlers.py:749 -   to_ts: 1499609092231 (type: <class 'int'>)
2025-09-04 14:19:58,400 - logging_config - WARNING - websocket_handlers.py:769 - [TIMESTAMP DEBUG] from_ts 1358862401317 appears to be in MILLISECONDS (should be seconds)
2025-09-04 14:19:58,400 - logging_config - INFO - websocket_handlers.py:770 -   Converting to seconds: 1358862401
2025-09-04 14:19:58,400 - logging_config - INFO - websocket_handlers.py:774 - [TIMESTAMP CONVERSION] Client milliseconds -> Server seconds:
2025-09-04 14:19:58,400 - logging_config - INFO - websocket_handlers.py:775 -   1358862401317 -> 1358862401 (2013-01-22 13:46:41 UTC)
2025-09-04 14:19:58,400 - logging_config - INFO - websocket_handlers.py:776 -   1499609092231 -> 1499609092 (2017-07-09 14:04:52 UTC)
2025-09-04 14:19:58,401 - logging_config - INFO - websocket_handlers.py:795 - [TIMESTAMP FIX] Final timestamps set:
2025-09-04 14:19:58,401 - logging_config - INFO - websocket_handlers.py:796 -   from_ts: 1358862401 (type: <class 'int'>)
2025-09-04 14:19:58,401 - logging_config - INFO - websocket_handlers.py:797 -   to_ts: 1499609092 (type: <class 'int'>)
2025-09-04 14:19:58,401 - logging_config - INFO - websocket_handlers.py:807 - Client config updated for PAXGUSDT: indicators=['macd', 'rsi', 'stochrsi_9_3'], resolution=1d
2025-09-04 14:19:58,401 - logging_config - INFO - websocket_handlers.py:808 - üìä MESSAGE FIELD VALUES for PAXGUSDT:
2025-09-04 14:19:58,401 - logging_config - INFO - websocket_handlers.py:809 -   symbol: PAXGUSDT (fallback: PAXGUSDT)
2025-09-04 14:19:58,401 - logging_config - INFO - websocket_handlers.py:810 -   from_ts: 1358862401317 (type: <class 'int'>)
2025-09-04 14:19:58,401 - logging_config - INFO - websocket_handlers.py:811 -   to_ts: 1499609092231 (type: <class 'int'>)
2025-09-04 14:19:58,401 - logging_config - INFO - websocket_handlers.py:812 -   indicators: ['macd', 'rsi', 'stochrsi_9_3'] (type: <class 'list'>)
2025-09-04 14:19:58,401 - logging_config - INFO - websocket_handlers.py:813 -   resolution: 1d (type: <class 'str'>)
2025-09-04 14:19:58,401 - logging_config - INFO - websocket_handlers.py:819 - üìä SERVER TIME RANGE ANALYSIS for PAXGUSDT:
2025-09-04 14:19:58,401 - logging_config - INFO - websocket_handlers.py:820 -   Old range: from_ts=1333423748, to_ts=1474177639
2025-09-04 14:19:58,401 - logging_config - INFO - websocket_handlers.py:821 -   New range: from_ts=1358862401, to_ts=1499609092
2025-09-04 14:19:58,401 - logging_config - INFO - websocket_handlers.py:822 -   Time range changed: True
2025-09-04 14:19:58,401 - logging_config - INFO - websocket_handlers.py:823 -   Historical sent: True
2025-09-04 14:19:58,401 - logging_config - INFO - websocket_handlers.py:824 -   Has timestamps: from_ts=True, to_ts=True
2025-09-04 14:19:58,401 - logging_config - INFO - websocket_handlers.py:843 -   üìÖ SERVER RECEIVED RANGE (UTC):
2025-09-04 14:19:58,401 - logging_config - INFO - websocket_handlers.py:844 -     From: 2013-01-22 13:46:41 UTC (1358862401)
2025-09-04 14:19:58,403 - logging_config - INFO - websocket_handlers.py:845 -     To: 2017-07-09 14:04:52 UTC (1499609092)
2025-09-04 14:19:58,403 - logging_config - INFO - websocket_handlers.py:846 -     Range: 140746691 seconds (39096.3 hours)
2025-09-04 14:19:58,403 - logging_config - INFO - websocket_handlers.py:848 -   üìÖ SERVER RECEIVED RANGE (Local Time):
2025-09-04 14:19:58,403 - logging_config - INFO - websocket_handlers.py:849 -     From: 2013-01-22 15:46:41 Central Europe Summer Time
2025-09-04 14:19:58,403 - logging_config - INFO - websocket_handlers.py:850 -     To: 2017-07-09 16:04:52 Central Europe Summer Time
2025-09-04 14:19:58,403 - logging_config - INFO - websocket_handlers.py:853 -   üåç TIMEZONE ANALYSIS:
2025-09-04 14:19:58,403 - logging_config - INFO - websocket_handlers.py:854 -     Server timezone: Central Europe Summer Time (UTC+2.0)
2025-09-04 14:19:58,403 - logging_config - INFO - websocket_handlers.py:855 -     User timezone (from logs): Europe/Ljubljana (UTC+2)
2025-09-04 14:19:58,403 - logging_config - INFO - websocket_handlers.py:856 -     Timezone difference: 0.0 hours
2025-09-04 14:19:58,404 - logging_config - INFO - websocket_handlers.py:859 -   üì§ DATA TO BE SENT TO CLIENT:
2025-09-04 14:19:58,404 - logging_config - INFO - websocket_handlers.py:860 -     Timestamps will be sent as seconds (not milliseconds)
2025-09-04 14:19:58,404 - logging_config - INFO - websocket_handlers.py:861 -     Client will receive: from_ts=1358862401, to_ts=1499609092
2025-09-04 14:19:58,404 - logging_config - INFO - websocket_handlers.py:862 -     Client local time equivalent: 2013-01-22 15:46:41 to 2017-07-09 16:04:52
2025-09-04 14:19:58,404 - logging_config - INFO - websocket_handlers.py:867 -   üìä USER'S CHART VIEW STATE:
2025-09-04 14:19:58,404 - logging_config - INFO - websocket_handlers.py:868 -     X-Axis Min: 30/08/2025, 10:31:39
2025-09-04 14:19:58,404 - logging_config - INFO - websocket_handlers.py:869 -     X-Axis Max: 04/09/2025, 01:58:37
2025-09-04 14:19:58,404 - logging_config - INFO - websocket_handlers.py:870 -     Expected local time range: 2025-08-30 10:31 to 2025-09-04 01:58
2025-09-04 14:19:58,404 - logging_config - INFO - websocket_handlers.py:871 -     Server received UTC equivalent: 2013-01-22 13:46 to 2017-07-09 14:04
2025-09-04 14:19:58,404 - logging_config - INFO - websocket_handlers.py:881 - Should send historical data: 1499609092
2025-09-04 14:19:58,405 - logging_config - INFO - websocket_handlers.py:884 - Sending historical data for PAXGUSDT - time range changed: True, historical_sent: True
2025-09-04 14:19:58,405 - logging_config - INFO - websocket_handlers.py:309 - Sending historical data for PAXGUSDT with indicators: ['macd', 'rsi', 'stochrsi_9_3']
2025-09-04 14:19:58,405 - logging_config - INFO - websocket_handlers.py:310 - Time range: from_ts=1358862401, to_ts=1499609092, resolution=1d
2025-09-04 14:19:58,405 - logging_config - INFO - websocket_handlers.py:320 - WebSocket session email found: klemenzivkovic@gmail.com
2025-09-04 14:19:58,405 - logging_config - INFO - websocket_handlers.py:325 - Looking for drawings: symbol=PAXGUSDT, resolution=1d, email=klemenzivkovic@gmail.com
2025-09-04 14:19:58,405 - logging_config - INFO - websocket_handlers.py:330 - Redis key for drawings: drawings:klemenzivkovic@gmail.com:PAXGUSDT
2025-09-04 14:19:58,405 - logging_config - INFO - drawing_manager.py:60 - get_drawings for PAXGUSDT with resolution '1d': found 4 total, returning 4 filtered.
2025-09-04 14:19:58,405 - logging_config - INFO - websocket_handlers.py:339 - Sending 4 existing drawings for PAXGUSDT
2025-09-04 14:19:58,405 - logging_config - INFO - websocket_handlers.py:345 - Sending drawing (4) message: {'type': 'drawings', 'symbol': 'PAXGUSDT', 'data': [{'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1749504979, 'end_time': 1757034460, 'start_price': 3498.39837005988, 'end_price': 3360.406707317073, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': {'buyOnCross': False, 'sellOnCross': False, 'sendEmailOnCross': True}, 'id': '23a034a5-9e91-488c-a076-b1dc9fa49f8f'}, {'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1750519797, 'end_time': 1756969828, 'start_price': 3263.9115544910173, 'end_price': 3290.8273239708183, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': {'buyOnCross': False, 'sellOnCross': False, 'sendEmailOnCross': True}, 'id': 'baf77e17-16dc-4817-b3ea-430467fa3a06'}, {'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1742353742, 'end_time': 1759291109, 'start_price': 3597.298721036928, 'end_price': 3334.7182204260644, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': None, 'id': '30d5ab26-ece7-434c-b489-9aeeccb27e56'}, {'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1739775769, 'end_time': 1755240008, 'start_price': 3168.595862896743, 'end_price': 3270.412791705037, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': None, 'id': '56ea858d-8f15-4f9d-a3ef-249b5e232b7a'}]}
2025-09-04 14:19:58,405 - logging_config - INFO - websocket_handlers.py:347 - Successfully sent drawings message to client
2025-09-04 14:19:58,406 - logging_config - INFO - redis_utils.py:103 - Querying sorted set 'zset:kline:PAXGUSDT:1d' for range [1358862401, 1499609092]
2025-09-04 14:19:58,406 - logging_config - INFO - redis_utils.py:106 - [TIMESTAMP DEBUG] redis_utils.py - get_cached_klines query:
2025-09-04 14:19:58,406 - logging_config - INFO - redis_utils.py:107 -   start_ts: 1358862401 (type: <class 'int'>)
2025-09-04 14:19:58,406 - logging_config - INFO - redis_utils.py:108 -   end_ts: 1499609092 (type: <class 'int'>)
2025-09-04 14:19:58,406 - logging_config - INFO - redis_utils.py:115 - [TIMESTAMP DEBUG] start_ts 1358862401 appears to be in SECONDS (correct for Redis)
2025-09-04 14:19:58,406 - logging_config - INFO - redis_utils.py:120 - [TIMESTAMP DEBUG] Checking Redis data sample for comparison...
2025-09-04 14:19:58,406 - logging_config - WARNING - redis_utils.py:129 - No data returned from zrangebyscore for key 'zset:kline:PAXGUSDT:1d' with range [1358862401, 1499609092]. Checking if key exists and has members...
2025-09-04 14:19:58,407 - logging_config - INFO - redis_utils.py:132 - Key 'zset:kline:PAXGUSDT:1d': Exists? 1, Cardinality: 1000
2025-09-04 14:19:58,407 - logging_config - INFO - redis_utils.py:134 - Fetching all members from 'zset:kline:PAXGUSDT:1d' to inspect scores, as zrangebyscore returned empty for range [1358862401, 1499609092].
2025-09-04 14:19:58,413 - logging_config - INFO - redis_utils.py:137 - All members in '{sorted_set_key}' (first 5 shown if many):
2025-09-04 14:19:58,413 - logging_config - INFO - redis_utils.py:139 -   Member: {"time": 1670630400, "open": 1788.0, "high": 1791.0, "low": 1781.0, "close": 1787.0, "vol": 54.645}..., Score: 1670630400.0 (datetime: 2022-12-10 00:00:00+00:00)
2025-09-04 14:19:58,413 - logging_config - INFO - redis_utils.py:139 -   Member: {"time": 1670716800, "open": 1787.0, "high": 1802.0, "low": 1785.0, "close": 1798.0, "vol": 130.347}..., Score: 1670716800.0 (datetime: 2022-12-11 00:00:00+00:00)
2025-09-04 14:19:58,413 - logging_config - INFO - redis_utils.py:139 -   Member: {"time": 1670803200, "open": 1798.0, "high": 1798.0, "low": 1777.0, "close": 1783.0, "vol": 112.461}..., Score: 1670803200.0 (datetime: 2022-12-12 00:00:00+00:00)
2025-09-04 14:19:58,413 - logging_config - INFO - redis_utils.py:139 -   Member: {"time": 1670889600, "open": 1783.0, "high": 1815.0, "low": 1777.0, "close": 1807.0, "vol": 128.112}..., Score: 1670889600.0 (datetime: 2022-12-13 00:00:00+00:00)
2025-09-04 14:19:58,414 - logging_config - INFO - redis_utils.py:139 -   Member: {"time": 1670976000, "open": 1807.0, "high": 1820.0, "low": 1789.0, "close": 1802.0, "vol": 138.043}..., Score: 1670976000.0 (datetime: 2022-12-14 00:00:00+00:00)
2025-09-04 14:19:58,414 - logging_config - INFO - redis_utils.py:140 -   ... and 995 more members.
2025-09-04 14:19:58,414 - logging_config - INFO - redis_utils.py:159 - Found 0 cached klines for PAXGUSDT 1d between 1358862401 and 1499609092
2025-09-04 14:19:58,414 - logging_config - INFO - websocket_handlers.py:362 - ‚úÖ REDIS SUCCESS: Retrieved 0 klines from Redis for PAXGUSDT
2025-09-04 14:19:58,414 - logging_config - WARNING - websocket_handlers.py:370 - ‚ö†Ô∏è No historical klines found in Redis cache for PAXGUSDT
2025-09-04 14:19:58,414 - logging_config - INFO - websocket_handlers.py:371 - üîÑ FALLBACK: Attempting to fetch data from Bybit API for PAXGUSDT
2025-09-04 14:19:58,414 - logging_config - INFO - websocket_handlers.py:378 - üì° FETCHING FROM BYBIT: PAXGUSDT 1d from 1358862401 to 1499609092
2025-09-04 14:19:58,588 - logging_config - INFO - redis_utils.py:340 - No more data available from Bybit for PAXGUSDT 1d at batch #1
2025-09-04 14:19:58,588 - logging_config - WARNING - websocket_handlers.py:391 - ‚ùå BYBIT FAILURE: No data fetched from Bybit for PAXGUSDT
2025-09-04 14:19:58,595 - logging_config - INFO - utility_endpoints.py:168 - POST /settings: RAW data received from client for symbol 'PAXGUSDT': {'symbol': 'PAXGUSDT', 'resolution': '1d', 'range': '3m', 'xAxisMin': 1426972942094, 'xAxisMax': 1497346287551, 'yAxisMin': 4.968419649094677, 'yAxisMax': 16.096124291557018, 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'useLocalOllama': False, 'localOllamaModelName': '', 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3'], 'liveDataEnabled': False, 'showAgentTrades': False, 'streamDeltaTime': 1, 'last_selected_symbol': 'PAXGUSDT'}
2025-09-04 14:19:58,595 - logging_config - INFO - utility_endpoints.py:199 - POST /settings for PAXGUSDT and email klemenzivkovic@gmail.com: current_symbol_settings compiled for Redis save: {'resolution': '1d', 'range': '3m', 'xAxisMin': 1426972942094, 'xAxisMax': 1497346287551, 'yAxisMin': 4.968419649094677, 'yAxisMax': 16.096124291557018, 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3'], 'liveDataEnabled': False, 'streamDeltaTime': 1, 'useLocalOllama': False, 'localOllamaModelName': '', 'showAgentTrades': False, 'symbol': 'PAXGUSDT', 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'last_selected_symbol': 'PAXGUSDT'}
2025-09-04 14:19:58,596 - logging_config - INFO - utility_endpoints.py:201 - POST /settings for PAXGUSDT: Client sent streamDeltaTime: 1. Value to be saved in Redis for streamDeltaTime: 1
2025-09-04 14:19:58,596 - logging_config - INFO - utility_endpoints.py:204 - POST /settings for PAXGUSDT and email klemenzivkovic@gmail.com: Settings updated in Redis for PAXGUSDT: {'resolution': '1d', 'range': '3m', 'xAxisMin': 1426972942094, 'xAxisMax': 1497346287551, 'yAxisMin': 4.968419649094677, 'yAxisMax': 16.096124291557018, 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3'], 'liveDataEnabled': False, 'streamDeltaTime': 1, 'useLocalOllama': False, 'localOllamaModelName': '', 'showAgentTrades': False, 'symbol': 'PAXGUSDT', 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'last_selected_symbol': 'PAXGUSDT'}
2025-09-04 14:19:59,071 - logging_config - INFO - websocket_handlers.py:742 - üì® RAW MESSAGE RECEIVED for PAXGUSDT: {
  "type": "config",
  "symbol": "PAXGUSDT",
  "indicators": [
    "macd",
    "rsi",
    "stochrsi_9_3"
  ],
  "resolution": "1d",
  "from_ts": 1391786269365,
  "to_ts": 1532532960279
}
2025-09-04 14:19:59,072 - logging_config - INFO - websocket_handlers.py:747 - [TIMESTAMP DEBUG] websocket_handlers.py - Received timestamps:
2025-09-04 14:19:59,072 - logging_config - INFO - websocket_handlers.py:748 -   from_ts: 1391786269365 (type: <class 'int'>)
2025-09-04 14:19:59,072 - logging_config - INFO - websocket_handlers.py:749 -   to_ts: 1532532960279 (type: <class 'int'>)
2025-09-04 14:19:59,072 - logging_config - WARNING - websocket_handlers.py:769 - [TIMESTAMP DEBUG] from_ts 1391786269365 appears to be in MILLISECONDS (should be seconds)
2025-09-04 14:19:59,072 - logging_config - INFO - websocket_handlers.py:770 -   Converting to seconds: 1391786269
2025-09-04 14:19:59,072 - logging_config - INFO - websocket_handlers.py:774 - [TIMESTAMP CONVERSION] Client milliseconds -> Server seconds:
2025-09-04 14:19:59,072 - logging_config - INFO - websocket_handlers.py:775 -   1391786269365 -> 1391786269 (2014-02-07 15:17:49 UTC)
2025-09-04 14:19:59,072 - logging_config - INFO - websocket_handlers.py:776 -   1532532960279 -> 1532532960 (2018-07-25 15:36:00 UTC)
2025-09-04 14:19:59,072 - logging_config - INFO - websocket_handlers.py:795 - [TIMESTAMP FIX] Final timestamps set:
2025-09-04 14:19:59,072 - logging_config - INFO - websocket_handlers.py:796 -   from_ts: 1391786269 (type: <class 'int'>)
2025-09-04 14:19:59,072 - logging_config - INFO - websocket_handlers.py:797 -   to_ts: 1532532960 (type: <class 'int'>)
2025-09-04 14:19:59,072 - logging_config - INFO - websocket_handlers.py:807 - Client config updated for PAXGUSDT: indicators=['macd', 'rsi', 'stochrsi_9_3'], resolution=1d
2025-09-04 14:19:59,072 - logging_config - INFO - websocket_handlers.py:808 - üìä MESSAGE FIELD VALUES for PAXGUSDT:
2025-09-04 14:19:59,072 - logging_config - INFO - websocket_handlers.py:809 -   symbol: PAXGUSDT (fallback: PAXGUSDT)
2025-09-04 14:19:59,073 - logging_config - INFO - websocket_handlers.py:810 -   from_ts: 1391786269365 (type: <class 'int'>)
2025-09-04 14:19:59,073 - logging_config - INFO - websocket_handlers.py:811 -   to_ts: 1532532960279 (type: <class 'int'>)
2025-09-04 14:19:59,073 - logging_config - INFO - websocket_handlers.py:812 -   indicators: ['macd', 'rsi', 'stochrsi_9_3'] (type: <class 'list'>)
2025-09-04 14:19:59,073 - logging_config - INFO - websocket_handlers.py:813 -   resolution: 1d (type: <class 'str'>)
2025-09-04 14:19:59,073 - logging_config - INFO - websocket_handlers.py:819 - üìä SERVER TIME RANGE ANALYSIS for PAXGUSDT:
2025-09-04 14:19:59,073 - logging_config - INFO - websocket_handlers.py:820 -   Old range: from_ts=1358862401, to_ts=1499609092
2025-09-04 14:19:59,073 - logging_config - INFO - websocket_handlers.py:821 -   New range: from_ts=1391786269, to_ts=1532532960
2025-09-04 14:19:59,073 - logging_config - INFO - websocket_handlers.py:822 -   Time range changed: True
2025-09-04 14:19:59,073 - logging_config - INFO - websocket_handlers.py:823 -   Historical sent: True
2025-09-04 14:19:59,074 - logging_config - INFO - websocket_handlers.py:824 -   Has timestamps: from_ts=True, to_ts=True
2025-09-04 14:19:59,074 - logging_config - INFO - websocket_handlers.py:843 -   üìÖ SERVER RECEIVED RANGE (UTC):
2025-09-04 14:19:59,074 - logging_config - INFO - websocket_handlers.py:844 -     From: 2014-02-07 15:17:49 UTC (1391786269)
2025-09-04 14:19:59,074 - logging_config - INFO - websocket_handlers.py:845 -     To: 2018-07-25 15:36:00 UTC (1532532960)
2025-09-04 14:19:59,074 - logging_config - INFO - websocket_handlers.py:846 -     Range: 140746691 seconds (39096.3 hours)
2025-09-04 14:19:59,074 - logging_config - INFO - websocket_handlers.py:848 -   üìÖ SERVER RECEIVED RANGE (Local Time):
2025-09-04 14:19:59,074 - logging_config - INFO - websocket_handlers.py:849 -     From: 2014-02-07 17:17:49 Central Europe Summer Time
2025-09-04 14:19:59,074 - logging_config - INFO - websocket_handlers.py:850 -     To: 2018-07-25 17:36:00 Central Europe Summer Time
2025-09-04 14:19:59,074 - logging_config - INFO - websocket_handlers.py:853 -   üåç TIMEZONE ANALYSIS:
2025-09-04 14:19:59,074 - logging_config - INFO - websocket_handlers.py:854 -     Server timezone: Central Europe Summer Time (UTC+2.0)
2025-09-04 14:19:59,074 - logging_config - INFO - websocket_handlers.py:855 -     User timezone (from logs): Europe/Ljubljana (UTC+2)
2025-09-04 14:19:59,075 - logging_config - INFO - websocket_handlers.py:856 -     Timezone difference: 0.0 hours
2025-09-04 14:19:59,075 - logging_config - INFO - websocket_handlers.py:859 -   üì§ DATA TO BE SENT TO CLIENT:
2025-09-04 14:19:59,075 - logging_config - INFO - websocket_handlers.py:860 -     Timestamps will be sent as seconds (not milliseconds)
2025-09-04 14:19:59,075 - logging_config - INFO - websocket_handlers.py:861 -     Client will receive: from_ts=1391786269, to_ts=1532532960
2025-09-04 14:19:59,075 - logging_config - INFO - websocket_handlers.py:862 -     Client local time equivalent: 2014-02-07 17:17:49 to 2018-07-25 17:36:00
2025-09-04 14:19:59,075 - logging_config - INFO - websocket_handlers.py:867 -   üìä USER'S CHART VIEW STATE:
2025-09-04 14:19:59,075 - logging_config - INFO - websocket_handlers.py:868 -     X-Axis Min: 30/08/2025, 10:31:39
2025-09-04 14:19:59,075 - logging_config - INFO - websocket_handlers.py:869 -     X-Axis Max: 04/09/2025, 01:58:37
2025-09-04 14:19:59,075 - logging_config - INFO - websocket_handlers.py:870 -     Expected local time range: 2025-08-30 10:31 to 2025-09-04 01:58
2025-09-04 14:19:59,075 - logging_config - INFO - websocket_handlers.py:871 -     Server received UTC equivalent: 2014-02-07 15:17 to 2018-07-25 15:36
2025-09-04 14:19:59,075 - logging_config - INFO - websocket_handlers.py:881 - Should send historical data: 1532532960
2025-09-04 14:19:59,075 - logging_config - INFO - websocket_handlers.py:884 - Sending historical data for PAXGUSDT - time range changed: True, historical_sent: True
2025-09-04 14:19:59,075 - logging_config - INFO - websocket_handlers.py:309 - Sending historical data for PAXGUSDT with indicators: ['macd', 'rsi', 'stochrsi_9_3']
2025-09-04 14:19:59,076 - logging_config - INFO - websocket_handlers.py:310 - Time range: from_ts=1391786269, to_ts=1532532960, resolution=1d
2025-09-04 14:19:59,076 - logging_config - INFO - websocket_handlers.py:320 - WebSocket session email found: klemenzivkovic@gmail.com
2025-09-04 14:19:59,076 - logging_config - INFO - websocket_handlers.py:325 - Looking for drawings: symbol=PAXGUSDT, resolution=1d, email=klemenzivkovic@gmail.com
2025-09-04 14:19:59,076 - logging_config - INFO - websocket_handlers.py:330 - Redis key for drawings: drawings:klemenzivkovic@gmail.com:PAXGUSDT
2025-09-04 14:19:59,077 - logging_config - INFO - drawing_manager.py:60 - get_drawings for PAXGUSDT with resolution '1d': found 4 total, returning 4 filtered.
2025-09-04 14:19:59,077 - logging_config - INFO - websocket_handlers.py:339 - Sending 4 existing drawings for PAXGUSDT
2025-09-04 14:19:59,077 - logging_config - INFO - websocket_handlers.py:345 - Sending drawing (4) message: {'type': 'drawings', 'symbol': 'PAXGUSDT', 'data': [{'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1749504979, 'end_time': 1757034460, 'start_price': 3498.39837005988, 'end_price': 3360.406707317073, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': {'buyOnCross': False, 'sellOnCross': False, 'sendEmailOnCross': True}, 'id': '23a034a5-9e91-488c-a076-b1dc9fa49f8f'}, {'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1750519797, 'end_time': 1756969828, 'start_price': 3263.9115544910173, 'end_price': 3290.8273239708183, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': {'buyOnCross': False, 'sellOnCross': False, 'sendEmailOnCross': True}, 'id': 'baf77e17-16dc-4817-b3ea-430467fa3a06'}, {'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1742353742, 'end_time': 1759291109, 'start_price': 3597.298721036928, 'end_price': 3334.7182204260644, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': None, 'id': '30d5ab26-ece7-434c-b489-9aeeccb27e56'}, {'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1739775769, 'end_time': 1755240008, 'start_price': 3168.595862896743, 'end_price': 3270.412791705037, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': None, 'id': '56ea858d-8f15-4f9d-a3ef-249b5e232b7a'}]}
2025-09-04 14:19:59,077 - logging_config - INFO - websocket_handlers.py:347 - Successfully sent drawings message to client
2025-09-04 14:19:59,077 - logging_config - INFO - redis_utils.py:103 - Querying sorted set 'zset:kline:PAXGUSDT:1d' for range [1391786269, 1532532960]
2025-09-04 14:19:59,077 - logging_config - INFO - redis_utils.py:106 - [TIMESTAMP DEBUG] redis_utils.py - get_cached_klines query:
2025-09-04 14:19:59,077 - logging_config - INFO - redis_utils.py:107 -   start_ts: 1391786269 (type: <class 'int'>)
2025-09-04 14:19:59,078 - logging_config - INFO - redis_utils.py:108 -   end_ts: 1532532960 (type: <class 'int'>)
2025-09-04 14:19:59,078 - logging_config - INFO - redis_utils.py:115 - [TIMESTAMP DEBUG] start_ts 1391786269 appears to be in SECONDS (correct for Redis)
2025-09-04 14:19:59,078 - logging_config - INFO - redis_utils.py:120 - [TIMESTAMP DEBUG] Checking Redis data sample for comparison...
2025-09-04 14:19:59,078 - logging_config - WARNING - redis_utils.py:129 - No data returned from zrangebyscore for key 'zset:kline:PAXGUSDT:1d' with range [1391786269, 1532532960]. Checking if key exists and has members...
2025-09-04 14:19:59,079 - logging_config - INFO - redis_utils.py:132 - Key 'zset:kline:PAXGUSDT:1d': Exists? 1, Cardinality: 1000
2025-09-04 14:19:59,079 - logging_config - INFO - redis_utils.py:134 - Fetching all members from 'zset:kline:PAXGUSDT:1d' to inspect scores, as zrangebyscore returned empty for range [1391786269, 1532532960].
2025-09-04 14:19:59,084 - logging_config - INFO - redis_utils.py:137 - All members in '{sorted_set_key}' (first 5 shown if many):
2025-09-04 14:19:59,084 - logging_config - INFO - redis_utils.py:139 -   Member: {"time": 1670630400, "open": 1788.0, "high": 1791.0, "low": 1781.0, "close": 1787.0, "vol": 54.645}..., Score: 1670630400.0 (datetime: 2022-12-10 00:00:00+00:00)
2025-09-04 14:19:59,084 - logging_config - INFO - redis_utils.py:139 -   Member: {"time": 1670716800, "open": 1787.0, "high": 1802.0, "low": 1785.0, "close": 1798.0, "vol": 130.347}..., Score: 1670716800.0 (datetime: 2022-12-11 00:00:00+00:00)
2025-09-04 14:19:59,084 - logging_config - INFO - redis_utils.py:139 -   Member: {"time": 1670803200, "open": 1798.0, "high": 1798.0, "low": 1777.0, "close": 1783.0, "vol": 112.461}..., Score: 1670803200.0 (datetime: 2022-12-12 00:00:00+00:00)
2025-09-04 14:19:59,084 - logging_config - INFO - redis_utils.py:139 -   Member: {"time": 1670889600, "open": 1783.0, "high": 1815.0, "low": 1777.0, "close": 1807.0, "vol": 128.112}..., Score: 1670889600.0 (datetime: 2022-12-13 00:00:00+00:00)
2025-09-04 14:19:59,084 - logging_config - INFO - redis_utils.py:139 -   Member: {"time": 1670976000, "open": 1807.0, "high": 1820.0, "low": 1789.0, "close": 1802.0, "vol": 138.043}..., Score: 1670976000.0 (datetime: 2022-12-14 00:00:00+00:00)
2025-09-04 14:19:59,084 - logging_config - INFO - redis_utils.py:140 -   ... and 995 more members.
2025-09-04 14:19:59,085 - logging_config - INFO - redis_utils.py:159 - Found 0 cached klines for PAXGUSDT 1d between 1391786269 and 1532532960
2025-09-04 14:19:59,085 - logging_config - INFO - websocket_handlers.py:362 - ‚úÖ REDIS SUCCESS: Retrieved 0 klines from Redis for PAXGUSDT
2025-09-04 14:19:59,085 - logging_config - WARNING - websocket_handlers.py:370 - ‚ö†Ô∏è No historical klines found in Redis cache for PAXGUSDT
2025-09-04 14:19:59,085 - logging_config - INFO - websocket_handlers.py:371 - üîÑ FALLBACK: Attempting to fetch data from Bybit API for PAXGUSDT
2025-09-04 14:19:59,085 - logging_config - INFO - websocket_handlers.py:378 - üì° FETCHING FROM BYBIT: PAXGUSDT 1d from 1391786269 to 1532532960
2025-09-04 14:19:59,256 - logging_config - INFO - redis_utils.py:340 - No more data available from Bybit for PAXGUSDT 1d at batch #1
2025-09-04 14:19:59,257 - logging_config - WARNING - websocket_handlers.py:391 - ‚ùå BYBIT FAILURE: No data fetched from Bybit for PAXGUSDT
2025-09-04 14:19:59,258 - logging_config - INFO - utility_endpoints.py:168 - POST /settings: RAW data received from client for symbol 'PAXGUSDT': {'symbol': 'PAXGUSDT', 'resolution': '1d', 'range': '3m', 'xAxisMin': 1484720361448, 'xAxisMax': 1555093706904, 'yAxisMin': 5.569917197335885, 'yAxisMax': 16.697621839798227, 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'useLocalOllama': False, 'localOllamaModelName': '', 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3'], 'liveDataEnabled': False, 'showAgentTrades': False, 'streamDeltaTime': 1, 'last_selected_symbol': 'PAXGUSDT'}
2025-09-04 14:19:59,259 - logging_config - INFO - utility_endpoints.py:199 - POST /settings for PAXGUSDT and email klemenzivkovic@gmail.com: current_symbol_settings compiled for Redis save: {'resolution': '1d', 'range': '3m', 'xAxisMin': 1484720361448, 'xAxisMax': 1555093706904, 'yAxisMin': 5.569917197335885, 'yAxisMax': 16.697621839798227, 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3'], 'liveDataEnabled': False, 'streamDeltaTime': 1, 'useLocalOllama': False, 'localOllamaModelName': '', 'showAgentTrades': False, 'symbol': 'PAXGUSDT', 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'last_selected_symbol': 'PAXGUSDT'}
2025-09-04 14:19:59,259 - logging_config - INFO - utility_endpoints.py:201 - POST /settings for PAXGUSDT: Client sent streamDeltaTime: 1. Value to be saved in Redis for streamDeltaTime: 1
2025-09-04 14:19:59,260 - logging_config - INFO - utility_endpoints.py:204 - POST /settings for PAXGUSDT and email klemenzivkovic@gmail.com: Settings updated in Redis for PAXGUSDT: {'resolution': '1d', 'range': '3m', 'xAxisMin': 1484720361448, 'xAxisMax': 1555093706904, 'yAxisMin': 5.569917197335885, 'yAxisMax': 16.697621839798227, 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3'], 'liveDataEnabled': False, 'streamDeltaTime': 1, 'useLocalOllama': False, 'localOllamaModelName': '', 'showAgentTrades': False, 'symbol': 'PAXGUSDT', 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'last_selected_symbol': 'PAXGUSDT'}
2025-09-04 14:19:59,728 - logging_config - INFO - websocket_handlers.py:742 - üì® RAW MESSAGE RECEIVED for PAXGUSDT: {
  "type": "config",
  "symbol": "PAXGUSDT",
  "indicators": [
    "macd",
    "rsi",
    "stochrsi_9_3"
  ],
  "resolution": "1d",
  "from_ts": 1449533688720,
  "to_ts": 1590280379632
}
2025-09-04 14:19:59,728 - logging_config - INFO - websocket_handlers.py:747 - [TIMESTAMP DEBUG] websocket_handlers.py - Received timestamps:
2025-09-04 14:19:59,728 - logging_config - INFO - websocket_handlers.py:748 -   from_ts: 1449533688720 (type: <class 'int'>)
2025-09-04 14:19:59,729 - logging_config - INFO - websocket_handlers.py:749 -   to_ts: 1590280379632 (type: <class 'int'>)
2025-09-04 14:19:59,729 - logging_config - WARNING - websocket_handlers.py:769 - [TIMESTAMP DEBUG] from_ts 1449533688720 appears to be in MILLISECONDS (should be seconds)
2025-09-04 14:19:59,729 - logging_config - INFO - websocket_handlers.py:770 -   Converting to seconds: 1449533688
2025-09-04 14:19:59,729 - logging_config - INFO - websocket_handlers.py:774 - [TIMESTAMP CONVERSION] Client milliseconds -> Server seconds:
2025-09-04 14:19:59,729 - logging_config - INFO - websocket_handlers.py:775 -   1449533688720 -> 1449533688 (2015-12-08 00:14:48 UTC)
2025-09-04 14:19:59,729 - logging_config - INFO - websocket_handlers.py:776 -   1590280379632 -> 1590280379 (2020-05-24 00:32:59 UTC)
2025-09-04 14:19:59,729 - logging_config - INFO - websocket_handlers.py:795 - [TIMESTAMP FIX] Final timestamps set:
2025-09-04 14:19:59,729 - logging_config - INFO - websocket_handlers.py:796 -   from_ts: 1449533688 (type: <class 'int'>)
2025-09-04 14:19:59,729 - logging_config - INFO - websocket_handlers.py:797 -   to_ts: 1590280379 (type: <class 'int'>)
2025-09-04 14:19:59,729 - logging_config - INFO - websocket_handlers.py:807 - Client config updated for PAXGUSDT: indicators=['macd', 'rsi', 'stochrsi_9_3'], resolution=1d
2025-09-04 14:19:59,730 - logging_config - INFO - websocket_handlers.py:808 - üìä MESSAGE FIELD VALUES for PAXGUSDT:
2025-09-04 14:19:59,730 - logging_config - INFO - websocket_handlers.py:809 -   symbol: PAXGUSDT (fallback: PAXGUSDT)
2025-09-04 14:19:59,730 - logging_config - INFO - websocket_handlers.py:810 -   from_ts: 1449533688720 (type: <class 'int'>)
2025-09-04 14:19:59,730 - logging_config - INFO - websocket_handlers.py:811 -   to_ts: 1590280379632 (type: <class 'int'>)
2025-09-04 14:19:59,730 - logging_config - INFO - websocket_handlers.py:812 -   indicators: ['macd', 'rsi', 'stochrsi_9_3'] (type: <class 'list'>)
2025-09-04 14:19:59,730 - logging_config - INFO - websocket_handlers.py:813 -   resolution: 1d (type: <class 'str'>)
2025-09-04 14:19:59,730 - logging_config - INFO - websocket_handlers.py:819 - üìä SERVER TIME RANGE ANALYSIS for PAXGUSDT:
2025-09-04 14:19:59,730 - logging_config - INFO - websocket_handlers.py:820 -   Old range: from_ts=1391786269, to_ts=1532532960
2025-09-04 14:19:59,730 - logging_config - INFO - websocket_handlers.py:821 -   New range: from_ts=1449533688, to_ts=1590280379
2025-09-04 14:19:59,730 - logging_config - INFO - websocket_handlers.py:822 -   Time range changed: True
2025-09-04 14:19:59,730 - logging_config - INFO - websocket_handlers.py:823 -   Historical sent: True
2025-09-04 14:19:59,730 - logging_config - INFO - websocket_handlers.py:824 -   Has timestamps: from_ts=True, to_ts=True
2025-09-04 14:19:59,730 - logging_config - INFO - websocket_handlers.py:843 -   üìÖ SERVER RECEIVED RANGE (UTC):
2025-09-04 14:19:59,730 - logging_config - INFO - websocket_handlers.py:844 -     From: 2015-12-08 00:14:48 UTC (1449533688)
2025-09-04 14:19:59,730 - logging_config - INFO - websocket_handlers.py:845 -     To: 2020-05-24 00:32:59 UTC (1590280379)
2025-09-04 14:19:59,731 - logging_config - INFO - websocket_handlers.py:846 -     Range: 140746691 seconds (39096.3 hours)
2025-09-04 14:19:59,731 - logging_config - INFO - websocket_handlers.py:848 -   üìÖ SERVER RECEIVED RANGE (Local Time):
2025-09-04 14:19:59,731 - logging_config - INFO - websocket_handlers.py:849 -     From: 2015-12-08 02:14:48 Central Europe Summer Time
2025-09-04 14:19:59,731 - logging_config - INFO - websocket_handlers.py:850 -     To: 2020-05-24 02:32:59 Central Europe Summer Time
2025-09-04 14:19:59,731 - logging_config - INFO - websocket_handlers.py:853 -   üåç TIMEZONE ANALYSIS:
2025-09-04 14:19:59,731 - logging_config - INFO - websocket_handlers.py:854 -     Server timezone: Central Europe Summer Time (UTC+2.0)
2025-09-04 14:19:59,731 - logging_config - INFO - websocket_handlers.py:855 -     User timezone (from logs): Europe/Ljubljana (UTC+2)
2025-09-04 14:19:59,731 - logging_config - INFO - websocket_handlers.py:856 -     Timezone difference: 0.0 hours
2025-09-04 14:19:59,732 - logging_config - INFO - websocket_handlers.py:859 -   üì§ DATA TO BE SENT TO CLIENT:
2025-09-04 14:19:59,732 - logging_config - INFO - websocket_handlers.py:860 -     Timestamps will be sent as seconds (not milliseconds)
2025-09-04 14:19:59,732 - logging_config - INFO - websocket_handlers.py:861 -     Client will receive: from_ts=1449533688, to_ts=1590280379
2025-09-04 14:19:59,732 - logging_config - INFO - websocket_handlers.py:862 -     Client local time equivalent: 2015-12-08 02:14:48 to 2020-05-24 02:32:59
2025-09-04 14:19:59,732 - logging_config - INFO - websocket_handlers.py:867 -   üìä USER'S CHART VIEW STATE:
2025-09-04 14:19:59,732 - logging_config - INFO - websocket_handlers.py:868 -     X-Axis Min: 30/08/2025, 10:31:39
2025-09-04 14:19:59,732 - logging_config - INFO - websocket_handlers.py:869 -     X-Axis Max: 04/09/2025, 01:58:37
2025-09-04 14:19:59,732 - logging_config - INFO - websocket_handlers.py:870 -     Expected local time range: 2025-08-30 10:31 to 2025-09-04 01:58
2025-09-04 14:19:59,732 - logging_config - INFO - websocket_handlers.py:871 -     Server received UTC equivalent: 2015-12-08 00:14 to 2020-05-24 00:32
2025-09-04 14:19:59,732 - logging_config - INFO - websocket_handlers.py:881 - Should send historical data: 1590280379
2025-09-04 14:19:59,732 - logging_config - INFO - websocket_handlers.py:884 - Sending historical data for PAXGUSDT - time range changed: True, historical_sent: True
2025-09-04 14:19:59,732 - logging_config - INFO - websocket_handlers.py:309 - Sending historical data for PAXGUSDT with indicators: ['macd', 'rsi', 'stochrsi_9_3']
2025-09-04 14:19:59,732 - logging_config - INFO - websocket_handlers.py:310 - Time range: from_ts=1449533688, to_ts=1590280379, resolution=1d
2025-09-04 14:19:59,732 - logging_config - INFO - websocket_handlers.py:320 - WebSocket session email found: klemenzivkovic@gmail.com
2025-09-04 14:19:59,732 - logging_config - INFO - websocket_handlers.py:325 - Looking for drawings: symbol=PAXGUSDT, resolution=1d, email=klemenzivkovic@gmail.com
2025-09-04 14:19:59,732 - logging_config - INFO - websocket_handlers.py:330 - Redis key for drawings: drawings:klemenzivkovic@gmail.com:PAXGUSDT
2025-09-04 14:19:59,733 - logging_config - INFO - drawing_manager.py:60 - get_drawings for PAXGUSDT with resolution '1d': found 4 total, returning 4 filtered.
2025-09-04 14:19:59,733 - logging_config - INFO - websocket_handlers.py:339 - Sending 4 existing drawings for PAXGUSDT
2025-09-04 14:19:59,733 - logging_config - INFO - websocket_handlers.py:345 - Sending drawing (4) message: {'type': 'drawings', 'symbol': 'PAXGUSDT', 'data': [{'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1749504979, 'end_time': 1757034460, 'start_price': 3498.39837005988, 'end_price': 3360.406707317073, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': {'buyOnCross': False, 'sellOnCross': False, 'sendEmailOnCross': True}, 'id': '23a034a5-9e91-488c-a076-b1dc9fa49f8f'}, {'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1750519797, 'end_time': 1756969828, 'start_price': 3263.9115544910173, 'end_price': 3290.8273239708183, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': {'buyOnCross': False, 'sellOnCross': False, 'sendEmailOnCross': True}, 'id': 'baf77e17-16dc-4817-b3ea-430467fa3a06'}, {'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1742353742, 'end_time': 1759291109, 'start_price': 3597.298721036928, 'end_price': 3334.7182204260644, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': None, 'id': '30d5ab26-ece7-434c-b489-9aeeccb27e56'}, {'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1739775769, 'end_time': 1755240008, 'start_price': 3168.595862896743, 'end_price': 3270.412791705037, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': None, 'id': '56ea858d-8f15-4f9d-a3ef-249b5e232b7a'}]}
2025-09-04 14:19:59,734 - logging_config - INFO - websocket_handlers.py:347 - Successfully sent drawings message to client
2025-09-04 14:19:59,734 - logging_config - INFO - redis_utils.py:103 - Querying sorted set 'zset:kline:PAXGUSDT:1d' for range [1449533688, 1590280379]
2025-09-04 14:19:59,734 - logging_config - INFO - redis_utils.py:106 - [TIMESTAMP DEBUG] redis_utils.py - get_cached_klines query:
2025-09-04 14:19:59,734 - logging_config - INFO - redis_utils.py:107 -   start_ts: 1449533688 (type: <class 'int'>)
2025-09-04 14:19:59,734 - logging_config - INFO - redis_utils.py:108 -   end_ts: 1590280379 (type: <class 'int'>)
2025-09-04 14:19:59,735 - logging_config - INFO - redis_utils.py:115 - [TIMESTAMP DEBUG] start_ts 1449533688 appears to be in SECONDS (correct for Redis)
2025-09-04 14:19:59,735 - logging_config - INFO - redis_utils.py:120 - [TIMESTAMP DEBUG] Checking Redis data sample for comparison...
2025-09-04 14:19:59,735 - logging_config - WARNING - redis_utils.py:129 - No data returned from zrangebyscore for key 'zset:kline:PAXGUSDT:1d' with range [1449533688, 1590280379]. Checking if key exists and has members...
2025-09-04 14:19:59,736 - logging_config - INFO - redis_utils.py:132 - Key 'zset:kline:PAXGUSDT:1d': Exists? 1, Cardinality: 1000
2025-09-04 14:19:59,736 - logging_config - INFO - redis_utils.py:134 - Fetching all members from 'zset:kline:PAXGUSDT:1d' to inspect scores, as zrangebyscore returned empty for range [1449533688, 1590280379].
2025-09-04 14:19:59,741 - logging_config - INFO - redis_utils.py:137 - All members in '{sorted_set_key}' (first 5 shown if many):
2025-09-04 14:19:59,741 - logging_config - INFO - redis_utils.py:139 -   Member: {"time": 1670630400, "open": 1788.0, "high": 1791.0, "low": 1781.0, "close": 1787.0, "vol": 54.645}..., Score: 1670630400.0 (datetime: 2022-12-10 00:00:00+00:00)
2025-09-04 14:19:59,741 - logging_config - INFO - redis_utils.py:139 -   Member: {"time": 1670716800, "open": 1787.0, "high": 1802.0, "low": 1785.0, "close": 1798.0, "vol": 130.347}..., Score: 1670716800.0 (datetime: 2022-12-11 00:00:00+00:00)
2025-09-04 14:19:59,741 - logging_config - INFO - redis_utils.py:139 -   Member: {"time": 1670803200, "open": 1798.0, "high": 1798.0, "low": 1777.0, "close": 1783.0, "vol": 112.461}..., Score: 1670803200.0 (datetime: 2022-12-12 00:00:00+00:00)
2025-09-04 14:19:59,741 - logging_config - INFO - redis_utils.py:139 -   Member: {"time": 1670889600, "open": 1783.0, "high": 1815.0, "low": 1777.0, "close": 1807.0, "vol": 128.112}..., Score: 1670889600.0 (datetime: 2022-12-13 00:00:00+00:00)
2025-09-04 14:19:59,741 - logging_config - INFO - redis_utils.py:139 -   Member: {"time": 1670976000, "open": 1807.0, "high": 1820.0, "low": 1789.0, "close": 1802.0, "vol": 138.043}..., Score: 1670976000.0 (datetime: 2022-12-14 00:00:00+00:00)
2025-09-04 14:19:59,741 - logging_config - INFO - redis_utils.py:140 -   ... and 995 more members.
2025-09-04 14:19:59,741 - logging_config - INFO - redis_utils.py:159 - Found 0 cached klines for PAXGUSDT 1d between 1449533688 and 1590280379
2025-09-04 14:19:59,741 - logging_config - INFO - websocket_handlers.py:362 - ‚úÖ REDIS SUCCESS: Retrieved 0 klines from Redis for PAXGUSDT
2025-09-04 14:19:59,741 - logging_config - WARNING - websocket_handlers.py:370 - ‚ö†Ô∏è No historical klines found in Redis cache for PAXGUSDT
2025-09-04 14:19:59,741 - logging_config - INFO - websocket_handlers.py:371 - üîÑ FALLBACK: Attempting to fetch data from Bybit API for PAXGUSDT
2025-09-04 14:19:59,741 - logging_config - INFO - websocket_handlers.py:378 - üì° FETCHING FROM BYBIT: PAXGUSDT 1d from 1449533688 to 1590280379
2025-09-04 14:19:59,912 - logging_config - INFO - redis_utils.py:340 - No more data available from Bybit for PAXGUSDT 1d at batch #1
2025-09-04 14:19:59,912 - logging_config - WARNING - websocket_handlers.py:391 - ‚ùå BYBIT FAILURE: No data fetched from Bybit for PAXGUSDT
2025-09-04 14:19:59,928 - logging_config - INFO - utility_endpoints.py:168 - POST /settings: RAW data received from client for symbol 'PAXGUSDT': {'symbol': 'PAXGUSDT', 'resolution': '1d', 'range': '3m', 'xAxisMin': 1542729081341, 'xAxisMax': 1613106026798, 'yAxisMin': 6.276023014836433, 'yAxisMax': 17.403727657298777, 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'useLocalOllama': False, 'localOllamaModelName': '', 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3'], 'liveDataEnabled': False, 'showAgentTrades': False, 'streamDeltaTime': 1, 'last_selected_symbol': 'PAXGUSDT'}
2025-09-04 14:19:59,929 - logging_config - INFO - utility_endpoints.py:199 - POST /settings for PAXGUSDT and email klemenzivkovic@gmail.com: current_symbol_settings compiled for Redis save: {'resolution': '1d', 'range': '3m', 'xAxisMin': 1542729081341, 'xAxisMax': 1613106026798, 'yAxisMin': 6.276023014836433, 'yAxisMax': 17.403727657298777, 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3'], 'liveDataEnabled': False, 'streamDeltaTime': 1, 'useLocalOllama': False, 'localOllamaModelName': '', 'showAgentTrades': False, 'symbol': 'PAXGUSDT', 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'last_selected_symbol': 'PAXGUSDT'}
2025-09-04 14:19:59,929 - logging_config - INFO - utility_endpoints.py:201 - POST /settings for PAXGUSDT: Client sent streamDeltaTime: 1. Value to be saved in Redis for streamDeltaTime: 1
2025-09-04 14:19:59,929 - logging_config - INFO - utility_endpoints.py:204 - POST /settings for PAXGUSDT and email klemenzivkovic@gmail.com: Settings updated in Redis for PAXGUSDT: {'resolution': '1d', 'range': '3m', 'xAxisMin': 1542729081341, 'xAxisMax': 1613106026798, 'yAxisMin': 6.276023014836433, 'yAxisMax': 17.403727657298777, 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3'], 'liveDataEnabled': False, 'streamDeltaTime': 1, 'useLocalOllama': False, 'localOllamaModelName': '', 'showAgentTrades': False, 'symbol': 'PAXGUSDT', 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'last_selected_symbol': 'PAXGUSDT'}
2025-09-04 14:20:00,434 - logging_config - INFO - websocket_handlers.py:742 - üì® RAW MESSAGE RECEIVED for PAXGUSDT: {
  "type": "config",
  "symbol": "PAXGUSDT",
  "indicators": [
    "macd",
    "rsi",
    "stochrsi_9_3"
  ],
  "resolution": "1d",
  "from_ts": 1507540608612,
  "to_ts": 1648294499526
}
2025-09-04 14:20:00,434 - logging_config - INFO - websocket_handlers.py:747 - [TIMESTAMP DEBUG] websocket_handlers.py - Received timestamps:
2025-09-04 14:20:00,434 - logging_config - INFO - websocket_handlers.py:748 -   from_ts: 1507540608612 (type: <class 'int'>)
2025-09-04 14:20:00,435 - logging_config - INFO - websocket_handlers.py:749 -   to_ts: 1648294499526 (type: <class 'int'>)
2025-09-04 14:20:00,435 - logging_config - WARNING - websocket_handlers.py:769 - [TIMESTAMP DEBUG] from_ts 1507540608612 appears to be in MILLISECONDS (should be seconds)
2025-09-04 14:20:00,435 - logging_config - INFO - websocket_handlers.py:770 -   Converting to seconds: 1507540608
2025-09-04 14:20:00,435 - logging_config - INFO - websocket_handlers.py:774 - [TIMESTAMP CONVERSION] Client milliseconds -> Server seconds:
2025-09-04 14:20:00,435 - logging_config - INFO - websocket_handlers.py:775 -   1507540608612 -> 1507540608 (2017-10-09 09:16:48 UTC)
2025-09-04 14:20:00,435 - logging_config - INFO - websocket_handlers.py:776 -   1648294499526 -> 1648294499 (2022-03-26 11:34:59 UTC)
2025-09-04 14:20:00,436 - logging_config - INFO - websocket_handlers.py:795 - [TIMESTAMP FIX] Final timestamps set:
2025-09-04 14:20:00,436 - logging_config - INFO - websocket_handlers.py:796 -   from_ts: 1507540608 (type: <class 'int'>)
2025-09-04 14:20:00,436 - logging_config - INFO - websocket_handlers.py:797 -   to_ts: 1648294499 (type: <class 'int'>)
2025-09-04 14:20:00,436 - logging_config - INFO - websocket_handlers.py:807 - Client config updated for PAXGUSDT: indicators=['macd', 'rsi', 'stochrsi_9_3'], resolution=1d
2025-09-04 14:20:00,436 - logging_config - INFO - websocket_handlers.py:808 - üìä MESSAGE FIELD VALUES for PAXGUSDT:
2025-09-04 14:20:00,436 - logging_config - INFO - websocket_handlers.py:809 -   symbol: PAXGUSDT (fallback: PAXGUSDT)
2025-09-04 14:20:00,436 - logging_config - INFO - websocket_handlers.py:810 -   from_ts: 1507540608612 (type: <class 'int'>)
2025-09-04 14:20:00,436 - logging_config - INFO - websocket_handlers.py:811 -   to_ts: 1648294499526 (type: <class 'int'>)
2025-09-04 14:20:00,436 - logging_config - INFO - websocket_handlers.py:812 -   indicators: ['macd', 'rsi', 'stochrsi_9_3'] (type: <class 'list'>)
2025-09-04 14:20:00,436 - logging_config - INFO - websocket_handlers.py:813 -   resolution: 1d (type: <class 'str'>)
2025-09-04 14:20:00,437 - logging_config - INFO - websocket_handlers.py:819 - üìä SERVER TIME RANGE ANALYSIS for PAXGUSDT:
2025-09-04 14:20:00,437 - logging_config - INFO - websocket_handlers.py:820 -   Old range: from_ts=1449533688, to_ts=1590280379
2025-09-04 14:20:00,437 - logging_config - INFO - websocket_handlers.py:821 -   New range: from_ts=1507540608, to_ts=1648294499
2025-09-04 14:20:00,437 - logging_config - INFO - websocket_handlers.py:822 -   Time range changed: True
2025-09-04 14:20:00,437 - logging_config - INFO - websocket_handlers.py:823 -   Historical sent: True
2025-09-04 14:20:00,437 - logging_config - INFO - websocket_handlers.py:824 -   Has timestamps: from_ts=True, to_ts=True
2025-09-04 14:20:00,437 - logging_config - INFO - websocket_handlers.py:843 -   üìÖ SERVER RECEIVED RANGE (UTC):
2025-09-04 14:20:00,437 - logging_config - INFO - websocket_handlers.py:844 -     From: 2017-10-09 09:16:48 UTC (1507540608)
2025-09-04 14:20:00,437 - logging_config - INFO - websocket_handlers.py:845 -     To: 2022-03-26 11:34:59 UTC (1648294499)
2025-09-04 14:20:00,437 - logging_config - INFO - websocket_handlers.py:846 -     Range: 140753891 seconds (39098.3 hours)
2025-09-04 14:20:00,437 - logging_config - INFO - websocket_handlers.py:848 -   üìÖ SERVER RECEIVED RANGE (Local Time):
2025-09-04 14:20:00,437 - logging_config - INFO - websocket_handlers.py:849 -     From: 2017-10-09 11:16:48 Central Europe Summer Time
2025-09-04 14:20:00,438 - logging_config - INFO - websocket_handlers.py:850 -     To: 2022-03-26 13:34:59 Central Europe Summer Time
2025-09-04 14:20:00,438 - logging_config - INFO - websocket_handlers.py:853 -   üåç TIMEZONE ANALYSIS:
2025-09-04 14:20:00,438 - logging_config - INFO - websocket_handlers.py:854 -     Server timezone: Central Europe Summer Time (UTC+2.0)
2025-09-04 14:20:00,438 - logging_config - INFO - websocket_handlers.py:855 -     User timezone (from logs): Europe/Ljubljana (UTC+2)
2025-09-04 14:20:00,438 - logging_config - INFO - websocket_handlers.py:856 -     Timezone difference: 0.0 hours
2025-09-04 14:20:00,438 - logging_config - INFO - websocket_handlers.py:859 -   üì§ DATA TO BE SENT TO CLIENT:
2025-09-04 14:20:00,438 - logging_config - INFO - websocket_handlers.py:860 -     Timestamps will be sent as seconds (not milliseconds)
2025-09-04 14:20:00,438 - logging_config - INFO - websocket_handlers.py:861 -     Client will receive: from_ts=1507540608, to_ts=1648294499
2025-09-04 14:20:00,438 - logging_config - INFO - websocket_handlers.py:862 -     Client local time equivalent: 2017-10-09 11:16:48 to 2022-03-26 13:34:59
2025-09-04 14:20:00,438 - logging_config - INFO - websocket_handlers.py:867 -   üìä USER'S CHART VIEW STATE:
2025-09-04 14:20:00,438 - logging_config - INFO - websocket_handlers.py:868 -     X-Axis Min: 30/08/2025, 10:31:39
2025-09-04 14:20:00,438 - logging_config - INFO - websocket_handlers.py:869 -     X-Axis Max: 04/09/2025, 01:58:37
2025-09-04 14:20:00,438 - logging_config - INFO - websocket_handlers.py:870 -     Expected local time range: 2025-08-30 10:31 to 2025-09-04 01:58
2025-09-04 14:20:00,438 - logging_config - INFO - websocket_handlers.py:871 -     Server received UTC equivalent: 2017-10-09 09:16 to 2022-03-26 11:34
2025-09-04 14:20:00,438 - logging_config - INFO - websocket_handlers.py:881 - Should send historical data: 1648294499
2025-09-04 14:20:00,439 - logging_config - INFO - websocket_handlers.py:884 - Sending historical data for PAXGUSDT - time range changed: True, historical_sent: True
2025-09-04 14:20:00,439 - logging_config - INFO - websocket_handlers.py:309 - Sending historical data for PAXGUSDT with indicators: ['macd', 'rsi', 'stochrsi_9_3']
2025-09-04 14:20:00,439 - logging_config - INFO - websocket_handlers.py:310 - Time range: from_ts=1507540608, to_ts=1648294499, resolution=1d
2025-09-04 14:20:00,439 - logging_config - INFO - websocket_handlers.py:320 - WebSocket session email found: klemenzivkovic@gmail.com
2025-09-04 14:20:00,439 - logging_config - INFO - websocket_handlers.py:325 - Looking for drawings: symbol=PAXGUSDT, resolution=1d, email=klemenzivkovic@gmail.com
2025-09-04 14:20:00,439 - logging_config - INFO - websocket_handlers.py:330 - Redis key for drawings: drawings:klemenzivkovic@gmail.com:PAXGUSDT
2025-09-04 14:20:00,440 - logging_config - INFO - drawing_manager.py:60 - get_drawings for PAXGUSDT with resolution '1d': found 4 total, returning 4 filtered.
2025-09-04 14:20:00,440 - logging_config - INFO - websocket_handlers.py:339 - Sending 4 existing drawings for PAXGUSDT
2025-09-04 14:20:00,440 - logging_config - INFO - websocket_handlers.py:345 - Sending drawing (4) message: {'type': 'drawings', 'symbol': 'PAXGUSDT', 'data': [{'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1749504979, 'end_time': 1757034460, 'start_price': 3498.39837005988, 'end_price': 3360.406707317073, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': {'buyOnCross': False, 'sellOnCross': False, 'sendEmailOnCross': True}, 'id': '23a034a5-9e91-488c-a076-b1dc9fa49f8f'}, {'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1750519797, 'end_time': 1756969828, 'start_price': 3263.9115544910173, 'end_price': 3290.8273239708183, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': {'buyOnCross': False, 'sellOnCross': False, 'sendEmailOnCross': True}, 'id': 'baf77e17-16dc-4817-b3ea-430467fa3a06'}, {'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1742353742, 'end_time': 1759291109, 'start_price': 3597.298721036928, 'end_price': 3334.7182204260644, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': None, 'id': '30d5ab26-ece7-434c-b489-9aeeccb27e56'}, {'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1739775769, 'end_time': 1755240008, 'start_price': 3168.595862896743, 'end_price': 3270.412791705037, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': None, 'id': '56ea858d-8f15-4f9d-a3ef-249b5e232b7a'}]}
2025-09-04 14:20:00,440 - logging_config - INFO - websocket_handlers.py:347 - Successfully sent drawings message to client
2025-09-04 14:20:00,440 - logging_config - INFO - redis_utils.py:103 - Querying sorted set 'zset:kline:PAXGUSDT:1d' for range [1507540608, 1648294499]
2025-09-04 14:20:00,440 - logging_config - INFO - redis_utils.py:106 - [TIMESTAMP DEBUG] redis_utils.py - get_cached_klines query:
2025-09-04 14:20:00,441 - logging_config - INFO - redis_utils.py:107 -   start_ts: 1507540608 (type: <class 'int'>)
2025-09-04 14:20:00,441 - logging_config - INFO - redis_utils.py:108 -   end_ts: 1648294499 (type: <class 'int'>)
2025-09-04 14:20:00,441 - logging_config - INFO - redis_utils.py:115 - [TIMESTAMP DEBUG] start_ts 1507540608 appears to be in SECONDS (correct for Redis)
2025-09-04 14:20:00,441 - logging_config - INFO - redis_utils.py:120 - [TIMESTAMP DEBUG] Checking Redis data sample for comparison...
2025-09-04 14:20:00,441 - logging_config - WARNING - redis_utils.py:129 - No data returned from zrangebyscore for key 'zset:kline:PAXGUSDT:1d' with range [1507540608, 1648294499]. Checking if key exists and has members...
2025-09-04 14:20:00,442 - logging_config - INFO - redis_utils.py:132 - Key 'zset:kline:PAXGUSDT:1d': Exists? 1, Cardinality: 1000
2025-09-04 14:20:00,442 - logging_config - INFO - redis_utils.py:134 - Fetching all members from 'zset:kline:PAXGUSDT:1d' to inspect scores, as zrangebyscore returned empty for range [1507540608, 1648294499].
2025-09-04 14:20:00,447 - logging_config - INFO - redis_utils.py:137 - All members in '{sorted_set_key}' (first 5 shown if many):
2025-09-04 14:20:00,447 - logging_config - INFO - redis_utils.py:139 -   Member: {"time": 1670630400, "open": 1788.0, "high": 1791.0, "low": 1781.0, "close": 1787.0, "vol": 54.645}..., Score: 1670630400.0 (datetime: 2022-12-10 00:00:00+00:00)
2025-09-04 14:20:00,448 - logging_config - INFO - redis_utils.py:139 -   Member: {"time": 1670716800, "open": 1787.0, "high": 1802.0, "low": 1785.0, "close": 1798.0, "vol": 130.347}..., Score: 1670716800.0 (datetime: 2022-12-11 00:00:00+00:00)
2025-09-04 14:20:00,448 - logging_config - INFO - redis_utils.py:139 -   Member: {"time": 1670803200, "open": 1798.0, "high": 1798.0, "low": 1777.0, "close": 1783.0, "vol": 112.461}..., Score: 1670803200.0 (datetime: 2022-12-12 00:00:00+00:00)
2025-09-04 14:20:00,448 - logging_config - INFO - redis_utils.py:139 -   Member: {"time": 1670889600, "open": 1783.0, "high": 1815.0, "low": 1777.0, "close": 1807.0, "vol": 128.112}..., Score: 1670889600.0 (datetime: 2022-12-13 00:00:00+00:00)
2025-09-04 14:20:00,448 - logging_config - INFO - redis_utils.py:139 -   Member: {"time": 1670976000, "open": 1807.0, "high": 1820.0, "low": 1789.0, "close": 1802.0, "vol": 138.043}..., Score: 1670976000.0 (datetime: 2022-12-14 00:00:00+00:00)
2025-09-04 14:20:00,448 - logging_config - INFO - redis_utils.py:140 -   ... and 995 more members.
2025-09-04 14:20:00,448 - logging_config - INFO - redis_utils.py:159 - Found 0 cached klines for PAXGUSDT 1d between 1507540608 and 1648294499
2025-09-04 14:20:00,448 - logging_config - INFO - websocket_handlers.py:362 - ‚úÖ REDIS SUCCESS: Retrieved 0 klines from Redis for PAXGUSDT
2025-09-04 14:20:00,448 - logging_config - WARNING - websocket_handlers.py:370 - ‚ö†Ô∏è No historical klines found in Redis cache for PAXGUSDT
2025-09-04 14:20:00,449 - logging_config - INFO - websocket_handlers.py:371 - üîÑ FALLBACK: Attempting to fetch data from Bybit API for PAXGUSDT
2025-09-04 14:20:00,449 - logging_config - INFO - websocket_handlers.py:378 - üì° FETCHING FROM BYBIT: PAXGUSDT 1d from 1507540608 to 1648294499
2025-09-04 14:20:00,943 - logging_config - INFO - redis_utils.py:340 - No more data available from Bybit for PAXGUSDT 1d at batch #1
2025-09-04 14:20:00,943 - logging_config - WARNING - websocket_handlers.py:391 - ‚ùå BYBIT FAILURE: No data fetched from Bybit for PAXGUSDT
2025-09-04 14:20:00,946 - logging_config - INFO - utility_endpoints.py:168 - POST /settings: RAW data received from client for symbol 'PAXGUSDT': {'symbol': 'PAXGUSDT', 'resolution': '1d', 'range': '3m', 'xAxisMin': 1574781947589, 'xAxisMax': 1645158893046, 'yAxisMin': 6.406783351410608, 'yAxisMax': 17.534487993872954, 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'useLocalOllama': False, 'localOllamaModelName': '', 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3'], 'liveDataEnabled': False, 'showAgentTrades': False, 'streamDeltaTime': 1, 'last_selected_symbol': 'PAXGUSDT'}
2025-09-04 14:20:00,946 - logging_config - INFO - utility_endpoints.py:199 - POST /settings for PAXGUSDT and email klemenzivkovic@gmail.com: current_symbol_settings compiled for Redis save: {'resolution': '1d', 'range': '3m', 'xAxisMin': 1574781947589, 'xAxisMax': 1645158893046, 'yAxisMin': 6.406783351410608, 'yAxisMax': 17.534487993872954, 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3'], 'liveDataEnabled': False, 'streamDeltaTime': 1, 'useLocalOllama': False, 'localOllamaModelName': '', 'showAgentTrades': False, 'symbol': 'PAXGUSDT', 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'last_selected_symbol': 'PAXGUSDT'}
2025-09-04 14:20:00,947 - logging_config - INFO - utility_endpoints.py:201 - POST /settings for PAXGUSDT: Client sent streamDeltaTime: 1. Value to be saved in Redis for streamDeltaTime: 1
2025-09-04 14:20:00,947 - logging_config - INFO - utility_endpoints.py:204 - POST /settings for PAXGUSDT and email klemenzivkovic@gmail.com: Settings updated in Redis for PAXGUSDT: {'resolution': '1d', 'range': '3m', 'xAxisMin': 1574781947589, 'xAxisMax': 1645158893046, 'yAxisMin': 6.406783351410608, 'yAxisMax': 17.534487993872954, 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3'], 'liveDataEnabled': False, 'streamDeltaTime': 1, 'useLocalOllama': False, 'localOllamaModelName': '', 'showAgentTrades': False, 'symbol': 'PAXGUSDT', 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'last_selected_symbol': 'PAXGUSDT'}
2025-09-04 14:20:01,072 - logging_config - INFO - websocket_handlers.py:742 - üì® RAW MESSAGE RECEIVED for PAXGUSDT: {
  "type": "config",
  "symbol": "PAXGUSDT",
  "indicators": [
    "macd",
    "rsi",
    "stochrsi_9_3"
  ],
  "resolution": "1d",
  "from_ts": 1539593474860,
  "to_ts": 1680347365774
}
2025-09-04 14:20:01,072 - logging_config - INFO - websocket_handlers.py:747 - [TIMESTAMP DEBUG] websocket_handlers.py - Received timestamps:
2025-09-04 14:20:01,072 - logging_config - INFO - websocket_handlers.py:748 -   from_ts: 1539593474860 (type: <class 'int'>)
2025-09-04 14:20:01,072 - logging_config - INFO - websocket_handlers.py:749 -   to_ts: 1680347365774 (type: <class 'int'>)
2025-09-04 14:20:01,072 - logging_config - WARNING - websocket_handlers.py:769 - [TIMESTAMP DEBUG] from_ts 1539593474860 appears to be in MILLISECONDS (should be seconds)
2025-09-04 14:20:01,072 - logging_config - INFO - websocket_handlers.py:770 -   Converting to seconds: 1539593474
2025-09-04 14:20:01,072 - logging_config - INFO - websocket_handlers.py:774 - [TIMESTAMP CONVERSION] Client milliseconds -> Server seconds:
2025-09-04 14:20:01,073 - logging_config - INFO - websocket_handlers.py:775 -   1539593474860 -> 1539593474 (2018-10-15 08:51:14 UTC)
2025-09-04 14:20:01,073 - logging_config - INFO - websocket_handlers.py:776 -   1680347365774 -> 1680347365 (2023-04-01 11:09:25 UTC)
2025-09-04 14:20:01,073 - logging_config - INFO - websocket_handlers.py:795 - [TIMESTAMP FIX] Final timestamps set:
2025-09-04 14:20:01,073 - logging_config - INFO - websocket_handlers.py:796 -   from_ts: 1539593474 (type: <class 'int'>)
2025-09-04 14:20:01,073 - logging_config - INFO - websocket_handlers.py:797 -   to_ts: 1680347365 (type: <class 'int'>)
2025-09-04 14:20:01,073 - logging_config - INFO - websocket_handlers.py:807 - Client config updated for PAXGUSDT: indicators=['macd', 'rsi', 'stochrsi_9_3'], resolution=1d
2025-09-04 14:20:01,073 - logging_config - INFO - websocket_handlers.py:808 - üìä MESSAGE FIELD VALUES for PAXGUSDT:
2025-09-04 14:20:01,073 - logging_config - INFO - websocket_handlers.py:809 -   symbol: PAXGUSDT (fallback: PAXGUSDT)
2025-09-04 14:20:01,073 - logging_config - INFO - websocket_handlers.py:810 -   from_ts: 1539593474860 (type: <class 'int'>)
2025-09-04 14:20:01,073 - logging_config - INFO - websocket_handlers.py:811 -   to_ts: 1680347365774 (type: <class 'int'>)
2025-09-04 14:20:01,074 - logging_config - INFO - websocket_handlers.py:812 -   indicators: ['macd', 'rsi', 'stochrsi_9_3'] (type: <class 'list'>)
2025-09-04 14:20:01,074 - logging_config - INFO - websocket_handlers.py:813 -   resolution: 1d (type: <class 'str'>)
2025-09-04 14:20:01,074 - logging_config - INFO - websocket_handlers.py:819 - üìä SERVER TIME RANGE ANALYSIS for PAXGUSDT:
2025-09-04 14:20:01,074 - logging_config - INFO - websocket_handlers.py:820 -   Old range: from_ts=1507540608, to_ts=1648294499
2025-09-04 14:20:01,074 - logging_config - INFO - websocket_handlers.py:821 -   New range: from_ts=1539593474, to_ts=1680347365
2025-09-04 14:20:01,074 - logging_config - INFO - websocket_handlers.py:822 -   Time range changed: True
2025-09-04 14:20:01,074 - logging_config - INFO - websocket_handlers.py:823 -   Historical sent: True
2025-09-04 14:20:01,074 - logging_config - INFO - websocket_handlers.py:824 -   Has timestamps: from_ts=True, to_ts=True
2025-09-04 14:20:01,074 - logging_config - INFO - websocket_handlers.py:843 -   üìÖ SERVER RECEIVED RANGE (UTC):
2025-09-04 14:20:01,075 - logging_config - INFO - websocket_handlers.py:844 -     From: 2018-10-15 08:51:14 UTC (1539593474)
2025-09-04 14:20:01,075 - logging_config - INFO - websocket_handlers.py:845 -     To: 2023-04-01 11:09:25 UTC (1680347365)
2025-09-04 14:20:01,075 - logging_config - INFO - websocket_handlers.py:846 -     Range: 140753891 seconds (39098.3 hours)
2025-09-04 14:20:01,075 - logging_config - INFO - websocket_handlers.py:848 -   üìÖ SERVER RECEIVED RANGE (Local Time):
2025-09-04 14:20:01,075 - logging_config - INFO - websocket_handlers.py:849 -     From: 2018-10-15 10:51:14 Central Europe Summer Time
2025-09-04 14:20:01,075 - logging_config - INFO - websocket_handlers.py:850 -     To: 2023-04-01 13:09:25 Central Europe Summer Time
2025-09-04 14:20:01,075 - logging_config - INFO - websocket_handlers.py:853 -   üåç TIMEZONE ANALYSIS:
2025-09-04 14:20:01,075 - logging_config - INFO - websocket_handlers.py:854 -     Server timezone: Central Europe Summer Time (UTC+2.0)
2025-09-04 14:20:01,075 - logging_config - INFO - websocket_handlers.py:855 -     User timezone (from logs): Europe/Ljubljana (UTC+2)
2025-09-04 14:20:01,075 - logging_config - INFO - websocket_handlers.py:856 -     Timezone difference: 0.0 hours
2025-09-04 14:20:01,076 - logging_config - INFO - websocket_handlers.py:859 -   üì§ DATA TO BE SENT TO CLIENT:
2025-09-04 14:20:01,076 - logging_config - INFO - websocket_handlers.py:860 -     Timestamps will be sent as seconds (not milliseconds)
2025-09-04 14:20:01,076 - logging_config - INFO - websocket_handlers.py:861 -     Client will receive: from_ts=1539593474, to_ts=1680347365
2025-09-04 14:20:01,076 - logging_config - INFO - websocket_handlers.py:862 -     Client local time equivalent: 2018-10-15 10:51:14 to 2023-04-01 13:09:25
2025-09-04 14:20:01,076 - logging_config - INFO - websocket_handlers.py:867 -   üìä USER'S CHART VIEW STATE:
2025-09-04 14:20:01,076 - logging_config - INFO - websocket_handlers.py:868 -     X-Axis Min: 30/08/2025, 10:31:39
2025-09-04 14:20:01,076 - logging_config - INFO - websocket_handlers.py:869 -     X-Axis Max: 04/09/2025, 01:58:37
2025-09-04 14:20:01,076 - logging_config - INFO - websocket_handlers.py:870 -     Expected local time range: 2025-08-30 10:31 to 2025-09-04 01:58
2025-09-04 14:20:01,076 - logging_config - INFO - websocket_handlers.py:871 -     Server received UTC equivalent: 2018-10-15 08:51 to 2023-04-01 11:09
2025-09-04 14:20:01,076 - logging_config - INFO - websocket_handlers.py:881 - Should send historical data: 1680347365
2025-09-04 14:20:01,076 - logging_config - INFO - websocket_handlers.py:884 - Sending historical data for PAXGUSDT - time range changed: True, historical_sent: True
2025-09-04 14:20:01,077 - logging_config - INFO - websocket_handlers.py:309 - Sending historical data for PAXGUSDT with indicators: ['macd', 'rsi', 'stochrsi_9_3']
2025-09-04 14:20:01,077 - logging_config - INFO - websocket_handlers.py:310 - Time range: from_ts=1539593474, to_ts=1680347365, resolution=1d
2025-09-04 14:20:01,077 - logging_config - INFO - websocket_handlers.py:320 - WebSocket session email found: klemenzivkovic@gmail.com
2025-09-04 14:20:01,077 - logging_config - INFO - websocket_handlers.py:325 - Looking for drawings: symbol=PAXGUSDT, resolution=1d, email=klemenzivkovic@gmail.com
2025-09-04 14:20:01,077 - logging_config - INFO - websocket_handlers.py:330 - Redis key for drawings: drawings:klemenzivkovic@gmail.com:PAXGUSDT
2025-09-04 14:20:01,078 - logging_config - INFO - drawing_manager.py:60 - get_drawings for PAXGUSDT with resolution '1d': found 4 total, returning 4 filtered.
2025-09-04 14:20:01,078 - logging_config - INFO - websocket_handlers.py:339 - Sending 4 existing drawings for PAXGUSDT
2025-09-04 14:20:01,078 - logging_config - INFO - websocket_handlers.py:345 - Sending drawing (4) message: {'type': 'drawings', 'symbol': 'PAXGUSDT', 'data': [{'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1749504979, 'end_time': 1757034460, 'start_price': 3498.39837005988, 'end_price': 3360.406707317073, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': {'buyOnCross': False, 'sellOnCross': False, 'sendEmailOnCross': True}, 'id': '23a034a5-9e91-488c-a076-b1dc9fa49f8f'}, {'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1750519797, 'end_time': 1756969828, 'start_price': 3263.9115544910173, 'end_price': 3290.8273239708183, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': {'buyOnCross': False, 'sellOnCross': False, 'sendEmailOnCross': True}, 'id': 'baf77e17-16dc-4817-b3ea-430467fa3a06'}, {'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1742353742, 'end_time': 1759291109, 'start_price': 3597.298721036928, 'end_price': 3334.7182204260644, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': None, 'id': '30d5ab26-ece7-434c-b489-9aeeccb27e56'}, {'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1739775769, 'end_time': 1755240008, 'start_price': 3168.595862896743, 'end_price': 3270.412791705037, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': None, 'id': '56ea858d-8f15-4f9d-a3ef-249b5e232b7a'}]}
2025-09-04 14:20:01,078 - logging_config - INFO - websocket_handlers.py:347 - Successfully sent drawings message to client
2025-09-04 14:20:01,078 - logging_config - INFO - redis_utils.py:103 - Querying sorted set 'zset:kline:PAXGUSDT:1d' for range [1539593474, 1680347365]
2025-09-04 14:20:01,078 - logging_config - INFO - redis_utils.py:106 - [TIMESTAMP DEBUG] redis_utils.py - get_cached_klines query:
2025-09-04 14:20:01,078 - logging_config - INFO - redis_utils.py:107 -   start_ts: 1539593474 (type: <class 'int'>)
2025-09-04 14:20:01,079 - logging_config - INFO - redis_utils.py:108 -   end_ts: 1680347365 (type: <class 'int'>)
2025-09-04 14:20:01,079 - logging_config - INFO - redis_utils.py:115 - [TIMESTAMP DEBUG] start_ts 1539593474 appears to be in SECONDS (correct for Redis)
2025-09-04 14:20:01,079 - logging_config - INFO - redis_utils.py:120 - [TIMESTAMP DEBUG] Checking Redis data sample for comparison...
2025-09-04 14:20:01,080 - logging_config - INFO - redis_utils.py:159 - Found 113 cached klines for PAXGUSDT 1d between 1539593474 and 1680347365
2025-09-04 14:20:01,080 - logging_config - INFO - redis_utils.py:163 - üîç DATA GAP ANALYSIS for PAXGUSDT 1d:
2025-09-04 14:20:01,080 - logging_config - INFO - redis_utils.py:164 -   Expected data points based on time range: ~1629
2025-09-04 14:20:01,080 - logging_config - INFO - redis_utils.py:165 -   Actual data points retrieved: 113
2025-09-04 14:20:01,080 - logging_config - INFO - redis_utils.py:194 - ‚úÖ No data gaps detected - data appears continuous
2025-09-04 14:20:01,081 - logging_config - INFO - websocket_handlers.py:362 - ‚úÖ REDIS SUCCESS: Retrieved 113 klines from Redis for PAXGUSDT
2025-09-04 14:20:01,081 - logging_config - INFO - websocket_handlers.py:398 - ‚úÖ CACHE HIT: Found 113 klines in Redis cache for PAXGUSDT
2025-09-04 14:20:01,081 - logging_config - INFO - websocket_handlers.py:402 - Calculating indicators for PAXGUSDT: 3 indicators, 113 klines
2025-09-04 14:20:01,081 - logging_config - INFO - redis_utils.py:265 - Found 0 cached Open Interest entries for PAXGUSDT 1d between 1539593474 and 1680347365
2025-09-04 14:20:01,081 - logging_config - INFO - websocket_handlers.py:626 - üîÑ OI FALLBACK: No Open Interest data in cache for PAXGUSDT, attempting to fetch from Bybit
2025-09-04 14:20:01,265 - logging_config - INFO - utility_endpoints.py:168 - POST /settings: RAW data received from client for symbol 'PAXGUSDT': {'symbol': 'PAXGUSDT', 'resolution': '1d', 'range': '3m', 'xAxisMin': 1614673830039, 'xAxisMax': 1685047175496, 'yAxisMin': 7.125965202568574, 'yAxisMax': 18.25366984503092, 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'useLocalOllama': False, 'localOllamaModelName': '', 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3'], 'liveDataEnabled': False, 'showAgentTrades': False, 'streamDeltaTime': 1, 'last_selected_symbol': 'PAXGUSDT'}
2025-09-04 14:20:01,266 - logging_config - INFO - websocket_handlers.py:634 - üíæ OI CACHED: Stored 200 Open Interest entries for PAXGUSDT
2025-09-04 14:20:01,279 - logging_config - INFO - utility_endpoints.py:199 - POST /settings for PAXGUSDT and email klemenzivkovic@gmail.com: current_symbol_settings compiled for Redis save: {'resolution': '1d', 'range': '3m', 'xAxisMin': 1614673830039, 'xAxisMax': 1685047175496, 'yAxisMin': 7.125965202568574, 'yAxisMax': 18.25366984503092, 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3'], 'liveDataEnabled': False, 'streamDeltaTime': 1, 'useLocalOllama': False, 'localOllamaModelName': '', 'showAgentTrades': False, 'symbol': 'PAXGUSDT', 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'last_selected_symbol': 'PAXGUSDT'}
2025-09-04 14:20:01,279 - logging_config - INFO - utility_endpoints.py:201 - POST /settings for PAXGUSDT: Client sent streamDeltaTime: 1. Value to be saved in Redis for streamDeltaTime: 1
2025-09-04 14:20:01,280 - logging_config - INFO - utility_endpoints.py:204 - POST /settings for PAXGUSDT and email klemenzivkovic@gmail.com: Settings updated in Redis for PAXGUSDT: {'resolution': '1d', 'range': '3m', 'xAxisMin': 1614673830039, 'xAxisMax': 1685047175496, 'yAxisMin': 7.125965202568574, 'yAxisMax': 18.25366984503092, 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3'], 'liveDataEnabled': False, 'streamDeltaTime': 1, 'useLocalOllama': False, 'localOllamaModelName': '', 'showAgentTrades': False, 'symbol': 'PAXGUSDT', 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'last_selected_symbol': 'PAXGUSDT'}
2025-09-04 14:20:01,768 - logging_config - INFO - websocket_handlers.py:742 - üì® RAW MESSAGE RECEIVED for PAXGUSDT: {
  "type": "config",
  "symbol": "PAXGUSDT",
  "indicators": [
    "macd",
    "rsi",
    "stochrsi_9_3"
  ],
  "resolution": "1d",
  "from_ts": 1579487157310,
  "to_ts": 1720233848224
}
2025-09-04 14:20:01,768 - logging_config - INFO - websocket_handlers.py:747 - [TIMESTAMP DEBUG] websocket_handlers.py - Received timestamps:
2025-09-04 14:20:01,768 - logging_config - INFO - websocket_handlers.py:748 -   from_ts: 1579487157310 (type: <class 'int'>)
2025-09-04 14:20:01,769 - logging_config - INFO - websocket_handlers.py:749 -   to_ts: 1720233848224 (type: <class 'int'>)
2025-09-04 14:20:01,769 - logging_config - WARNING - websocket_handlers.py:769 - [TIMESTAMP DEBUG] from_ts 1579487157310 appears to be in MILLISECONDS (should be seconds)
2025-09-04 14:20:01,769 - logging_config - INFO - websocket_handlers.py:770 -   Converting to seconds: 1579487157
2025-09-04 14:20:01,769 - logging_config - INFO - websocket_handlers.py:774 - [TIMESTAMP CONVERSION] Client milliseconds -> Server seconds:
2025-09-04 14:20:01,769 - logging_config - INFO - websocket_handlers.py:775 -   1579487157310 -> 1579487157 (2020-01-20 02:25:57 UTC)
2025-09-04 14:20:01,769 - logging_config - INFO - websocket_handlers.py:776 -   1720233848224 -> 1720233848 (2024-07-06 02:44:08 UTC)
2025-09-04 14:20:01,769 - logging_config - INFO - websocket_handlers.py:795 - [TIMESTAMP FIX] Final timestamps set:
2025-09-04 14:20:01,769 - logging_config - INFO - websocket_handlers.py:796 -   from_ts: 1579487157 (type: <class 'int'>)
2025-09-04 14:20:01,769 - logging_config - INFO - websocket_handlers.py:797 -   to_ts: 1720233848 (type: <class 'int'>)
2025-09-04 14:20:01,769 - logging_config - INFO - websocket_handlers.py:807 - Client config updated for PAXGUSDT: indicators=['macd', 'rsi', 'stochrsi_9_3'], resolution=1d
2025-09-04 14:20:01,770 - logging_config - INFO - websocket_handlers.py:808 - üìä MESSAGE FIELD VALUES for PAXGUSDT:
2025-09-04 14:20:01,770 - logging_config - INFO - websocket_handlers.py:809 -   symbol: PAXGUSDT (fallback: PAXGUSDT)
2025-09-04 14:20:01,770 - logging_config - INFO - websocket_handlers.py:810 -   from_ts: 1579487157310 (type: <class 'int'>)
2025-09-04 14:20:01,770 - logging_config - INFO - websocket_handlers.py:811 -   to_ts: 1720233848224 (type: <class 'int'>)
2025-09-04 14:20:01,770 - logging_config - INFO - websocket_handlers.py:812 -   indicators: ['macd', 'rsi', 'stochrsi_9_3'] (type: <class 'list'>)
2025-09-04 14:20:01,770 - logging_config - INFO - websocket_handlers.py:813 -   resolution: 1d (type: <class 'str'>)
2025-09-04 14:20:01,770 - logging_config - INFO - websocket_handlers.py:819 - üìä SERVER TIME RANGE ANALYSIS for PAXGUSDT:
2025-09-04 14:20:01,770 - logging_config - INFO - websocket_handlers.py:820 -   Old range: from_ts=1539593474, to_ts=1680347365
2025-09-04 14:20:01,770 - logging_config - INFO - websocket_handlers.py:821 -   New range: from_ts=1579487157, to_ts=1720233848
2025-09-04 14:20:01,770 - logging_config - INFO - websocket_handlers.py:822 -   Time range changed: True
2025-09-04 14:20:01,770 - logging_config - INFO - websocket_handlers.py:823 -   Historical sent: True
2025-09-04 14:20:01,771 - logging_config - INFO - websocket_handlers.py:824 -   Has timestamps: from_ts=True, to_ts=True
2025-09-04 14:20:01,771 - logging_config - INFO - websocket_handlers.py:843 -   üìÖ SERVER RECEIVED RANGE (UTC):
2025-09-04 14:20:01,771 - logging_config - INFO - websocket_handlers.py:844 -     From: 2020-01-20 02:25:57 UTC (1579487157)
2025-09-04 14:20:01,771 - logging_config - INFO - websocket_handlers.py:845 -     To: 2024-07-06 02:44:08 UTC (1720233848)
2025-09-04 14:20:01,771 - logging_config - INFO - websocket_handlers.py:846 -     Range: 140746691 seconds (39096.3 hours)
2025-09-04 14:20:01,771 - logging_config - INFO - websocket_handlers.py:848 -   üìÖ SERVER RECEIVED RANGE (Local Time):
2025-09-04 14:20:01,771 - logging_config - INFO - websocket_handlers.py:849 -     From: 2020-01-20 04:25:57 Central Europe Summer Time
2025-09-04 14:20:01,771 - logging_config - INFO - websocket_handlers.py:850 -     To: 2024-07-06 04:44:08 Central Europe Summer Time
2025-09-04 14:20:01,771 - logging_config - INFO - websocket_handlers.py:853 -   üåç TIMEZONE ANALYSIS:
2025-09-04 14:20:01,771 - logging_config - INFO - websocket_handlers.py:854 -     Server timezone: Central Europe Summer Time (UTC+2.0)
2025-09-04 14:20:01,771 - logging_config - INFO - websocket_handlers.py:855 -     User timezone (from logs): Europe/Ljubljana (UTC+2)
2025-09-04 14:20:01,771 - logging_config - INFO - websocket_handlers.py:856 -     Timezone difference: 0.0 hours
2025-09-04 14:20:01,771 - logging_config - INFO - websocket_handlers.py:859 -   üì§ DATA TO BE SENT TO CLIENT:
2025-09-04 14:20:01,771 - logging_config - INFO - websocket_handlers.py:860 -     Timestamps will be sent as seconds (not milliseconds)
2025-09-04 14:20:01,771 - logging_config - INFO - websocket_handlers.py:861 -     Client will receive: from_ts=1579487157, to_ts=1720233848
2025-09-04 14:20:01,771 - logging_config - INFO - websocket_handlers.py:862 -     Client local time equivalent: 2020-01-20 04:25:57 to 2024-07-06 04:44:08
2025-09-04 14:20:01,771 - logging_config - INFO - websocket_handlers.py:867 -   üìä USER'S CHART VIEW STATE:
2025-09-04 14:20:01,772 - logging_config - INFO - websocket_handlers.py:868 -     X-Axis Min: 30/08/2025, 10:31:39
2025-09-04 14:20:01,772 - logging_config - INFO - websocket_handlers.py:869 -     X-Axis Max: 04/09/2025, 01:58:37
2025-09-04 14:20:01,772 - logging_config - INFO - websocket_handlers.py:870 -     Expected local time range: 2025-08-30 10:31 to 2025-09-04 01:58
2025-09-04 14:20:01,772 - logging_config - INFO - websocket_handlers.py:871 -     Server received UTC equivalent: 2020-01-20 02:25 to 2024-07-06 02:44
2025-09-04 14:20:01,772 - logging_config - INFO - websocket_handlers.py:881 - Should send historical data: 1720233848
2025-09-04 14:20:01,772 - logging_config - INFO - websocket_handlers.py:884 - Sending historical data for PAXGUSDT - time range changed: True, historical_sent: True
2025-09-04 14:20:01,772 - logging_config - INFO - websocket_handlers.py:309 - Sending historical data for PAXGUSDT with indicators: ['macd', 'rsi', 'stochrsi_9_3']
2025-09-04 14:20:01,772 - logging_config - INFO - websocket_handlers.py:310 - Time range: from_ts=1579487157, to_ts=1720233848, resolution=1d
2025-09-04 14:20:01,772 - logging_config - INFO - websocket_handlers.py:320 - WebSocket session email found: klemenzivkovic@gmail.com
2025-09-04 14:20:01,772 - logging_config - INFO - websocket_handlers.py:325 - Looking for drawings: symbol=PAXGUSDT, resolution=1d, email=klemenzivkovic@gmail.com
2025-09-04 14:20:01,772 - logging_config - INFO - websocket_handlers.py:330 - Redis key for drawings: drawings:klemenzivkovic@gmail.com:PAXGUSDT
2025-09-04 14:20:01,773 - logging_config - INFO - drawing_manager.py:60 - get_drawings for PAXGUSDT with resolution '1d': found 4 total, returning 4 filtered.
2025-09-04 14:20:01,773 - logging_config - INFO - websocket_handlers.py:339 - Sending 4 existing drawings for PAXGUSDT
2025-09-04 14:20:01,773 - logging_config - INFO - websocket_handlers.py:345 - Sending drawing (4) message: {'type': 'drawings', 'symbol': 'PAXGUSDT', 'data': [{'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1749504979, 'end_time': 1757034460, 'start_price': 3498.39837005988, 'end_price': 3360.406707317073, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': {'buyOnCross': False, 'sellOnCross': False, 'sendEmailOnCross': True}, 'id': '23a034a5-9e91-488c-a076-b1dc9fa49f8f'}, {'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1750519797, 'end_time': 1756969828, 'start_price': 3263.9115544910173, 'end_price': 3290.8273239708183, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': {'buyOnCross': False, 'sellOnCross': False, 'sendEmailOnCross': True}, 'id': 'baf77e17-16dc-4817-b3ea-430467fa3a06'}, {'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1742353742, 'end_time': 1759291109, 'start_price': 3597.298721036928, 'end_price': 3334.7182204260644, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': None, 'id': '30d5ab26-ece7-434c-b489-9aeeccb27e56'}, {'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1739775769, 'end_time': 1755240008, 'start_price': 3168.595862896743, 'end_price': 3270.412791705037, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': None, 'id': '56ea858d-8f15-4f9d-a3ef-249b5e232b7a'}]}
2025-09-04 14:20:01,773 - logging_config - INFO - websocket_handlers.py:347 - Successfully sent drawings message to client
2025-09-04 14:20:01,773 - logging_config - INFO - redis_utils.py:103 - Querying sorted set 'zset:kline:PAXGUSDT:1d' for range [1579487157, 1720233848]
2025-09-04 14:20:01,773 - logging_config - INFO - redis_utils.py:106 - [TIMESTAMP DEBUG] redis_utils.py - get_cached_klines query:
2025-09-04 14:20:01,773 - logging_config - INFO - redis_utils.py:107 -   start_ts: 1579487157 (type: <class 'int'>)
2025-09-04 14:20:01,774 - logging_config - INFO - redis_utils.py:108 -   end_ts: 1720233848 (type: <class 'int'>)
2025-09-04 14:20:01,774 - logging_config - INFO - redis_utils.py:115 - [TIMESTAMP DEBUG] start_ts 1579487157 appears to be in SECONDS (correct for Redis)
2025-09-04 14:20:01,774 - logging_config - INFO - redis_utils.py:120 - [TIMESTAMP DEBUG] Checking Redis data sample for comparison...
2025-09-04 14:20:01,778 - logging_config - INFO - redis_utils.py:159 - Found 575 cached klines for PAXGUSDT 1d between 1579487157 and 1720233848
2025-09-04 14:20:01,778 - logging_config - INFO - redis_utils.py:163 - üîç DATA GAP ANALYSIS for PAXGUSDT 1d:
2025-09-04 14:20:01,779 - logging_config - INFO - redis_utils.py:164 -   Expected data points based on time range: ~1629
2025-09-04 14:20:01,779 - logging_config - INFO - redis_utils.py:165 -   Actual data points retrieved: 575
2025-09-04 14:20:01,779 - logging_config - INFO - redis_utils.py:194 - ‚úÖ No data gaps detected - data appears continuous
2025-09-04 14:20:01,779 - logging_config - INFO - websocket_handlers.py:362 - ‚úÖ REDIS SUCCESS: Retrieved 575 klines from Redis for PAXGUSDT
2025-09-04 14:20:01,779 - logging_config - INFO - websocket_handlers.py:398 - ‚úÖ CACHE HIT: Found 575 klines in Redis cache for PAXGUSDT
2025-09-04 14:20:01,780 - logging_config - INFO - websocket_handlers.py:402 - Calculating indicators for PAXGUSDT: 3 indicators, 575 klines
2025-09-04 14:20:01,780 - logging_config - INFO - redis_utils.py:265 - Found 0 cached Open Interest entries for PAXGUSDT 1d between 1579487157 and 1720233848
2025-09-04 14:20:01,780 - logging_config - INFO - websocket_handlers.py:626 - üîÑ OI FALLBACK: No Open Interest data in cache for PAXGUSDT, attempting to fetch from Bybit
2025-09-04 14:20:01,967 - logging_config - INFO - websocket_handlers.py:634 - üíæ OI CACHED: Stored 200 Open Interest entries for PAXGUSDT
2025-09-04 14:20:03,922 - logging_config - INFO - utility_endpoints.py:168 - POST /settings: RAW data received from client for symbol 'PAXGUSDT': {'symbol': 'PAXGUSDT', 'resolution': '1d', 'range': '3m', 'xAxisMin': 1657610618789, 'xAxisMax': 1727987564246, 'yAxisMin': 7.125965202568574, 'yAxisMax': 18.25366984503092, 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'useLocalOllama': False, 'localOllamaModelName': '', 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3'], 'liveDataEnabled': False, 'showAgentTrades': False, 'streamDeltaTime': 1, 'last_selected_symbol': 'PAXGUSDT'}
2025-09-04 14:20:03,923 - logging_config - INFO - utility_endpoints.py:199 - POST /settings for PAXGUSDT and email klemenzivkovic@gmail.com: current_symbol_settings compiled for Redis save: {'resolution': '1d', 'range': '3m', 'xAxisMin': 1657610618789, 'xAxisMax': 1727987564246, 'yAxisMin': 7.125965202568574, 'yAxisMax': 18.25366984503092, 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3'], 'liveDataEnabled': False, 'streamDeltaTime': 1, 'useLocalOllama': False, 'localOllamaModelName': '', 'showAgentTrades': False, 'symbol': 'PAXGUSDT', 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'last_selected_symbol': 'PAXGUSDT'}
2025-09-04 14:20:03,924 - logging_config - INFO - utility_endpoints.py:201 - POST /settings for PAXGUSDT: Client sent streamDeltaTime: 1. Value to be saved in Redis for streamDeltaTime: 1
2025-09-04 14:20:03,924 - logging_config - INFO - utility_endpoints.py:204 - POST /settings for PAXGUSDT and email klemenzivkovic@gmail.com: Settings updated in Redis for PAXGUSDT: {'resolution': '1d', 'range': '3m', 'xAxisMin': 1657610618789, 'xAxisMax': 1727987564246, 'yAxisMin': 7.125965202568574, 'yAxisMax': 18.25366984503092, 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3'], 'liveDataEnabled': False, 'streamDeltaTime': 1, 'useLocalOllama': False, 'localOllamaModelName': '', 'showAgentTrades': False, 'symbol': 'PAXGUSDT', 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'last_selected_symbol': 'PAXGUSDT'}
2025-09-04 14:20:04,430 - logging_config - INFO - websocket_handlers.py:742 - üì® RAW MESSAGE RECEIVED for PAXGUSDT: {
  "type": "config",
  "symbol": "PAXGUSDT",
  "indicators": [
    "macd",
    "rsi",
    "stochrsi_9_3"
  ],
  "resolution": "1d",
  "from_ts": 1622422146060,
  "to_ts": 1763176036974
}
2025-09-04 14:20:04,431 - logging_config - INFO - websocket_handlers.py:747 - [TIMESTAMP DEBUG] websocket_handlers.py - Received timestamps:
2025-09-04 14:20:04,431 - logging_config - INFO - websocket_handlers.py:748 -   from_ts: 1622422146060 (type: <class 'int'>)
2025-09-04 14:20:04,431 - logging_config - INFO - websocket_handlers.py:749 -   to_ts: 1763176036974 (type: <class 'int'>)
2025-09-04 14:20:04,431 - logging_config - WARNING - websocket_handlers.py:769 - [TIMESTAMP DEBUG] from_ts 1622422146060 appears to be in MILLISECONDS (should be seconds)
2025-09-04 14:20:04,431 - logging_config - INFO - websocket_handlers.py:770 -   Converting to seconds: 1622422146
2025-09-04 14:20:04,431 - logging_config - INFO - websocket_handlers.py:774 - [TIMESTAMP CONVERSION] Client milliseconds -> Server seconds:
2025-09-04 14:20:04,431 - logging_config - INFO - websocket_handlers.py:775 -   1622422146060 -> 1622422146 (2021-05-31 00:49:06 UTC)
2025-09-04 14:20:04,431 - logging_config - INFO - websocket_handlers.py:776 -   1763176036974 -> 1763176036 (2025-11-15 03:07:16 UTC)
2025-09-04 14:20:04,432 - logging_config - INFO - websocket_handlers.py:795 - [TIMESTAMP FIX] Final timestamps set:
2025-09-04 14:20:04,432 - logging_config - INFO - websocket_handlers.py:796 -   from_ts: 1622422146 (type: <class 'int'>)
2025-09-04 14:20:04,432 - logging_config - INFO - websocket_handlers.py:797 -   to_ts: 1763176036 (type: <class 'int'>)
2025-09-04 14:20:04,433 - logging_config - INFO - websocket_handlers.py:807 - Client config updated for PAXGUSDT: indicators=['macd', 'rsi', 'stochrsi_9_3'], resolution=1d
2025-09-04 14:20:04,433 - logging_config - INFO - websocket_handlers.py:808 - üìä MESSAGE FIELD VALUES for PAXGUSDT:
2025-09-04 14:20:04,433 - logging_config - INFO - websocket_handlers.py:809 -   symbol: PAXGUSDT (fallback: PAXGUSDT)
2025-09-04 14:20:04,433 - logging_config - INFO - websocket_handlers.py:810 -   from_ts: 1622422146060 (type: <class 'int'>)
2025-09-04 14:20:04,433 - logging_config - INFO - websocket_handlers.py:811 -   to_ts: 1763176036974 (type: <class 'int'>)
2025-09-04 14:20:04,433 - logging_config - INFO - websocket_handlers.py:812 -   indicators: ['macd', 'rsi', 'stochrsi_9_3'] (type: <class 'list'>)
2025-09-04 14:20:04,433 - logging_config - INFO - websocket_handlers.py:813 -   resolution: 1d (type: <class 'str'>)
2025-09-04 14:20:04,433 - logging_config - INFO - websocket_handlers.py:819 - üìä SERVER TIME RANGE ANALYSIS for PAXGUSDT:
2025-09-04 14:20:04,433 - logging_config - INFO - websocket_handlers.py:820 -   Old range: from_ts=1579487157, to_ts=1720233848
2025-09-04 14:20:04,433 - logging_config - INFO - websocket_handlers.py:821 -   New range: from_ts=1622422146, to_ts=1763176036
2025-09-04 14:20:04,433 - logging_config - INFO - websocket_handlers.py:822 -   Time range changed: True
2025-09-04 14:20:04,433 - logging_config - INFO - websocket_handlers.py:823 -   Historical sent: True
2025-09-04 14:20:04,433 - logging_config - INFO - websocket_handlers.py:824 -   Has timestamps: from_ts=True, to_ts=True
2025-09-04 14:20:04,433 - logging_config - INFO - websocket_handlers.py:843 -   üìÖ SERVER RECEIVED RANGE (UTC):
2025-09-04 14:20:04,433 - logging_config - INFO - websocket_handlers.py:844 -     From: 2021-05-31 00:49:06 UTC (1622422146)
2025-09-04 14:20:04,433 - logging_config - INFO - websocket_handlers.py:845 -     To: 2025-11-15 03:07:16 UTC (1763176036)
2025-09-04 14:20:04,433 - logging_config - INFO - websocket_handlers.py:846 -     Range: 140753890 seconds (39098.3 hours)
2025-09-04 14:20:04,433 - logging_config - INFO - websocket_handlers.py:848 -   üìÖ SERVER RECEIVED RANGE (Local Time):
2025-09-04 14:20:04,433 - logging_config - INFO - websocket_handlers.py:849 -     From: 2021-05-31 02:49:06 Central Europe Summer Time
2025-09-04 14:20:04,434 - logging_config - INFO - websocket_handlers.py:850 -     To: 2025-11-15 05:07:16 Central Europe Summer Time
2025-09-04 14:20:04,434 - logging_config - INFO - websocket_handlers.py:853 -   üåç TIMEZONE ANALYSIS:
2025-09-04 14:20:04,434 - logging_config - INFO - websocket_handlers.py:854 -     Server timezone: Central Europe Summer Time (UTC+2.0)
2025-09-04 14:20:04,434 - logging_config - INFO - websocket_handlers.py:855 -     User timezone (from logs): Europe/Ljubljana (UTC+2)
2025-09-04 14:20:04,434 - logging_config - INFO - websocket_handlers.py:856 -     Timezone difference: 0.0 hours
2025-09-04 14:20:04,434 - logging_config - INFO - websocket_handlers.py:859 -   üì§ DATA TO BE SENT TO CLIENT:
2025-09-04 14:20:04,434 - logging_config - INFO - websocket_handlers.py:860 -     Timestamps will be sent as seconds (not milliseconds)
2025-09-04 14:20:04,434 - logging_config - INFO - websocket_handlers.py:861 -     Client will receive: from_ts=1622422146, to_ts=1763176036
2025-09-04 14:20:04,435 - logging_config - INFO - websocket_handlers.py:862 -     Client local time equivalent: 2021-05-31 02:49:06 to 2025-11-15 05:07:16
2025-09-04 14:20:04,435 - logging_config - INFO - websocket_handlers.py:867 -   üìä USER'S CHART VIEW STATE:
2025-09-04 14:20:04,435 - logging_config - INFO - websocket_handlers.py:868 -     X-Axis Min: 30/08/2025, 10:31:39
2025-09-04 14:20:04,435 - logging_config - INFO - websocket_handlers.py:869 -     X-Axis Max: 04/09/2025, 01:58:37
2025-09-04 14:20:04,435 - logging_config - INFO - websocket_handlers.py:870 -     Expected local time range: 2025-08-30 10:31 to 2025-09-04 01:58
2025-09-04 14:20:04,435 - logging_config - INFO - websocket_handlers.py:871 -     Server received UTC equivalent: 2021-05-31 00:49 to 2025-11-15 03:07
2025-09-04 14:20:04,435 - logging_config - INFO - websocket_handlers.py:881 - Should send historical data: 1763176036
2025-09-04 14:20:04,435 - logging_config - INFO - websocket_handlers.py:884 - Sending historical data for PAXGUSDT - time range changed: True, historical_sent: True
2025-09-04 14:20:04,436 - logging_config - INFO - websocket_handlers.py:309 - Sending historical data for PAXGUSDT with indicators: ['macd', 'rsi', 'stochrsi_9_3']
2025-09-04 14:20:04,436 - logging_config - INFO - websocket_handlers.py:310 - Time range: from_ts=1622422146, to_ts=1763176036, resolution=1d
2025-09-04 14:20:04,436 - logging_config - INFO - websocket_handlers.py:320 - WebSocket session email found: klemenzivkovic@gmail.com
2025-09-04 14:20:04,436 - logging_config - INFO - websocket_handlers.py:325 - Looking for drawings: symbol=PAXGUSDT, resolution=1d, email=klemenzivkovic@gmail.com
2025-09-04 14:20:04,436 - logging_config - INFO - websocket_handlers.py:330 - Redis key for drawings: drawings:klemenzivkovic@gmail.com:PAXGUSDT
2025-09-04 14:20:04,436 - logging_config - INFO - drawing_manager.py:60 - get_drawings for PAXGUSDT with resolution '1d': found 4 total, returning 4 filtered.
2025-09-04 14:20:04,437 - logging_config - INFO - websocket_handlers.py:339 - Sending 4 existing drawings for PAXGUSDT
2025-09-04 14:20:04,437 - logging_config - INFO - websocket_handlers.py:345 - Sending drawing (4) message: {'type': 'drawings', 'symbol': 'PAXGUSDT', 'data': [{'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1749504979, 'end_time': 1757034460, 'start_price': 3498.39837005988, 'end_price': 3360.406707317073, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': {'buyOnCross': False, 'sellOnCross': False, 'sendEmailOnCross': True}, 'id': '23a034a5-9e91-488c-a076-b1dc9fa49f8f'}, {'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1750519797, 'end_time': 1756969828, 'start_price': 3263.9115544910173, 'end_price': 3290.8273239708183, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': {'buyOnCross': False, 'sellOnCross': False, 'sendEmailOnCross': True}, 'id': 'baf77e17-16dc-4817-b3ea-430467fa3a06'}, {'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1742353742, 'end_time': 1759291109, 'start_price': 3597.298721036928, 'end_price': 3334.7182204260644, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': None, 'id': '30d5ab26-ece7-434c-b489-9aeeccb27e56'}, {'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1739775769, 'end_time': 1755240008, 'start_price': 3168.595862896743, 'end_price': 3270.412791705037, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': None, 'id': '56ea858d-8f15-4f9d-a3ef-249b5e232b7a'}]}
2025-09-04 14:20:04,437 - logging_config - INFO - websocket_handlers.py:347 - Successfully sent drawings message to client
2025-09-04 14:20:04,437 - logging_config - INFO - redis_utils.py:103 - Querying sorted set 'zset:kline:PAXGUSDT:1d' for range [1622422146, 1763176036]
2025-09-04 14:20:04,437 - logging_config - INFO - redis_utils.py:106 - [TIMESTAMP DEBUG] redis_utils.py - get_cached_klines query:
2025-09-04 14:20:04,437 - logging_config - INFO - redis_utils.py:107 -   start_ts: 1622422146 (type: <class 'int'>)
2025-09-04 14:20:04,437 - logging_config - INFO - redis_utils.py:108 -   end_ts: 1763176036 (type: <class 'int'>)
2025-09-04 14:20:04,438 - logging_config - INFO - redis_utils.py:115 - [TIMESTAMP DEBUG] start_ts 1622422146 appears to be in SECONDS (correct for Redis)
2025-09-04 14:20:04,438 - logging_config - INFO - redis_utils.py:120 - [TIMESTAMP DEBUG] Checking Redis data sample for comparison...
2025-09-04 14:20:04,442 - logging_config - INFO - redis_utils.py:159 - Found 1000 cached klines for PAXGUSDT 1d between 1622422146 and 1763176036
2025-09-04 14:20:04,442 - logging_config - INFO - redis_utils.py:163 - üîç DATA GAP ANALYSIS for PAXGUSDT 1d:
2025-09-04 14:20:04,442 - logging_config - INFO - redis_utils.py:164 -   Expected data points based on time range: ~1629
2025-09-04 14:20:04,442 - logging_config - INFO - redis_utils.py:165 -   Actual data points retrieved: 1000
2025-09-04 14:20:04,442 - logging_config - INFO - redis_utils.py:194 - ‚úÖ No data gaps detected - data appears continuous
2025-09-04 14:20:04,443 - logging_config - INFO - websocket_handlers.py:362 - ‚úÖ REDIS SUCCESS: Retrieved 1000 klines from Redis for PAXGUSDT
2025-09-04 14:20:04,443 - logging_config - INFO - websocket_handlers.py:398 - ‚úÖ CACHE HIT: Found 1000 klines in Redis cache for PAXGUSDT
2025-09-04 14:20:04,443 - logging_config - INFO - websocket_handlers.py:402 - Calculating indicators for PAXGUSDT: 3 indicators, 1000 klines
2025-09-04 14:20:04,445 - logging_config - INFO - redis_utils.py:265 - Found 273 cached Open Interest entries for PAXGUSDT 1d between 1622422146 and 1763176036
2025-09-04 14:20:11,221 - logging_config - INFO - background_tasks.py:75 - üìä STARTING OPEN INTEREST: Data fetch cycle
2025-09-04 14:20:11,763 - logging_config - INFO - websocket_handlers.py:742 - üì® RAW MESSAGE RECEIVED for PAXGUSDT: {
  "type": "config",
  "symbol": "PAXGUSDT",
  "indicators": [
    "macd",
    "rsi",
    "stochrsi_9_3",
    "stochrsi_14_3"
  ],
  "resolution": "1d",
  "from_ts": 1622422146060,
  "to_ts": 1763176036974
}
2025-09-04 14:20:11,763 - logging_config - INFO - websocket_handlers.py:747 - [TIMESTAMP DEBUG] websocket_handlers.py - Received timestamps:
2025-09-04 14:20:11,763 - logging_config - INFO - websocket_handlers.py:748 -   from_ts: 1622422146060 (type: <class 'int'>)
2025-09-04 14:20:11,765 - logging_config - INFO - websocket_handlers.py:749 -   to_ts: 1763176036974 (type: <class 'int'>)
2025-09-04 14:20:11,765 - logging_config - WARNING - websocket_handlers.py:769 - [TIMESTAMP DEBUG] from_ts 1622422146060 appears to be in MILLISECONDS (should be seconds)
2025-09-04 14:20:11,765 - logging_config - INFO - websocket_handlers.py:770 -   Converting to seconds: 1622422146
2025-09-04 14:20:11,765 - logging_config - INFO - websocket_handlers.py:774 - [TIMESTAMP CONVERSION] Client milliseconds -> Server seconds:
2025-09-04 14:20:11,765 - logging_config - INFO - websocket_handlers.py:775 -   1622422146060 -> 1622422146 (2021-05-31 00:49:06 UTC)
2025-09-04 14:20:11,765 - logging_config - INFO - websocket_handlers.py:776 -   1763176036974 -> 1763176036 (2025-11-15 03:07:16 UTC)
2025-09-04 14:20:11,765 - logging_config - INFO - websocket_handlers.py:795 - [TIMESTAMP FIX] Final timestamps set:
2025-09-04 14:20:11,765 - logging_config - INFO - websocket_handlers.py:796 -   from_ts: 1622422146 (type: <class 'int'>)
2025-09-04 14:20:11,765 - logging_config - INFO - websocket_handlers.py:797 -   to_ts: 1763176036 (type: <class 'int'>)
2025-09-04 14:20:11,765 - logging_config - INFO - websocket_handlers.py:807 - Client config updated for PAXGUSDT: indicators=['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3'], resolution=1d
2025-09-04 14:20:11,765 - logging_config - INFO - websocket_handlers.py:808 - üìä MESSAGE FIELD VALUES for PAXGUSDT:
2025-09-04 14:20:11,765 - logging_config - INFO - websocket_handlers.py:809 -   symbol: PAXGUSDT (fallback: PAXGUSDT)
2025-09-04 14:20:11,765 - logging_config - INFO - websocket_handlers.py:810 -   from_ts: 1622422146060 (type: <class 'int'>)
2025-09-04 14:20:11,765 - logging_config - INFO - websocket_handlers.py:811 -   to_ts: 1763176036974 (type: <class 'int'>)
2025-09-04 14:20:11,765 - logging_config - INFO - websocket_handlers.py:812 -   indicators: ['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3'] (type: <class 'list'>)
2025-09-04 14:20:11,765 - logging_config - INFO - websocket_handlers.py:813 -   resolution: 1d (type: <class 'str'>)
2025-09-04 14:20:11,765 - logging_config - INFO - websocket_handlers.py:819 - üìä SERVER TIME RANGE ANALYSIS for PAXGUSDT:
2025-09-04 14:20:11,765 - logging_config - INFO - websocket_handlers.py:820 -   Old range: from_ts=1622422146, to_ts=1763176036
2025-09-04 14:20:11,766 - logging_config - INFO - websocket_handlers.py:821 -   New range: from_ts=1622422146, to_ts=1763176036
2025-09-04 14:20:11,766 - logging_config - INFO - websocket_handlers.py:822 -   Time range changed: False
2025-09-04 14:20:11,766 - logging_config - INFO - websocket_handlers.py:823 -   Historical sent: True
2025-09-04 14:20:11,766 - logging_config - INFO - websocket_handlers.py:824 -   Has timestamps: from_ts=True, to_ts=True
2025-09-04 14:20:11,767 - logging_config - INFO - websocket_handlers.py:843 -   üìÖ SERVER RECEIVED RANGE (UTC):
2025-09-04 14:20:11,767 - logging_config - INFO - websocket_handlers.py:844 -     From: 2021-05-31 00:49:06 UTC (1622422146)
2025-09-04 14:20:11,767 - logging_config - INFO - websocket_handlers.py:845 -     To: 2025-11-15 03:07:16 UTC (1763176036)
2025-09-04 14:20:11,767 - logging_config - INFO - websocket_handlers.py:846 -     Range: 140753890 seconds (39098.3 hours)
2025-09-04 14:20:11,767 - logging_config - INFO - websocket_handlers.py:848 -   üìÖ SERVER RECEIVED RANGE (Local Time):
2025-09-04 14:20:11,767 - logging_config - INFO - websocket_handlers.py:849 -     From: 2021-05-31 02:49:06 Central Europe Summer Time
2025-09-04 14:20:11,767 - logging_config - INFO - websocket_handlers.py:850 -     To: 2025-11-15 05:07:16 Central Europe Summer Time
2025-09-04 14:20:11,767 - logging_config - INFO - websocket_handlers.py:853 -   üåç TIMEZONE ANALYSIS:
2025-09-04 14:20:11,768 - logging_config - INFO - websocket_handlers.py:854 -     Server timezone: Central Europe Summer Time (UTC+2.0)
2025-09-04 14:20:11,768 - logging_config - INFO - websocket_handlers.py:855 -     User timezone (from logs): Europe/Ljubljana (UTC+2)
2025-09-04 14:20:11,768 - logging_config - INFO - websocket_handlers.py:856 -     Timezone difference: 0.0 hours
2025-09-04 14:20:11,768 - logging_config - INFO - websocket_handlers.py:859 -   üì§ DATA TO BE SENT TO CLIENT:
2025-09-04 14:20:11,768 - logging_config - INFO - websocket_handlers.py:860 -     Timestamps will be sent as seconds (not milliseconds)
2025-09-04 14:20:11,768 - logging_config - INFO - websocket_handlers.py:861 -     Client will receive: from_ts=1622422146, to_ts=1763176036
2025-09-04 14:20:11,768 - logging_config - INFO - websocket_handlers.py:862 -     Client local time equivalent: 2021-05-31 02:49:06 to 2025-11-15 05:07:16
2025-09-04 14:20:11,768 - logging_config - INFO - websocket_handlers.py:867 -   üìä USER'S CHART VIEW STATE:
2025-09-04 14:20:11,768 - logging_config - INFO - websocket_handlers.py:868 -     X-Axis Min: 30/08/2025, 10:31:39
2025-09-04 14:20:11,768 - logging_config - INFO - websocket_handlers.py:869 -     X-Axis Max: 04/09/2025, 01:58:37
2025-09-04 14:20:11,768 - logging_config - INFO - websocket_handlers.py:870 -     Expected local time range: 2025-08-30 10:31 to 2025-09-04 01:58
2025-09-04 14:20:11,769 - logging_config - INFO - websocket_handlers.py:871 -     Server received UTC equivalent: 2021-05-31 00:49 to 2025-11-15 03:07
2025-09-04 14:20:11,769 - logging_config - INFO - websocket_handlers.py:881 - Should send historical data: False
2025-09-04 14:20:11,769 - logging_config - INFO - websocket_handlers.py:887 - NOT sending historical data for PAXGUSDT - conditions not met
2025-09-04 14:20:11,771 - logging_config - INFO - websocket_handlers.py:505 - Starting live stream for PAXGUSDT from Redis stream: stream:kline:PAXGUSDT:1d
2025-09-04 14:20:11,953 - logging_config - INFO - utility_endpoints.py:168 - POST /settings: RAW data received from client for symbol 'PAXGUSDT': {'symbol': 'PAXGUSDT', 'resolution': '1d', 'range': '3m', 'xAxisMin': 1657610618789, 'xAxisMax': 1727987564246, 'yAxisMin': 7.125965202568574, 'yAxisMax': 18.25366984503092, 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'useLocalOllama': False, 'localOllamaModelName': '', 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3'], 'liveDataEnabled': False, 'showAgentTrades': False, 'streamDeltaTime': 1, 'last_selected_symbol': 'PAXGUSDT'}
2025-09-04 14:20:11,957 - logging_config - INFO - utility_endpoints.py:199 - POST /settings for PAXGUSDT and email klemenzivkovic@gmail.com: current_symbol_settings compiled for Redis save: {'resolution': '1d', 'range': '3m', 'xAxisMin': 1657610618789, 'xAxisMax': 1727987564246, 'yAxisMin': 7.125965202568574, 'yAxisMax': 18.25366984503092, 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3'], 'liveDataEnabled': False, 'streamDeltaTime': 1, 'useLocalOllama': False, 'localOllamaModelName': '', 'showAgentTrades': False, 'symbol': 'PAXGUSDT', 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'last_selected_symbol': 'PAXGUSDT'}
2025-09-04 14:20:11,957 - logging_config - INFO - utility_endpoints.py:201 - POST /settings for PAXGUSDT: Client sent streamDeltaTime: 1. Value to be saved in Redis for streamDeltaTime: 1
2025-09-04 14:20:12,459 - logging_config - INFO - utility_endpoints.py:204 - POST /settings for PAXGUSDT and email klemenzivkovic@gmail.com: Settings updated in Redis for PAXGUSDT: {'resolution': '1d', 'range': '3m', 'xAxisMin': 1657610618789, 'xAxisMax': 1727987564246, 'yAxisMin': 7.125965202568574, 'yAxisMax': 18.25366984503092, 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3'], 'liveDataEnabled': False, 'streamDeltaTime': 1, 'useLocalOllama': False, 'localOllamaModelName': '', 'showAgentTrades': False, 'symbol': 'PAXGUSDT', 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'last_selected_symbol': 'PAXGUSDT'}
2025-09-04 14:20:12,964 - logging_config - INFO - utility_endpoints.py:168 - POST /settings: RAW data received from client for symbol 'PAXGUSDT': {'symbol': 'PAXGUSDT', 'resolution': '1d', 'range': '3m', 'xAxisMin': 1657610618789, 'xAxisMax': 1727987564246, 'yAxisMin': 7.125965202568574, 'yAxisMax': 18.25366984503092, 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'useLocalOllama': False, 'localOllamaModelName': '', 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4'], 'liveDataEnabled': False, 'showAgentTrades': False, 'streamDeltaTime': 1, 'last_selected_symbol': 'PAXGUSDT'}
2025-09-04 14:20:13,464 - logging_config - INFO - utility_endpoints.py:199 - POST /settings for PAXGUSDT and email klemenzivkovic@gmail.com: current_symbol_settings compiled for Redis save: {'resolution': '1d', 'range': '3m', 'xAxisMin': 1657610618789, 'xAxisMax': 1727987564246, 'yAxisMin': 7.125965202568574, 'yAxisMax': 18.25366984503092, 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4'], 'liveDataEnabled': False, 'streamDeltaTime': 1, 'useLocalOllama': False, 'localOllamaModelName': '', 'showAgentTrades': False, 'symbol': 'PAXGUSDT', 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'last_selected_symbol': 'PAXGUSDT'}
2025-09-04 14:20:13,465 - logging_config - INFO - utility_endpoints.py:201 - POST /settings for PAXGUSDT: Client sent streamDeltaTime: 1. Value to be saved in Redis for streamDeltaTime: 1
2025-09-04 14:20:13,465 - logging_config - INFO - websocket_handlers.py:742 - üì® RAW MESSAGE RECEIVED for PAXGUSDT: {
  "type": "config",
  "symbol": "PAXGUSDT",
  "indicators": [
    "macd",
    "rsi",
    "stochrsi_9_3",
    "stochrsi_14_3",
    "stochrsi_40_4"
  ],
  "resolution": "1d",
  "from_ts": 1622422146060,
  "to_ts": 1763176036974
}
2025-09-04 14:20:13,465 - logging_config - INFO - websocket_handlers.py:747 - [TIMESTAMP DEBUG] websocket_handlers.py - Received timestamps:
2025-09-04 14:20:13,465 - logging_config - INFO - websocket_handlers.py:748 -   from_ts: 1622422146060 (type: <class 'int'>)
2025-09-04 14:20:13,465 - logging_config - INFO - websocket_handlers.py:749 -   to_ts: 1763176036974 (type: <class 'int'>)
2025-09-04 14:20:13,465 - logging_config - WARNING - websocket_handlers.py:769 - [TIMESTAMP DEBUG] from_ts 1622422146060 appears to be in MILLISECONDS (should be seconds)
2025-09-04 14:20:13,465 - logging_config - INFO - websocket_handlers.py:770 -   Converting to seconds: 1622422146
2025-09-04 14:20:13,466 - logging_config - INFO - websocket_handlers.py:774 - [TIMESTAMP CONVERSION] Client milliseconds -> Server seconds:
2025-09-04 14:20:13,466 - logging_config - INFO - websocket_handlers.py:775 -   1622422146060 -> 1622422146 (2021-05-31 00:49:06 UTC)
2025-09-04 14:20:13,466 - logging_config - INFO - websocket_handlers.py:776 -   1763176036974 -> 1763176036 (2025-11-15 03:07:16 UTC)
2025-09-04 14:20:13,466 - logging_config - INFO - websocket_handlers.py:795 - [TIMESTAMP FIX] Final timestamps set:
2025-09-04 14:20:13,466 - logging_config - INFO - websocket_handlers.py:796 -   from_ts: 1622422146 (type: <class 'int'>)
2025-09-04 14:20:13,466 - logging_config - INFO - websocket_handlers.py:797 -   to_ts: 1763176036 (type: <class 'int'>)
2025-09-04 14:20:13,466 - logging_config - INFO - websocket_handlers.py:807 - Client config updated for PAXGUSDT: indicators=['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4'], resolution=1d
2025-09-04 14:20:13,466 - logging_config - INFO - websocket_handlers.py:808 - üìä MESSAGE FIELD VALUES for PAXGUSDT:
2025-09-04 14:20:13,466 - logging_config - INFO - websocket_handlers.py:809 -   symbol: PAXGUSDT (fallback: PAXGUSDT)
2025-09-04 14:20:13,467 - logging_config - INFO - websocket_handlers.py:810 -   from_ts: 1622422146060 (type: <class 'int'>)
2025-09-04 14:20:13,467 - logging_config - INFO - websocket_handlers.py:811 -   to_ts: 1763176036974 (type: <class 'int'>)
2025-09-04 14:20:13,467 - logging_config - INFO - websocket_handlers.py:812 -   indicators: ['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4'] (type: <class 'list'>)
2025-09-04 14:20:13,467 - logging_config - INFO - websocket_handlers.py:813 -   resolution: 1d (type: <class 'str'>)
2025-09-04 14:20:13,467 - logging_config - INFO - websocket_handlers.py:819 - üìä SERVER TIME RANGE ANALYSIS for PAXGUSDT:
2025-09-04 14:20:13,467 - logging_config - INFO - websocket_handlers.py:820 -   Old range: from_ts=1622422146, to_ts=1763176036
2025-09-04 14:20:13,467 - logging_config - INFO - websocket_handlers.py:821 -   New range: from_ts=1622422146, to_ts=1763176036
2025-09-04 14:20:13,467 - logging_config - INFO - websocket_handlers.py:822 -   Time range changed: False
2025-09-04 14:20:13,467 - logging_config - INFO - websocket_handlers.py:823 -   Historical sent: True
2025-09-04 14:20:13,467 - logging_config - INFO - websocket_handlers.py:824 -   Has timestamps: from_ts=True, to_ts=True
2025-09-04 14:20:13,468 - logging_config - INFO - websocket_handlers.py:843 -   üìÖ SERVER RECEIVED RANGE (UTC):
2025-09-04 14:20:13,468 - logging_config - INFO - websocket_handlers.py:844 -     From: 2021-05-31 00:49:06 UTC (1622422146)
2025-09-04 14:20:13,468 - logging_config - INFO - websocket_handlers.py:845 -     To: 2025-11-15 03:07:16 UTC (1763176036)
2025-09-04 14:20:13,468 - logging_config - INFO - websocket_handlers.py:846 -     Range: 140753890 seconds (39098.3 hours)
2025-09-04 14:20:13,468 - logging_config - INFO - websocket_handlers.py:848 -   üìÖ SERVER RECEIVED RANGE (Local Time):
2025-09-04 14:20:13,468 - logging_config - INFO - websocket_handlers.py:849 -     From: 2021-05-31 02:49:06 Central Europe Summer Time
2025-09-04 14:20:13,468 - logging_config - INFO - websocket_handlers.py:850 -     To: 2025-11-15 05:07:16 Central Europe Summer Time
2025-09-04 14:20:13,468 - logging_config - INFO - websocket_handlers.py:853 -   üåç TIMEZONE ANALYSIS:
2025-09-04 14:20:13,468 - logging_config - INFO - websocket_handlers.py:854 -     Server timezone: Central Europe Summer Time (UTC+2.0)
2025-09-04 14:20:13,468 - logging_config - INFO - websocket_handlers.py:855 -     User timezone (from logs): Europe/Ljubljana (UTC+2)
2025-09-04 14:20:13,468 - logging_config - INFO - websocket_handlers.py:856 -     Timezone difference: 0.0 hours
2025-09-04 14:20:13,468 - logging_config - INFO - websocket_handlers.py:859 -   üì§ DATA TO BE SENT TO CLIENT:
2025-09-04 14:20:13,468 - logging_config - INFO - websocket_handlers.py:860 -     Timestamps will be sent as seconds (not milliseconds)
2025-09-04 14:20:13,469 - logging_config - INFO - websocket_handlers.py:861 -     Client will receive: from_ts=1622422146, to_ts=1763176036
2025-09-04 14:20:13,469 - logging_config - INFO - websocket_handlers.py:862 -     Client local time equivalent: 2021-05-31 02:49:06 to 2025-11-15 05:07:16
2025-09-04 14:20:13,469 - logging_config - INFO - websocket_handlers.py:867 -   üìä USER'S CHART VIEW STATE:
2025-09-04 14:20:13,469 - logging_config - INFO - websocket_handlers.py:868 -     X-Axis Min: 30/08/2025, 10:31:39
2025-09-04 14:20:13,469 - logging_config - INFO - websocket_handlers.py:869 -     X-Axis Max: 04/09/2025, 01:58:37
2025-09-04 14:20:13,469 - logging_config - INFO - websocket_handlers.py:870 -     Expected local time range: 2025-08-30 10:31 to 2025-09-04 01:58
2025-09-04 14:20:13,469 - logging_config - INFO - websocket_handlers.py:871 -     Server received UTC equivalent: 2021-05-31 00:49 to 2025-11-15 03:07
2025-09-04 14:20:13,469 - logging_config - INFO - websocket_handlers.py:881 - Should send historical data: False
2025-09-04 14:20:13,469 - logging_config - INFO - websocket_handlers.py:887 - NOT sending historical data for PAXGUSDT - conditions not met
2025-09-04 14:20:13,470 - logging_config - INFO - utility_endpoints.py:204 - POST /settings for PAXGUSDT and email klemenzivkovic@gmail.com: Settings updated in Redis for PAXGUSDT: {'resolution': '1d', 'range': '3m', 'xAxisMin': 1657610618789, 'xAxisMax': 1727987564246, 'yAxisMin': 7.125965202568574, 'yAxisMax': 18.25366984503092, 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4'], 'liveDataEnabled': False, 'streamDeltaTime': 1, 'useLocalOllama': False, 'localOllamaModelName': '', 'showAgentTrades': False, 'symbol': 'PAXGUSDT', 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'last_selected_symbol': 'PAXGUSDT'}
2025-09-04 14:20:13,471 - logging_config - INFO - websocket_handlers.py:505 - Starting live stream for PAXGUSDT from Redis stream: stream:kline:PAXGUSDT:1d
2025-09-04 14:20:13,972 - logging_config - INFO - websocket_handlers.py:742 - üì® RAW MESSAGE RECEIVED for PAXGUSDT: {
  "type": "config",
  "symbol": "PAXGUSDT",
  "indicators": [
    "macd",
    "rsi",
    "stochrsi_9_3",
    "stochrsi_14_3",
    "stochrsi_40_4",
    "stochrsi_60_10"
  ],
  "resolution": "1d",
  "from_ts": 1622422146060,
  "to_ts": 1763176036974
}
2025-09-04 14:20:13,972 - logging_config - INFO - websocket_handlers.py:747 - [TIMESTAMP DEBUG] websocket_handlers.py - Received timestamps:
2025-09-04 14:20:13,972 - logging_config - INFO - websocket_handlers.py:748 -   from_ts: 1622422146060 (type: <class 'int'>)
2025-09-04 14:20:13,972 - logging_config - INFO - websocket_handlers.py:749 -   to_ts: 1763176036974 (type: <class 'int'>)
2025-09-04 14:20:13,973 - logging_config - WARNING - websocket_handlers.py:769 - [TIMESTAMP DEBUG] from_ts 1622422146060 appears to be in MILLISECONDS (should be seconds)
2025-09-04 14:20:13,973 - logging_config - INFO - websocket_handlers.py:770 -   Converting to seconds: 1622422146
2025-09-04 14:20:13,973 - logging_config - INFO - websocket_handlers.py:774 - [TIMESTAMP CONVERSION] Client milliseconds -> Server seconds:
2025-09-04 14:20:13,973 - logging_config - INFO - websocket_handlers.py:775 -   1622422146060 -> 1622422146 (2021-05-31 00:49:06 UTC)
2025-09-04 14:20:13,973 - logging_config - INFO - websocket_handlers.py:776 -   1763176036974 -> 1763176036 (2025-11-15 03:07:16 UTC)
2025-09-04 14:20:13,973 - logging_config - INFO - websocket_handlers.py:795 - [TIMESTAMP FIX] Final timestamps set:
2025-09-04 14:20:13,973 - logging_config - INFO - websocket_handlers.py:796 -   from_ts: 1622422146 (type: <class 'int'>)
2025-09-04 14:20:13,973 - logging_config - INFO - websocket_handlers.py:797 -   to_ts: 1763176036 (type: <class 'int'>)
2025-09-04 14:20:13,973 - logging_config - INFO - websocket_handlers.py:807 - Client config updated for PAXGUSDT: indicators=['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4', 'stochrsi_60_10'], resolution=1d
2025-09-04 14:20:13,973 - logging_config - INFO - websocket_handlers.py:808 - üìä MESSAGE FIELD VALUES for PAXGUSDT:
2025-09-04 14:20:13,974 - logging_config - INFO - websocket_handlers.py:809 -   symbol: PAXGUSDT (fallback: PAXGUSDT)
2025-09-04 14:20:13,974 - logging_config - INFO - websocket_handlers.py:810 -   from_ts: 1622422146060 (type: <class 'int'>)
2025-09-04 14:20:13,974 - logging_config - INFO - websocket_handlers.py:811 -   to_ts: 1763176036974 (type: <class 'int'>)
2025-09-04 14:20:13,974 - logging_config - INFO - websocket_handlers.py:812 -   indicators: ['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4', 'stochrsi_60_10'] (type: <class 'list'>)
2025-09-04 14:20:13,974 - logging_config - INFO - websocket_handlers.py:813 -   resolution: 1d (type: <class 'str'>)
2025-09-04 14:20:13,974 - logging_config - INFO - websocket_handlers.py:819 - üìä SERVER TIME RANGE ANALYSIS for PAXGUSDT:
2025-09-04 14:20:13,974 - logging_config - INFO - websocket_handlers.py:820 -   Old range: from_ts=1622422146, to_ts=1763176036
2025-09-04 14:20:13,974 - logging_config - INFO - websocket_handlers.py:821 -   New range: from_ts=1622422146, to_ts=1763176036
2025-09-04 14:20:13,974 - logging_config - INFO - websocket_handlers.py:822 -   Time range changed: False
2025-09-04 14:20:13,974 - logging_config - INFO - websocket_handlers.py:823 -   Historical sent: True
2025-09-04 14:20:13,974 - logging_config - INFO - websocket_handlers.py:824 -   Has timestamps: from_ts=True, to_ts=True
2025-09-04 14:20:13,974 - logging_config - INFO - websocket_handlers.py:843 -   üìÖ SERVER RECEIVED RANGE (UTC):
2025-09-04 14:20:13,974 - logging_config - INFO - websocket_handlers.py:844 -     From: 2021-05-31 00:49:06 UTC (1622422146)
2025-09-04 14:20:13,975 - logging_config - INFO - websocket_handlers.py:845 -     To: 2025-11-15 03:07:16 UTC (1763176036)
2025-09-04 14:20:13,975 - logging_config - INFO - websocket_handlers.py:846 -     Range: 140753890 seconds (39098.3 hours)
2025-09-04 14:20:13,975 - logging_config - INFO - websocket_handlers.py:848 -   üìÖ SERVER RECEIVED RANGE (Local Time):
2025-09-04 14:20:13,975 - logging_config - INFO - websocket_handlers.py:849 -     From: 2021-05-31 02:49:06 Central Europe Summer Time
2025-09-04 14:20:13,975 - logging_config - INFO - websocket_handlers.py:850 -     To: 2025-11-15 05:07:16 Central Europe Summer Time
2025-09-04 14:20:13,975 - logging_config - INFO - websocket_handlers.py:853 -   üåç TIMEZONE ANALYSIS:
2025-09-04 14:20:13,975 - logging_config - INFO - websocket_handlers.py:854 -     Server timezone: Central Europe Summer Time (UTC+2.0)
2025-09-04 14:20:13,975 - logging_config - INFO - websocket_handlers.py:855 -     User timezone (from logs): Europe/Ljubljana (UTC+2)
2025-09-04 14:20:13,975 - logging_config - INFO - websocket_handlers.py:856 -     Timezone difference: 0.0 hours
2025-09-04 14:20:13,975 - logging_config - INFO - websocket_handlers.py:859 -   üì§ DATA TO BE SENT TO CLIENT:
2025-09-04 14:20:13,975 - logging_config - INFO - websocket_handlers.py:860 -     Timestamps will be sent as seconds (not milliseconds)
2025-09-04 14:20:13,975 - logging_config - INFO - websocket_handlers.py:861 -     Client will receive: from_ts=1622422146, to_ts=1763176036
2025-09-04 14:20:13,975 - logging_config - INFO - websocket_handlers.py:862 -     Client local time equivalent: 2021-05-31 02:49:06 to 2025-11-15 05:07:16
2025-09-04 14:20:13,976 - logging_config - INFO - websocket_handlers.py:867 -   üìä USER'S CHART VIEW STATE:
2025-09-04 14:20:13,976 - logging_config - INFO - websocket_handlers.py:868 -     X-Axis Min: 30/08/2025, 10:31:39
2025-09-04 14:20:13,976 - logging_config - INFO - websocket_handlers.py:869 -     X-Axis Max: 04/09/2025, 01:58:37
2025-09-04 14:20:13,976 - logging_config - INFO - websocket_handlers.py:870 -     Expected local time range: 2025-08-30 10:31 to 2025-09-04 01:58
2025-09-04 14:20:13,976 - logging_config - INFO - websocket_handlers.py:871 -     Server received UTC equivalent: 2021-05-31 00:49 to 2025-11-15 03:07
2025-09-04 14:20:13,976 - logging_config - INFO - websocket_handlers.py:881 - Should send historical data: False
2025-09-04 14:20:13,976 - logging_config - INFO - websocket_handlers.py:887 - NOT sending historical data for PAXGUSDT - conditions not met
2025-09-04 14:20:13,977 - logging_config - INFO - utility_endpoints.py:168 - POST /settings: RAW data received from client for symbol 'PAXGUSDT': {'symbol': 'PAXGUSDT', 'resolution': '1d', 'range': '3m', 'xAxisMin': 1657610618789, 'xAxisMax': 1727987564246, 'yAxisMin': 7.125965202568574, 'yAxisMax': 18.25366984503092, 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'useLocalOllama': False, 'localOllamaModelName': '', 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4', 'stochrsi_60_10'], 'liveDataEnabled': False, 'showAgentTrades': False, 'streamDeltaTime': 1, 'last_selected_symbol': 'PAXGUSDT'}
2025-09-04 14:20:13,980 - logging_config - INFO - utility_endpoints.py:199 - POST /settings for PAXGUSDT and email klemenzivkovic@gmail.com: current_symbol_settings compiled for Redis save: {'resolution': '1d', 'range': '3m', 'xAxisMin': 1657610618789, 'xAxisMax': 1727987564246, 'yAxisMin': 7.125965202568574, 'yAxisMax': 18.25366984503092, 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4', 'stochrsi_60_10'], 'liveDataEnabled': False, 'streamDeltaTime': 1, 'useLocalOllama': False, 'localOllamaModelName': '', 'showAgentTrades': False, 'symbol': 'PAXGUSDT', 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'last_selected_symbol': 'PAXGUSDT'}
2025-09-04 14:20:13,981 - logging_config - INFO - utility_endpoints.py:201 - POST /settings for PAXGUSDT: Client sent streamDeltaTime: 1. Value to be saved in Redis for streamDeltaTime: 1
2025-09-04 14:20:13,981 - logging_config - INFO - websocket_handlers.py:505 - Starting live stream for PAXGUSDT from Redis stream: stream:kline:PAXGUSDT:1d
2025-09-04 14:20:14,163 - logging_config - INFO - utility_endpoints.py:204 - POST /settings for PAXGUSDT and email klemenzivkovic@gmail.com: Settings updated in Redis for PAXGUSDT: {'resolution': '1d', 'range': '3m', 'xAxisMin': 1657610618789, 'xAxisMax': 1727987564246, 'yAxisMin': 7.125965202568574, 'yAxisMax': 18.25366984503092, 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4', 'stochrsi_60_10'], 'liveDataEnabled': False, 'streamDeltaTime': 1, 'useLocalOllama': False, 'localOllamaModelName': '', 'showAgentTrades': False, 'symbol': 'PAXGUSDT', 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'last_selected_symbol': 'PAXGUSDT'}
2025-09-04 14:20:16,263 - logging_config - INFO - AppTradingView.py:158 - Chart page request from 192.168.1.1. Current session state: authenticated=True, email=klemenzivkovic@gmail.com
2025-09-04 14:20:16,263 - logging_config - INFO - AppTradingView.py:159 - Security debug - Headers: X-Forwarded-For=192.168.1.1, X-Real-IP=192.168.1.1, User-Agent=Mozilla/5.0 (Linux; Android 6.0; Nexus 5 Build/MRA58N) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Mobile Safari/537.36
2025-09-04 14:20:16,263 - logging_config - INFO - AppTradingView.py:160 - Security debug - Session ID: None, Client IP: 192.168.1.1
2025-09-04 14:20:16,263 - logging_config - INFO - AppTradingView.py:164 - Security debug - Is local test: False (client_host == '192.168.1.52')
2025-09-04 14:20:16,263 - logging_config - INFO - AppTradingView.py:180 - Email found in session for 192.168.1.1: klemenzivkovic@gmail.com
2025-09-04 14:20:16,448 - logging_config - ERROR - websocket_handlers.py:709 - Failed to receive WebSocket message for PAXGUSDT: (1001, '')
Traceback (most recent call last):
  File "c:\git\ai-trading-bot-2\websocket_handlers.py", line 704, in stream_combined_data_websocket_endpoint
    message = await asyncio.wait_for(websocket.receive_json(), timeout=1.0)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python312\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
           ^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\websockets.py", line 136, in receive_json
    self._raise_on_disconnect(message)
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\websockets.py", line 114, in _raise_on_disconnect
    raise WebSocketDisconnect(message["code"], message.get("reason"))
starlette.websockets.WebSocketDisconnect: (1001, '')
2025-09-04 14:20:16,452 - logging_config - INFO - utility_endpoints.py:282 - Log stream generator cancelled.
2025-09-04 14:20:17,773 - logging_config - INFO - utility_endpoints.py:243 - GET /get_last_symbol request received.
2025-09-04 14:20:17,773 - logging_config - INFO - AppTradingView.py:382 - Symbol chart page request for favicon.ico from 192.168.1.1. Current session state: authenticated=True, email=klemenzivkovic@gmail.com
2025-09-04 14:20:17,773 - logging_config - INFO - AppTradingView.py:383 - Security debug - Headers: X-Forwarded-For=192.168.1.1, X-Real-IP=192.168.1.1, User-Agent=Mozilla/5.0 (Linux; Android 6.0; Nexus 5 Build/MRA58N) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Mobile Safari/537.36
2025-09-04 14:20:17,774 - logging_config - INFO - AppTradingView.py:384 - Security debug - Session ID: None, Client IP: 192.168.1.1
2025-09-04 14:20:17,774 - logging_config - INFO - AppTradingView.py:388 - Security debug - Is local test: False (client_host == '192.168.1.52')
2025-09-04 14:20:17,774 - logging_config - INFO - AppTradingView.py:404 - Email found in session for favicon.ico request from 192.168.1.1: klemenzivkovic@gmail.com
2025-09-04 14:20:18,303 - logging_config - INFO - utility_endpoints.py:251 - Got last selected symbol for user klemenzivkovic@gmail.com: PAXGUSDT
2025-09-04 14:20:19,424 - logging_config - INFO - utility_endpoints.py:59 - DEBUG: Timestamp conversion for PAXGUSDT:
2025-09-04 14:20:19,425 - logging_config - INFO - utility_endpoints.py:60 -   Raw x_axis_min: 1657610618789, x_axis_max: 1727987564246
2025-09-04 14:20:19,425 - logging_config - INFO - utility_endpoints.py:61 -   Converted min_timestamp: 1657610618789, max_timestamp: 1727987564246
2025-09-04 14:20:19,425 - logging_config - INFO - utility_endpoints.py:62 -   Timestamp seconds: min=1657610618.789, max=1727987564.246
2025-09-04 14:20:19,425 - logging_config - INFO - utility_endpoints.py:68 -   Final dates: min=2022-07-12T07:23:38.789000+00:00, max=2024-10-03T20:32:44.246000+00:00
2025-09-04 14:20:19,425 - logging_config - INFO - utility_endpoints.py:141 - GET /settings for PAXGUSDT: Retrieved from Redis: {'resolution': '1d', 'range': '3m', 'xAxisMin': 1657610618789, 'xAxisMax': 1727987564246, 'yAxisMin': 7.125965202568574, 'yAxisMax': 18.25366984503092, 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4', 'stochrsi_60_10'], 'liveDataEnabled': False, 'streamDeltaTime': 1, 'useLocalOllama': False, 'localOllamaModelName': '', 'showAgentTrades': False, 'symbol': 'PAXGUSDT', 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'last_selected_symbol': 'PAXGUSDT'}
2025-09-04 14:20:19,616 - logging_config - INFO - websocket_handlers.py:271 - WebSocket connection accepted for combined data: PAXGUSDT
2025-09-04 14:20:19,804 - logging_config - INFO - websocket_handlers.py:742 - üì® RAW MESSAGE RECEIVED for PAXGUSDT: {
  "type": "config",
  "symbol": "PAXGUSDT",
  "indicators": [
    "macd",
    "rsi",
    "stochrsi_9_3",
    "stochrsi_14_3",
    "stochrsi_40_4",
    "stochrsi_60_10"
  ],
  "resolution": "1d",
  "from_ts": "2022-07-12T07:23:38.789Z",
  "to_ts": "2024-10-03T20:32:44.246Z"
}
2025-09-04 14:20:19,804 - logging_config - INFO - websocket_handlers.py:747 - [TIMESTAMP DEBUG] websocket_handlers.py - Received timestamps:
2025-09-04 14:20:19,804 - logging_config - INFO - websocket_handlers.py:748 -   from_ts: 2022-07-12T07:23:38.789Z (type: <class 'str'>)
2025-09-04 14:20:19,805 - logging_config - INFO - websocket_handlers.py:749 -   to_ts: 2024-10-03T20:32:44.246Z (type: <class 'str'>)
2025-09-04 14:20:19,805 - logging_config - INFO - websocket_handlers.py:754 - [TIMESTAMP DEBUG] Timestamps are ISO strings (correct format)
2025-09-04 14:20:19,805 - logging_config - INFO - websocket_handlers.py:761 - [TIMESTAMP CONVERSION] ISO strings -> Unix seconds:
2025-09-04 14:20:19,805 - logging_config - INFO - websocket_handlers.py:762 -   2022-07-12T07:23:38.789Z -> 1657610618 (2022-07-12 07:23:38 UTC)
2025-09-04 14:20:19,805 - logging_config - INFO - websocket_handlers.py:763 -   2024-10-03T20:32:44.246Z -> 1727987564 (2024-10-03 20:32:44 UTC)
2025-09-04 14:20:19,805 - logging_config - INFO - websocket_handlers.py:795 - [TIMESTAMP FIX] Final timestamps set:
2025-09-04 14:20:19,805 - logging_config - INFO - websocket_handlers.py:796 -   from_ts: 1657610618 (type: <class 'int'>)
2025-09-04 14:20:19,805 - logging_config - INFO - websocket_handlers.py:797 -   to_ts: 1727987564 (type: <class 'int'>)
2025-09-04 14:20:19,805 - logging_config - INFO - websocket_handlers.py:807 - Client config updated for PAXGUSDT: indicators=['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4', 'stochrsi_60_10'], resolution=1d
2025-09-04 14:20:19,806 - logging_config - INFO - websocket_handlers.py:808 - üìä MESSAGE FIELD VALUES for PAXGUSDT:
2025-09-04 14:20:19,806 - logging_config - INFO - websocket_handlers.py:809 -   symbol: PAXGUSDT (fallback: PAXGUSDT)
2025-09-04 14:20:19,806 - logging_config - INFO - websocket_handlers.py:810 -   from_ts: 2022-07-12T07:23:38.789Z (type: <class 'str'>)
2025-09-04 14:20:19,806 - logging_config - INFO - websocket_handlers.py:811 -   to_ts: 2024-10-03T20:32:44.246Z (type: <class 'str'>)
2025-09-04 14:20:19,806 - logging_config - INFO - websocket_handlers.py:812 -   indicators: ['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4', 'stochrsi_60_10'] (type: <class 'list'>)
2025-09-04 14:20:19,806 - logging_config - INFO - websocket_handlers.py:813 -   resolution: 1d (type: <class 'str'>)
2025-09-04 14:20:19,806 - logging_config - INFO - websocket_handlers.py:819 - üìä SERVER TIME RANGE ANALYSIS for PAXGUSDT:
2025-09-04 14:20:19,806 - logging_config - INFO - websocket_handlers.py:820 -   Old range: from_ts=None, to_ts=None
2025-09-04 14:20:19,806 - logging_config - INFO - websocket_handlers.py:821 -   New range: from_ts=1657610618, to_ts=1727987564
2025-09-04 14:20:19,806 - logging_config - INFO - websocket_handlers.py:822 -   Time range changed: True
2025-09-04 14:20:19,807 - logging_config - INFO - websocket_handlers.py:823 -   Historical sent: False
2025-09-04 14:20:19,807 - logging_config - INFO - websocket_handlers.py:824 -   Has timestamps: from_ts=True, to_ts=True
2025-09-04 14:20:19,807 - logging_config - INFO - websocket_handlers.py:843 -   üìÖ SERVER RECEIVED RANGE (UTC):
2025-09-04 14:20:19,807 - logging_config - INFO - websocket_handlers.py:844 -     From: 2022-07-12 07:23:38 UTC (1657610618)
2025-09-04 14:20:19,807 - logging_config - INFO - websocket_handlers.py:845 -     To: 2024-10-03 20:32:44 UTC (1727987564)
2025-09-04 14:20:19,807 - logging_config - INFO - websocket_handlers.py:846 -     Range: 70376946 seconds (19549.2 hours)
2025-09-04 14:20:19,807 - logging_config - INFO - websocket_handlers.py:848 -   üìÖ SERVER RECEIVED RANGE (Local Time):
2025-09-04 14:20:19,807 - logging_config - INFO - websocket_handlers.py:849 -     From: 2022-07-12 09:23:38 Central Europe Summer Time
2025-09-04 14:20:19,807 - logging_config - INFO - websocket_handlers.py:850 -     To: 2024-10-03 22:32:44 Central Europe Summer Time
2025-09-04 14:20:19,807 - logging_config - INFO - websocket_handlers.py:853 -   üåç TIMEZONE ANALYSIS:
2025-09-04 14:20:19,808 - logging_config - INFO - websocket_handlers.py:854 -     Server timezone: Central Europe Summer Time (UTC+2.0)
2025-09-04 14:20:19,808 - logging_config - INFO - websocket_handlers.py:855 -     User timezone (from logs): Europe/Ljubljana (UTC+2)
2025-09-04 14:20:19,808 - logging_config - INFO - websocket_handlers.py:856 -     Timezone difference: 0.0 hours
2025-09-04 14:20:19,808 - logging_config - INFO - websocket_handlers.py:859 -   üì§ DATA TO BE SENT TO CLIENT:
2025-09-04 14:20:19,808 - logging_config - INFO - websocket_handlers.py:860 -     Timestamps will be sent as seconds (not milliseconds)
2025-09-04 14:20:19,808 - logging_config - INFO - websocket_handlers.py:861 -     Client will receive: from_ts=1657610618, to_ts=1727987564
2025-09-04 14:20:19,808 - logging_config - INFO - websocket_handlers.py:862 -     Client local time equivalent: 2022-07-12 09:23:38 to 2024-10-03 22:32:44
2025-09-04 14:20:19,808 - logging_config - INFO - websocket_handlers.py:867 -   üìä USER'S CHART VIEW STATE:
2025-09-04 14:20:19,809 - logging_config - INFO - websocket_handlers.py:868 -     X-Axis Min: 30/08/2025, 10:31:39
2025-09-04 14:20:19,809 - logging_config - INFO - websocket_handlers.py:869 -     X-Axis Max: 04/09/2025, 01:58:37
2025-09-04 14:20:19,809 - logging_config - INFO - websocket_handlers.py:870 -     Expected local time range: 2025-08-30 10:31 to 2025-09-04 01:58
2025-09-04 14:20:19,809 - logging_config - INFO - websocket_handlers.py:871 -     Server received UTC equivalent: 2022-07-12 07:23 to 2024-10-03 20:32
2025-09-04 14:20:19,809 - logging_config - INFO - websocket_handlers.py:881 - Should send historical data: 1727987564
2025-09-04 14:20:19,809 - logging_config - INFO - websocket_handlers.py:884 - Sending historical data for PAXGUSDT - time range changed: True, historical_sent: False
2025-09-04 14:20:19,809 - logging_config - INFO - websocket_handlers.py:309 - Sending historical data for PAXGUSDT with indicators: ['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4', 'stochrsi_60_10']
2025-09-04 14:20:19,809 - logging_config - INFO - websocket_handlers.py:310 - Time range: from_ts=1657610618, to_ts=1727987564, resolution=1d
2025-09-04 14:20:19,809 - logging_config - INFO - websocket_handlers.py:320 - WebSocket session email found: klemenzivkovic@gmail.com
2025-09-04 14:20:19,809 - logging_config - INFO - websocket_handlers.py:325 - Looking for drawings: symbol=PAXGUSDT, resolution=1d, email=klemenzivkovic@gmail.com
2025-09-04 14:20:19,809 - logging_config - INFO - websocket_handlers.py:330 - Redis key for drawings: drawings:klemenzivkovic@gmail.com:PAXGUSDT
2025-09-04 14:20:19,811 - logging_config - INFO - drawing_manager.py:60 - get_drawings for PAXGUSDT with resolution '1d': found 4 total, returning 4 filtered.
2025-09-04 14:20:19,811 - logging_config - INFO - websocket_handlers.py:339 - Sending 4 existing drawings for PAXGUSDT
2025-09-04 14:20:19,811 - logging_config - INFO - websocket_handlers.py:345 - Sending drawing (4) message: {'type': 'drawings', 'symbol': 'PAXGUSDT', 'data': [{'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1749504979, 'end_time': 1757034460, 'start_price': 3498.39837005988, 'end_price': 3360.406707317073, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': {'buyOnCross': False, 'sellOnCross': False, 'sendEmailOnCross': True}, 'id': '23a034a5-9e91-488c-a076-b1dc9fa49f8f'}, {'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1750519797, 'end_time': 1756969828, 'start_price': 3263.9115544910173, 'end_price': 3290.8273239708183, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': {'buyOnCross': False, 'sellOnCross': False, 'sendEmailOnCross': True}, 'id': 'baf77e17-16dc-4817-b3ea-430467fa3a06'}, {'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1742353742, 'end_time': 1759291109, 'start_price': 3597.298721036928, 'end_price': 3334.7182204260644, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': None, 'id': '30d5ab26-ece7-434c-b489-9aeeccb27e56'}, {'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1739775769, 'end_time': 1755240008, 'start_price': 3168.595862896743, 'end_price': 3270.412791705037, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': None, 'id': '56ea858d-8f15-4f9d-a3ef-249b5e232b7a'}]}
2025-09-04 14:20:19,811 - logging_config - INFO - websocket_handlers.py:347 - Successfully sent drawings message to client
2025-09-04 14:20:19,811 - logging_config - INFO - redis_utils.py:103 - Querying sorted set 'zset:kline:PAXGUSDT:1d' for range [1657610618, 1727987564]
2025-09-04 14:20:19,811 - logging_config - INFO - redis_utils.py:106 - [TIMESTAMP DEBUG] redis_utils.py - get_cached_klines query:
2025-09-04 14:20:19,811 - logging_config - INFO - redis_utils.py:107 -   start_ts: 1657610618 (type: <class 'int'>)
2025-09-04 14:20:19,811 - logging_config - INFO - redis_utils.py:108 -   end_ts: 1727987564 (type: <class 'int'>)
2025-09-04 14:20:19,811 - logging_config - INFO - redis_utils.py:115 - [TIMESTAMP DEBUG] start_ts 1657610618 appears to be in SECONDS (correct for Redis)
2025-09-04 14:20:19,811 - logging_config - INFO - redis_utils.py:120 - [TIMESTAMP DEBUG] Checking Redis data sample for comparison...
2025-09-04 14:20:19,998 - logging_config - INFO - redis_utils.py:159 - Found 664 cached klines for PAXGUSDT 1d between 1657610618 and 1727987564
2025-09-04 14:20:19,998 - logging_config - INFO - redis_utils.py:163 - üîç DATA GAP ANALYSIS for PAXGUSDT 1d:
2025-09-04 14:20:19,998 - logging_config - INFO - redis_utils.py:164 -   Expected data points based on time range: ~814
2025-09-04 14:20:19,999 - logging_config - INFO - redis_utils.py:165 -   Actual data points retrieved: 664
2025-09-04 14:20:19,999 - logging_config - INFO - redis_utils.py:194 - ‚úÖ No data gaps detected - data appears continuous
2025-09-04 14:20:19,999 - logging_config - INFO - websocket_handlers.py:362 - ‚úÖ REDIS SUCCESS: Retrieved 664 klines from Redis for PAXGUSDT
2025-09-04 14:20:19,999 - logging_config - INFO - websocket_handlers.py:398 - ‚úÖ CACHE HIT: Found 664 klines in Redis cache for PAXGUSDT
2025-09-04 14:20:19,999 - logging_config - INFO - websocket_handlers.py:402 - Calculating indicators for PAXGUSDT: 6 indicators, 664 klines
2025-09-04 14:20:20,001 - logging_config - INFO - redis_utils.py:265 - Found 0 cached Open Interest entries for PAXGUSDT 1d between 1657610618 and 1727987564
2025-09-04 14:20:20,001 - logging_config - INFO - websocket_handlers.py:626 - üîÑ OI FALLBACK: No Open Interest data in cache for PAXGUSDT, attempting to fetch from Bybit
2025-09-04 14:20:20,373 - logging_config - INFO - websocket_handlers.py:634 - üíæ OI CACHED: Stored 200 Open Interest entries for PAXGUSDT
2025-09-04 14:20:35,508 - logging_config - INFO - utility_endpoints.py:168 - POST /settings: RAW data received from client for symbol 'PAXGUSDT': {'symbol': 'PAXGUSDT', 'resolution': '1d', 'range': '3m', 'xAxisMin': 1691405488637, 'xAxisMax': 1761786034094, 'yAxisMin': 7.125965202568574, 'yAxisMax': 18.25366984503092, 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'useLocalOllama': False, 'localOllamaModelName': '', 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4', 'stochrsi_60_10'], 'liveDataEnabled': False, 'showAgentTrades': False, 'streamDeltaTime': 1, 'last_selected_symbol': 'PAXGUSDT'}
2025-09-04 14:20:35,508 - logging_config - INFO - utility_endpoints.py:199 - POST /settings for PAXGUSDT and email klemenzivkovic@gmail.com: current_symbol_settings compiled for Redis save: {'resolution': '1d', 'range': '3m', 'xAxisMin': 1691405488637, 'xAxisMax': 1761786034094, 'yAxisMin': 7.125965202568574, 'yAxisMax': 18.25366984503092, 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4', 'stochrsi_60_10'], 'liveDataEnabled': False, 'streamDeltaTime': 1, 'useLocalOllama': False, 'localOllamaModelName': '', 'showAgentTrades': False, 'symbol': 'PAXGUSDT', 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'last_selected_symbol': 'PAXGUSDT'}
2025-09-04 14:20:35,508 - logging_config - INFO - utility_endpoints.py:201 - POST /settings for PAXGUSDT: Client sent streamDeltaTime: 1. Value to be saved in Redis for streamDeltaTime: 1
2025-09-04 14:20:35,509 - logging_config - INFO - utility_endpoints.py:204 - POST /settings for PAXGUSDT and email klemenzivkovic@gmail.com: Settings updated in Redis for PAXGUSDT: {'resolution': '1d', 'range': '3m', 'xAxisMin': 1691405488637, 'xAxisMax': 1761786034094, 'yAxisMin': 7.125965202568574, 'yAxisMax': 18.25366984503092, 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4', 'stochrsi_60_10'], 'liveDataEnabled': False, 'streamDeltaTime': 1, 'useLocalOllama': False, 'localOllamaModelName': '', 'showAgentTrades': False, 'symbol': 'PAXGUSDT', 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'last_selected_symbol': 'PAXGUSDT'}
2025-09-04 14:20:36,011 - logging_config - INFO - websocket_handlers.py:742 - üì® RAW MESSAGE RECEIVED for PAXGUSDT: {
  "type": "config",
  "symbol": "PAXGUSDT",
  "indicators": [
    "macd",
    "rsi",
    "stochrsi_9_3",
    "stochrsi_14_3",
    "stochrsi_40_4",
    "stochrsi_60_10"
  ],
  "resolution": "1d",
  "from_ts": 1656215215908,
  "to_ts": 1796976306822
}
2025-09-04 14:20:36,011 - logging_config - INFO - websocket_handlers.py:747 - [TIMESTAMP DEBUG] websocket_handlers.py - Received timestamps:
2025-09-04 14:20:36,011 - logging_config - INFO - websocket_handlers.py:748 -   from_ts: 1656215215908 (type: <class 'int'>)
2025-09-04 14:20:36,011 - logging_config - INFO - websocket_handlers.py:749 -   to_ts: 1796976306822 (type: <class 'int'>)
2025-09-04 14:20:36,012 - logging_config - WARNING - websocket_handlers.py:769 - [TIMESTAMP DEBUG] from_ts 1656215215908 appears to be in MILLISECONDS (should be seconds)
2025-09-04 14:20:36,012 - logging_config - INFO - websocket_handlers.py:770 -   Converting to seconds: 1656215215
2025-09-04 14:20:36,012 - logging_config - INFO - websocket_handlers.py:774 - [TIMESTAMP CONVERSION] Client milliseconds -> Server seconds:
2025-09-04 14:20:36,012 - logging_config - INFO - websocket_handlers.py:775 -   1656215215908 -> 1656215215 (2022-06-26 03:46:55 UTC)
2025-09-04 14:20:36,012 - logging_config - INFO - websocket_handlers.py:776 -   1796976306822 -> 1796976306 (2026-12-11 08:05:06 UTC)
2025-09-04 14:20:36,012 - logging_config - INFO - websocket_handlers.py:795 - [TIMESTAMP FIX] Final timestamps set:
2025-09-04 14:20:36,012 - logging_config - INFO - websocket_handlers.py:796 -   from_ts: 1656215215 (type: <class 'int'>)
2025-09-04 14:20:36,012 - logging_config - INFO - websocket_handlers.py:797 -   to_ts: 1796976306 (type: <class 'int'>)
2025-09-04 14:20:36,013 - logging_config - INFO - websocket_handlers.py:807 - Client config updated for PAXGUSDT: indicators=['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4', 'stochrsi_60_10'], resolution=1d
2025-09-04 14:20:36,013 - logging_config - INFO - websocket_handlers.py:808 - üìä MESSAGE FIELD VALUES for PAXGUSDT:
2025-09-04 14:20:36,013 - logging_config - INFO - websocket_handlers.py:809 -   symbol: PAXGUSDT (fallback: PAXGUSDT)
2025-09-04 14:20:36,013 - logging_config - INFO - websocket_handlers.py:810 -   from_ts: 1656215215908 (type: <class 'int'>)
2025-09-04 14:20:36,013 - logging_config - INFO - websocket_handlers.py:811 -   to_ts: 1796976306822 (type: <class 'int'>)
2025-09-04 14:20:36,013 - logging_config - INFO - websocket_handlers.py:812 -   indicators: ['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4', 'stochrsi_60_10'] (type: <class 'list'>)
2025-09-04 14:20:36,013 - logging_config - INFO - websocket_handlers.py:813 -   resolution: 1d (type: <class 'str'>)
2025-09-04 14:20:36,013 - logging_config - INFO - websocket_handlers.py:819 - üìä SERVER TIME RANGE ANALYSIS for PAXGUSDT:
2025-09-04 14:20:36,013 - logging_config - INFO - websocket_handlers.py:820 -   Old range: from_ts=1657610618, to_ts=1727987564
2025-09-04 14:20:36,013 - logging_config - INFO - websocket_handlers.py:821 -   New range: from_ts=1656215215, to_ts=1796976306
2025-09-04 14:20:36,013 - logging_config - INFO - websocket_handlers.py:822 -   Time range changed: True
2025-09-04 14:20:36,013 - logging_config - INFO - websocket_handlers.py:823 -   Historical sent: True
2025-09-04 14:20:36,013 - logging_config - INFO - websocket_handlers.py:824 -   Has timestamps: from_ts=True, to_ts=True
2025-09-04 14:20:36,013 - logging_config - INFO - websocket_handlers.py:843 -   üìÖ SERVER RECEIVED RANGE (UTC):
2025-09-04 14:20:36,013 - logging_config - INFO - websocket_handlers.py:844 -     From: 2022-06-26 03:46:55 UTC (1656215215)
2025-09-04 14:20:36,013 - logging_config - INFO - websocket_handlers.py:845 -     To: 2026-12-11 08:05:06 UTC (1796976306)
2025-09-04 14:20:36,013 - logging_config - INFO - websocket_handlers.py:846 -     Range: 140761091 seconds (39100.3 hours)
2025-09-04 14:20:36,013 - logging_config - INFO - websocket_handlers.py:848 -   üìÖ SERVER RECEIVED RANGE (Local Time):
2025-09-04 14:20:36,014 - logging_config - INFO - websocket_handlers.py:849 -     From: 2022-06-26 05:46:55 Central Europe Summer Time
2025-09-04 14:20:36,014 - logging_config - INFO - websocket_handlers.py:850 -     To: 2026-12-11 10:05:06 Central Europe Summer Time
2025-09-04 14:20:36,014 - logging_config - INFO - websocket_handlers.py:853 -   üåç TIMEZONE ANALYSIS:
2025-09-04 14:20:36,014 - logging_config - INFO - websocket_handlers.py:854 -     Server timezone: Central Europe Summer Time (UTC+2.0)
2025-09-04 14:20:36,014 - logging_config - INFO - websocket_handlers.py:855 -     User timezone (from logs): Europe/Ljubljana (UTC+2)
2025-09-04 14:20:36,014 - logging_config - INFO - websocket_handlers.py:856 -     Timezone difference: 0.0 hours
2025-09-04 14:20:36,014 - logging_config - INFO - websocket_handlers.py:859 -   üì§ DATA TO BE SENT TO CLIENT:
2025-09-04 14:20:36,014 - logging_config - INFO - websocket_handlers.py:860 -     Timestamps will be sent as seconds (not milliseconds)
2025-09-04 14:20:36,014 - logging_config - INFO - websocket_handlers.py:861 -     Client will receive: from_ts=1656215215, to_ts=1796976306
2025-09-04 14:20:36,014 - logging_config - INFO - websocket_handlers.py:862 -     Client local time equivalent: 2022-06-26 05:46:55 to 2026-12-11 10:05:06
2025-09-04 14:20:36,014 - logging_config - INFO - websocket_handlers.py:867 -   üìä USER'S CHART VIEW STATE:
2025-09-04 14:20:36,014 - logging_config - INFO - websocket_handlers.py:868 -     X-Axis Min: 30/08/2025, 10:31:39
2025-09-04 14:20:36,014 - logging_config - INFO - websocket_handlers.py:869 -     X-Axis Max: 04/09/2025, 01:58:37
2025-09-04 14:20:36,014 - logging_config - INFO - websocket_handlers.py:870 -     Expected local time range: 2025-08-30 10:31 to 2025-09-04 01:58
2025-09-04 14:20:36,015 - logging_config - INFO - websocket_handlers.py:871 -     Server received UTC equivalent: 2022-06-26 03:46 to 2026-12-11 08:05
2025-09-04 14:20:36,015 - logging_config - INFO - websocket_handlers.py:881 - Should send historical data: 1796976306
2025-09-04 14:20:36,015 - logging_config - INFO - websocket_handlers.py:884 - Sending historical data for PAXGUSDT - time range changed: True, historical_sent: True
2025-09-04 14:20:36,015 - logging_config - INFO - websocket_handlers.py:309 - Sending historical data for PAXGUSDT with indicators: ['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4', 'stochrsi_60_10']
2025-09-04 14:20:36,015 - logging_config - INFO - websocket_handlers.py:310 - Time range: from_ts=1656215215, to_ts=1796976306, resolution=1d
2025-09-04 14:20:36,015 - logging_config - INFO - websocket_handlers.py:320 - WebSocket session email found: klemenzivkovic@gmail.com
2025-09-04 14:20:36,015 - logging_config - INFO - websocket_handlers.py:325 - Looking for drawings: symbol=PAXGUSDT, resolution=1d, email=klemenzivkovic@gmail.com
2025-09-04 14:20:36,015 - logging_config - INFO - websocket_handlers.py:330 - Redis key for drawings: drawings:klemenzivkovic@gmail.com:PAXGUSDT
2025-09-04 14:20:36,016 - logging_config - INFO - drawing_manager.py:60 - get_drawings for PAXGUSDT with resolution '1d': found 4 total, returning 4 filtered.
2025-09-04 14:20:36,016 - logging_config - INFO - websocket_handlers.py:339 - Sending 4 existing drawings for PAXGUSDT
2025-09-04 14:20:36,016 - logging_config - INFO - websocket_handlers.py:345 - Sending drawing (4) message: {'type': 'drawings', 'symbol': 'PAXGUSDT', 'data': [{'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1749504979, 'end_time': 1757034460, 'start_price': 3498.39837005988, 'end_price': 3360.406707317073, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': {'buyOnCross': False, 'sellOnCross': False, 'sendEmailOnCross': True}, 'id': '23a034a5-9e91-488c-a076-b1dc9fa49f8f'}, {'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1750519797, 'end_time': 1756969828, 'start_price': 3263.9115544910173, 'end_price': 3290.8273239708183, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': {'buyOnCross': False, 'sellOnCross': False, 'sendEmailOnCross': True}, 'id': 'baf77e17-16dc-4817-b3ea-430467fa3a06'}, {'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1742353742, 'end_time': 1759291109, 'start_price': 3597.298721036928, 'end_price': 3334.7182204260644, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': None, 'id': '30d5ab26-ece7-434c-b489-9aeeccb27e56'}, {'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1739775769, 'end_time': 1755240008, 'start_price': 3168.595862896743, 'end_price': 3270.412791705037, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': None, 'id': '56ea858d-8f15-4f9d-a3ef-249b5e232b7a'}]}
2025-09-04 14:20:36,016 - logging_config - INFO - websocket_handlers.py:347 - Successfully sent drawings message to client
2025-09-04 14:20:36,016 - logging_config - INFO - redis_utils.py:103 - Querying sorted set 'zset:kline:PAXGUSDT:1d' for range [1656215215, 1796976306]
2025-09-04 14:20:36,017 - logging_config - INFO - redis_utils.py:106 - [TIMESTAMP DEBUG] redis_utils.py - get_cached_klines query:
2025-09-04 14:20:36,017 - logging_config - INFO - redis_utils.py:107 -   start_ts: 1656215215 (type: <class 'int'>)
2025-09-04 14:20:36,017 - logging_config - INFO - redis_utils.py:108 -   end_ts: 1796976306 (type: <class 'int'>)
2025-09-04 14:20:36,017 - logging_config - INFO - redis_utils.py:115 - [TIMESTAMP DEBUG] start_ts 1656215215 appears to be in SECONDS (correct for Redis)
2025-09-04 14:20:36,017 - logging_config - INFO - redis_utils.py:120 - [TIMESTAMP DEBUG] Checking Redis data sample for comparison...
2025-09-04 14:20:36,022 - logging_config - INFO - redis_utils.py:159 - Found 1000 cached klines for PAXGUSDT 1d between 1656215215 and 1796976306
2025-09-04 14:20:36,022 - logging_config - INFO - redis_utils.py:163 - üîç DATA GAP ANALYSIS for PAXGUSDT 1d:
2025-09-04 14:20:36,023 - logging_config - INFO - redis_utils.py:164 -   Expected data points based on time range: ~1629
2025-09-04 14:20:36,023 - logging_config - INFO - redis_utils.py:165 -   Actual data points retrieved: 1000
2025-09-04 14:20:36,023 - logging_config - INFO - redis_utils.py:194 - ‚úÖ No data gaps detected - data appears continuous
2025-09-04 14:20:36,023 - logging_config - INFO - websocket_handlers.py:362 - ‚úÖ REDIS SUCCESS: Retrieved 1000 klines from Redis for PAXGUSDT
2025-09-04 14:20:36,023 - logging_config - INFO - websocket_handlers.py:398 - ‚úÖ CACHE HIT: Found 1000 klines in Redis cache for PAXGUSDT
2025-09-04 14:20:36,024 - logging_config - INFO - websocket_handlers.py:402 - Calculating indicators for PAXGUSDT: 6 indicators, 1000 klines
2025-09-04 14:20:36,025 - logging_config - INFO - redis_utils.py:265 - Found 273 cached Open Interest entries for PAXGUSDT 1d between 1656215215 and 1796976306
2025-09-04 14:20:38,537 - logging_config - INFO - utility_endpoints.py:168 - POST /settings: RAW data received from client for symbol 'PAXGUSDT': {'symbol': 'PAXGUSDT', 'resolution': '1d', 'range': '3m', 'xAxisMin': 1719190446063, 'xAxisMax': 1789567391520, 'yAxisMin': 7.125965202568574, 'yAxisMax': 18.25366984503092, 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'useLocalOllama': False, 'localOllamaModelName': '', 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4', 'stochrsi_60_10'], 'liveDataEnabled': False, 'showAgentTrades': False, 'streamDeltaTime': 1, 'last_selected_symbol': 'PAXGUSDT'}
2025-09-04 14:20:38,538 - logging_config - INFO - utility_endpoints.py:199 - POST /settings for PAXGUSDT and email klemenzivkovic@gmail.com: current_symbol_settings compiled for Redis save: {'resolution': '1d', 'range': '3m', 'xAxisMin': 1719190446063, 'xAxisMax': 1789567391520, 'yAxisMin': 7.125965202568574, 'yAxisMax': 18.25366984503092, 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4', 'stochrsi_60_10'], 'liveDataEnabled': False, 'streamDeltaTime': 1, 'useLocalOllama': False, 'localOllamaModelName': '', 'showAgentTrades': False, 'symbol': 'PAXGUSDT', 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'last_selected_symbol': 'PAXGUSDT'}
2025-09-04 14:20:38,538 - logging_config - INFO - utility_endpoints.py:201 - POST /settings for PAXGUSDT: Client sent streamDeltaTime: 1. Value to be saved in Redis for streamDeltaTime: 1
2025-09-04 14:20:38,539 - logging_config - INFO - utility_endpoints.py:204 - POST /settings for PAXGUSDT and email klemenzivkovic@gmail.com: Settings updated in Redis for PAXGUSDT: {'resolution': '1d', 'range': '3m', 'xAxisMin': 1719190446063, 'xAxisMax': 1789567391520, 'yAxisMin': 7.125965202568574, 'yAxisMax': 18.25366984503092, 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4', 'stochrsi_60_10'], 'liveDataEnabled': False, 'streamDeltaTime': 1, 'useLocalOllama': False, 'localOllamaModelName': '', 'showAgentTrades': False, 'symbol': 'PAXGUSDT', 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'last_selected_symbol': 'PAXGUSDT'}
2025-09-04 14:20:39,147 - logging_config - INFO - websocket_handlers.py:742 - üì® RAW MESSAGE RECEIVED for PAXGUSDT: {
  "type": "config",
  "symbol": "PAXGUSDT",
  "indicators": [
    "macd",
    "rsi",
    "stochrsi_9_3",
    "stochrsi_14_3",
    "stochrsi_40_4",
    "stochrsi_60_10"
  ],
  "resolution": "1d",
  "from_ts": 1684001973334,
  "to_ts": 1824755864248
}
2025-09-04 14:20:39,147 - logging_config - INFO - websocket_handlers.py:747 - [TIMESTAMP DEBUG] websocket_handlers.py - Received timestamps:
2025-09-04 14:20:39,147 - logging_config - INFO - websocket_handlers.py:748 -   from_ts: 1684001973334 (type: <class 'int'>)
2025-09-04 14:20:39,147 - logging_config - INFO - websocket_handlers.py:749 -   to_ts: 1824755864248 (type: <class 'int'>)
2025-09-04 14:20:39,147 - logging_config - WARNING - websocket_handlers.py:769 - [TIMESTAMP DEBUG] from_ts 1684001973334 appears to be in MILLISECONDS (should be seconds)
2025-09-04 14:20:39,147 - logging_config - INFO - websocket_handlers.py:770 -   Converting to seconds: 1684001973
2025-09-04 14:20:39,147 - logging_config - INFO - websocket_handlers.py:774 - [TIMESTAMP CONVERSION] Client milliseconds -> Server seconds:
2025-09-04 14:20:39,147 - logging_config - INFO - websocket_handlers.py:775 -   1684001973334 -> 1684001973 (2023-05-13 18:19:33 UTC)
2025-09-04 14:20:39,147 - logging_config - INFO - websocket_handlers.py:776 -   1824755864248 -> 1824755864 (2027-10-28 20:37:44 UTC)
2025-09-04 14:20:39,148 - logging_config - INFO - websocket_handlers.py:795 - [TIMESTAMP FIX] Final timestamps set:
2025-09-04 14:20:39,148 - logging_config - INFO - websocket_handlers.py:796 -   from_ts: 1684001973 (type: <class 'int'>)
2025-09-04 14:20:39,148 - logging_config - INFO - websocket_handlers.py:797 -   to_ts: 1824755864 (type: <class 'int'>)
2025-09-04 14:20:39,148 - logging_config - INFO - websocket_handlers.py:807 - Client config updated for PAXGUSDT: indicators=['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4', 'stochrsi_60_10'], resolution=1d
2025-09-04 14:20:39,148 - logging_config - INFO - websocket_handlers.py:808 - üìä MESSAGE FIELD VALUES for PAXGUSDT:
2025-09-04 14:20:39,148 - logging_config - INFO - websocket_handlers.py:809 -   symbol: PAXGUSDT (fallback: PAXGUSDT)
2025-09-04 14:20:39,148 - logging_config - INFO - websocket_handlers.py:810 -   from_ts: 1684001973334 (type: <class 'int'>)
2025-09-04 14:20:39,148 - logging_config - INFO - websocket_handlers.py:811 -   to_ts: 1824755864248 (type: <class 'int'>)
2025-09-04 14:20:39,148 - logging_config - INFO - websocket_handlers.py:812 -   indicators: ['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4', 'stochrsi_60_10'] (type: <class 'list'>)
2025-09-04 14:20:39,148 - logging_config - INFO - websocket_handlers.py:813 -   resolution: 1d (type: <class 'str'>)
2025-09-04 14:20:39,148 - logging_config - INFO - websocket_handlers.py:819 - üìä SERVER TIME RANGE ANALYSIS for PAXGUSDT:
2025-09-04 14:20:39,149 - logging_config - INFO - websocket_handlers.py:820 -   Old range: from_ts=1656215215, to_ts=1796976306
2025-09-04 14:20:39,149 - logging_config - INFO - websocket_handlers.py:821 -   New range: from_ts=1684001973, to_ts=1824755864
2025-09-04 14:20:39,149 - logging_config - INFO - websocket_handlers.py:822 -   Time range changed: True
2025-09-04 14:20:39,149 - logging_config - INFO - websocket_handlers.py:823 -   Historical sent: True
2025-09-04 14:20:39,149 - logging_config - INFO - websocket_handlers.py:824 -   Has timestamps: from_ts=True, to_ts=True
2025-09-04 14:20:39,149 - logging_config - INFO - websocket_handlers.py:843 -   üìÖ SERVER RECEIVED RANGE (UTC):
2025-09-04 14:20:39,149 - logging_config - INFO - websocket_handlers.py:844 -     From: 2023-05-13 18:19:33 UTC (1684001973)
2025-09-04 14:20:39,149 - logging_config - INFO - websocket_handlers.py:845 -     To: 2027-10-28 20:37:44 UTC (1824755864)
2025-09-04 14:20:39,149 - logging_config - INFO - websocket_handlers.py:846 -     Range: 140753891 seconds (39098.3 hours)
2025-09-04 14:20:39,149 - logging_config - INFO - websocket_handlers.py:848 -   üìÖ SERVER RECEIVED RANGE (Local Time):
2025-09-04 14:20:39,149 - logging_config - INFO - websocket_handlers.py:849 -     From: 2023-05-13 20:19:33 Central Europe Summer Time
2025-09-04 14:20:39,149 - logging_config - INFO - websocket_handlers.py:850 -     To: 2027-10-28 22:37:44 Central Europe Summer Time
2025-09-04 14:20:39,149 - logging_config - INFO - websocket_handlers.py:853 -   üåç TIMEZONE ANALYSIS:
2025-09-04 14:20:39,149 - logging_config - INFO - websocket_handlers.py:854 -     Server timezone: Central Europe Summer Time (UTC+2.0)
2025-09-04 14:20:39,149 - logging_config - INFO - websocket_handlers.py:855 -     User timezone (from logs): Europe/Ljubljana (UTC+2)
2025-09-04 14:20:39,150 - logging_config - INFO - websocket_handlers.py:856 -     Timezone difference: 0.0 hours
2025-09-04 14:20:39,150 - logging_config - INFO - websocket_handlers.py:859 -   üì§ DATA TO BE SENT TO CLIENT:
2025-09-04 14:20:39,150 - logging_config - INFO - websocket_handlers.py:860 -     Timestamps will be sent as seconds (not milliseconds)
2025-09-04 14:20:39,150 - logging_config - INFO - websocket_handlers.py:861 -     Client will receive: from_ts=1684001973, to_ts=1824755864
2025-09-04 14:20:39,150 - logging_config - INFO - websocket_handlers.py:862 -     Client local time equivalent: 2023-05-13 20:19:33 to 2027-10-28 22:37:44
2025-09-04 14:20:39,150 - logging_config - INFO - websocket_handlers.py:867 -   üìä USER'S CHART VIEW STATE:
2025-09-04 14:20:39,150 - logging_config - INFO - websocket_handlers.py:868 -     X-Axis Min: 30/08/2025, 10:31:39
2025-09-04 14:20:39,150 - logging_config - INFO - websocket_handlers.py:869 -     X-Axis Max: 04/09/2025, 01:58:37
2025-09-04 14:20:39,150 - logging_config - INFO - websocket_handlers.py:870 -     Expected local time range: 2025-08-30 10:31 to 2025-09-04 01:58
2025-09-04 14:20:39,150 - logging_config - INFO - websocket_handlers.py:871 -     Server received UTC equivalent: 2023-05-13 18:19 to 2027-10-28 20:37
2025-09-04 14:20:39,150 - logging_config - INFO - websocket_handlers.py:881 - Should send historical data: 1824755864
2025-09-04 14:20:39,150 - logging_config - INFO - websocket_handlers.py:884 - Sending historical data for PAXGUSDT - time range changed: True, historical_sent: True
2025-09-04 14:20:39,150 - logging_config - INFO - websocket_handlers.py:309 - Sending historical data for PAXGUSDT with indicators: ['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4', 'stochrsi_60_10']
2025-09-04 14:20:39,150 - logging_config - INFO - websocket_handlers.py:310 - Time range: from_ts=1684001973, to_ts=1824755864, resolution=1d
2025-09-04 14:20:39,151 - logging_config - INFO - websocket_handlers.py:320 - WebSocket session email found: klemenzivkovic@gmail.com
2025-09-04 14:20:39,151 - logging_config - INFO - websocket_handlers.py:325 - Looking for drawings: symbol=PAXGUSDT, resolution=1d, email=klemenzivkovic@gmail.com
2025-09-04 14:20:39,151 - logging_config - INFO - websocket_handlers.py:330 - Redis key for drawings: drawings:klemenzivkovic@gmail.com:PAXGUSDT
2025-09-04 14:20:39,151 - logging_config - INFO - drawing_manager.py:60 - get_drawings for PAXGUSDT with resolution '1d': found 4 total, returning 4 filtered.
2025-09-04 14:20:39,151 - logging_config - INFO - websocket_handlers.py:339 - Sending 4 existing drawings for PAXGUSDT
2025-09-04 14:20:39,151 - logging_config - INFO - websocket_handlers.py:345 - Sending drawing (4) message: {'type': 'drawings', 'symbol': 'PAXGUSDT', 'data': [{'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1749504979, 'end_time': 1757034460, 'start_price': 3498.39837005988, 'end_price': 3360.406707317073, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': {'buyOnCross': False, 'sellOnCross': False, 'sendEmailOnCross': True}, 'id': '23a034a5-9e91-488c-a076-b1dc9fa49f8f'}, {'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1750519797, 'end_time': 1756969828, 'start_price': 3263.9115544910173, 'end_price': 3290.8273239708183, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': {'buyOnCross': False, 'sellOnCross': False, 'sendEmailOnCross': True}, 'id': 'baf77e17-16dc-4817-b3ea-430467fa3a06'}, {'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1742353742, 'end_time': 1759291109, 'start_price': 3597.298721036928, 'end_price': 3334.7182204260644, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': None, 'id': '30d5ab26-ece7-434c-b489-9aeeccb27e56'}, {'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1739775769, 'end_time': 1755240008, 'start_price': 3168.595862896743, 'end_price': 3270.412791705037, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': None, 'id': '56ea858d-8f15-4f9d-a3ef-249b5e232b7a'}]}
2025-09-04 14:20:39,152 - logging_config - INFO - websocket_handlers.py:347 - Successfully sent drawings message to client
2025-09-04 14:20:39,152 - logging_config - INFO - redis_utils.py:103 - Querying sorted set 'zset:kline:PAXGUSDT:1d' for range [1684001973, 1824755864]
2025-09-04 14:20:39,152 - logging_config - INFO - redis_utils.py:106 - [TIMESTAMP DEBUG] redis_utils.py - get_cached_klines query:
2025-09-04 14:20:39,152 - logging_config - INFO - redis_utils.py:107 -   start_ts: 1684001973 (type: <class 'int'>)
2025-09-04 14:20:39,152 - logging_config - INFO - redis_utils.py:108 -   end_ts: 1824755864 (type: <class 'int'>)
2025-09-04 14:20:39,153 - logging_config - INFO - redis_utils.py:115 - [TIMESTAMP DEBUG] start_ts 1684001973 appears to be in SECONDS (correct for Redis)
2025-09-04 14:20:39,153 - logging_config - INFO - redis_utils.py:120 - [TIMESTAMP DEBUG] Checking Redis data sample for comparison...
2025-09-04 14:20:39,158 - logging_config - INFO - redis_utils.py:159 - Found 845 cached klines for PAXGUSDT 1d between 1684001973 and 1824755864
2025-09-04 14:20:39,158 - logging_config - INFO - redis_utils.py:163 - üîç DATA GAP ANALYSIS for PAXGUSDT 1d:
2025-09-04 14:20:39,158 - logging_config - INFO - redis_utils.py:164 -   Expected data points based on time range: ~1629
2025-09-04 14:20:39,159 - logging_config - INFO - redis_utils.py:165 -   Actual data points retrieved: 845
2025-09-04 14:20:39,159 - logging_config - INFO - redis_utils.py:194 - ‚úÖ No data gaps detected - data appears continuous
2025-09-04 14:20:39,159 - logging_config - INFO - websocket_handlers.py:362 - ‚úÖ REDIS SUCCESS: Retrieved 845 klines from Redis for PAXGUSDT
2025-09-04 14:20:39,159 - logging_config - INFO - websocket_handlers.py:398 - ‚úÖ CACHE HIT: Found 845 klines in Redis cache for PAXGUSDT
2025-09-04 14:20:39,159 - logging_config - INFO - websocket_handlers.py:402 - Calculating indicators for PAXGUSDT: 6 indicators, 845 klines
2025-09-04 14:20:39,161 - logging_config - INFO - redis_utils.py:265 - Found 273 cached Open Interest entries for PAXGUSDT 1d between 1684001973 and 1824755864
2025-09-04 14:20:40,236 - logging_config - INFO - utility_endpoints.py:168 - POST /settings: RAW data received from client for symbol 'PAXGUSDT': {'symbol': 'PAXGUSDT', 'resolution': '1d', 'range': '3m', 'xAxisMin': 1725091984813, 'xAxisMax': 1788771678430, 'yAxisMin': 7.4598655510266685, 'yAxisMax': 17.52862908837906, 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'useLocalOllama': False, 'localOllamaModelName': '', 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4', 'stochrsi_60_10'], 'liveDataEnabled': False, 'showAgentTrades': False, 'streamDeltaTime': 1, 'last_selected_symbol': 'PAXGUSDT'}
2025-09-04 14:20:40,237 - logging_config - INFO - utility_endpoints.py:199 - POST /settings for PAXGUSDT and email klemenzivkovic@gmail.com: current_symbol_settings compiled for Redis save: {'resolution': '1d', 'range': '3m', 'xAxisMin': 1725091984813, 'xAxisMax': 1788771678430, 'yAxisMin': 7.4598655510266685, 'yAxisMax': 17.52862908837906, 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4', 'stochrsi_60_10'], 'liveDataEnabled': False, 'streamDeltaTime': 1, 'useLocalOllama': False, 'localOllamaModelName': '', 'showAgentTrades': False, 'symbol': 'PAXGUSDT', 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'last_selected_symbol': 'PAXGUSDT'}
2025-09-04 14:20:40,237 - logging_config - INFO - utility_endpoints.py:201 - POST /settings for PAXGUSDT: Client sent streamDeltaTime: 1. Value to be saved in Redis for streamDeltaTime: 1
2025-09-04 14:20:40,238 - logging_config - INFO - utility_endpoints.py:204 - POST /settings for PAXGUSDT and email klemenzivkovic@gmail.com: Settings updated in Redis for PAXGUSDT: {'resolution': '1d', 'range': '3m', 'xAxisMin': 1725091984813, 'xAxisMax': 1788771678430, 'yAxisMin': 7.4598655510266685, 'yAxisMax': 17.52862908837906, 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4', 'stochrsi_60_10'], 'liveDataEnabled': False, 'streamDeltaTime': 1, 'useLocalOllama': False, 'localOllamaModelName': '', 'showAgentTrades': False, 'symbol': 'PAXGUSDT', 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'last_selected_symbol': 'PAXGUSDT'}
2025-09-04 14:20:40,792 - logging_config - INFO - websocket_handlers.py:742 - üì® RAW MESSAGE RECEIVED for PAXGUSDT: {
  "type": "config",
  "symbol": "PAXGUSDT",
  "indicators": [
    "macd",
    "rsi",
    "stochrsi_9_3",
    "stochrsi_14_3",
    "stochrsi_40_4",
    "stochrsi_60_10"
  ],
  "resolution": "1d",
  "from_ts": 1693252138004,
  "to_ts": 1820611525238
}
2025-09-04 14:20:40,792 - logging_config - INFO - websocket_handlers.py:747 - [TIMESTAMP DEBUG] websocket_handlers.py - Received timestamps:
2025-09-04 14:20:40,792 - logging_config - INFO - websocket_handlers.py:748 -   from_ts: 1693252138004 (type: <class 'int'>)
2025-09-04 14:20:40,793 - logging_config - INFO - websocket_handlers.py:749 -   to_ts: 1820611525238 (type: <class 'int'>)
2025-09-04 14:20:40,793 - logging_config - WARNING - websocket_handlers.py:769 - [TIMESTAMP DEBUG] from_ts 1693252138004 appears to be in MILLISECONDS (should be seconds)
2025-09-04 14:20:40,793 - logging_config - INFO - websocket_handlers.py:770 -   Converting to seconds: 1693252138
2025-09-04 14:20:40,793 - logging_config - INFO - websocket_handlers.py:774 - [TIMESTAMP CONVERSION] Client milliseconds -> Server seconds:
2025-09-04 14:20:40,793 - logging_config - INFO - websocket_handlers.py:775 -   1693252138004 -> 1693252138 (2023-08-28 19:48:58 UTC)
2025-09-04 14:20:40,793 - logging_config - INFO - websocket_handlers.py:776 -   1820611525238 -> 1820611525 (2027-09-10 21:25:25 UTC)
2025-09-04 14:20:40,793 - logging_config - INFO - websocket_handlers.py:795 - [TIMESTAMP FIX] Final timestamps set:
2025-09-04 14:20:40,793 - logging_config - INFO - websocket_handlers.py:796 -   from_ts: 1693252138 (type: <class 'int'>)
2025-09-04 14:20:40,793 - logging_config - INFO - websocket_handlers.py:797 -   to_ts: 1820611525 (type: <class 'int'>)
2025-09-04 14:20:40,794 - logging_config - INFO - websocket_handlers.py:807 - Client config updated for PAXGUSDT: indicators=['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4', 'stochrsi_60_10'], resolution=1d
2025-09-04 14:20:40,794 - logging_config - INFO - websocket_handlers.py:808 - üìä MESSAGE FIELD VALUES for PAXGUSDT:
2025-09-04 14:20:40,794 - logging_config - INFO - websocket_handlers.py:809 -   symbol: PAXGUSDT (fallback: PAXGUSDT)
2025-09-04 14:20:40,794 - logging_config - INFO - websocket_handlers.py:810 -   from_ts: 1693252138004 (type: <class 'int'>)
2025-09-04 14:20:40,794 - logging_config - INFO - websocket_handlers.py:811 -   to_ts: 1820611525238 (type: <class 'int'>)
2025-09-04 14:20:40,794 - logging_config - INFO - websocket_handlers.py:812 -   indicators: ['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4', 'stochrsi_60_10'] (type: <class 'list'>)
2025-09-04 14:20:40,794 - logging_config - INFO - websocket_handlers.py:813 -   resolution: 1d (type: <class 'str'>)
2025-09-04 14:20:40,794 - logging_config - INFO - websocket_handlers.py:819 - üìä SERVER TIME RANGE ANALYSIS for PAXGUSDT:
2025-09-04 14:20:40,794 - logging_config - INFO - websocket_handlers.py:820 -   Old range: from_ts=1684001973, to_ts=1824755864
2025-09-04 14:20:40,795 - logging_config - INFO - websocket_handlers.py:821 -   New range: from_ts=1693252138, to_ts=1820611525
2025-09-04 14:20:40,795 - logging_config - INFO - websocket_handlers.py:822 -   Time range changed: True
2025-09-04 14:20:40,795 - logging_config - INFO - websocket_handlers.py:823 -   Historical sent: True
2025-09-04 14:20:40,795 - logging_config - INFO - websocket_handlers.py:824 -   Has timestamps: from_ts=True, to_ts=True
2025-09-04 14:20:40,795 - logging_config - INFO - websocket_handlers.py:843 -   üìÖ SERVER RECEIVED RANGE (UTC):
2025-09-04 14:20:40,795 - logging_config - INFO - websocket_handlers.py:844 -     From: 2023-08-28 19:48:58 UTC (1693252138)
2025-09-04 14:20:40,795 - logging_config - INFO - websocket_handlers.py:845 -     To: 2027-09-10 21:25:25 UTC (1820611525)
2025-09-04 14:20:40,795 - logging_config - INFO - websocket_handlers.py:846 -     Range: 127359387 seconds (35377.6 hours)
2025-09-04 14:20:40,795 - logging_config - INFO - websocket_handlers.py:848 -   üìÖ SERVER RECEIVED RANGE (Local Time):
2025-09-04 14:20:40,795 - logging_config - INFO - websocket_handlers.py:849 -     From: 2023-08-28 21:48:58 Central Europe Summer Time
2025-09-04 14:20:40,795 - logging_config - INFO - websocket_handlers.py:850 -     To: 2027-09-10 23:25:25 Central Europe Summer Time
2025-09-04 14:20:40,796 - logging_config - INFO - websocket_handlers.py:853 -   üåç TIMEZONE ANALYSIS:
2025-09-04 14:20:40,796 - logging_config - INFO - websocket_handlers.py:854 -     Server timezone: Central Europe Summer Time (UTC+2.0)
2025-09-04 14:20:40,796 - logging_config - INFO - websocket_handlers.py:855 -     User timezone (from logs): Europe/Ljubljana (UTC+2)
2025-09-04 14:20:40,796 - logging_config - INFO - websocket_handlers.py:856 -     Timezone difference: 0.0 hours
2025-09-04 14:20:40,796 - logging_config - INFO - websocket_handlers.py:859 -   üì§ DATA TO BE SENT TO CLIENT:
2025-09-04 14:20:40,796 - logging_config - INFO - websocket_handlers.py:860 -     Timestamps will be sent as seconds (not milliseconds)
2025-09-04 14:20:40,796 - logging_config - INFO - websocket_handlers.py:861 -     Client will receive: from_ts=1693252138, to_ts=1820611525
2025-09-04 14:20:40,796 - logging_config - INFO - websocket_handlers.py:862 -     Client local time equivalent: 2023-08-28 21:48:58 to 2027-09-10 23:25:25
2025-09-04 14:20:40,796 - logging_config - INFO - websocket_handlers.py:867 -   üìä USER'S CHART VIEW STATE:
2025-09-04 14:20:40,796 - logging_config - INFO - websocket_handlers.py:868 -     X-Axis Min: 30/08/2025, 10:31:39
2025-09-04 14:20:40,796 - logging_config - INFO - websocket_handlers.py:869 -     X-Axis Max: 04/09/2025, 01:58:37
2025-09-04 14:20:40,796 - logging_config - INFO - websocket_handlers.py:870 -     Expected local time range: 2025-08-30 10:31 to 2025-09-04 01:58
2025-09-04 14:20:40,797 - logging_config - INFO - websocket_handlers.py:871 -     Server received UTC equivalent: 2023-08-28 19:48 to 2027-09-10 21:25
2025-09-04 14:20:40,797 - logging_config - INFO - websocket_handlers.py:881 - Should send historical data: 1820611525
2025-09-04 14:20:40,797 - logging_config - INFO - websocket_handlers.py:884 - Sending historical data for PAXGUSDT - time range changed: True, historical_sent: True
2025-09-04 14:20:40,797 - logging_config - INFO - websocket_handlers.py:309 - Sending historical data for PAXGUSDT with indicators: ['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4', 'stochrsi_60_10']
2025-09-04 14:20:40,797 - logging_config - INFO - websocket_handlers.py:310 - Time range: from_ts=1693252138, to_ts=1820611525, resolution=1d
2025-09-04 14:20:40,797 - logging_config - INFO - websocket_handlers.py:320 - WebSocket session email found: klemenzivkovic@gmail.com
2025-09-04 14:20:40,797 - logging_config - INFO - websocket_handlers.py:325 - Looking for drawings: symbol=PAXGUSDT, resolution=1d, email=klemenzivkovic@gmail.com
2025-09-04 14:20:40,797 - logging_config - INFO - websocket_handlers.py:330 - Redis key for drawings: drawings:klemenzivkovic@gmail.com:PAXGUSDT
2025-09-04 14:20:40,798 - logging_config - INFO - drawing_manager.py:60 - get_drawings for PAXGUSDT with resolution '1d': found 4 total, returning 4 filtered.
2025-09-04 14:20:40,798 - logging_config - INFO - websocket_handlers.py:339 - Sending 4 existing drawings for PAXGUSDT
2025-09-04 14:20:40,798 - logging_config - INFO - websocket_handlers.py:345 - Sending drawing (4) message: {'type': 'drawings', 'symbol': 'PAXGUSDT', 'data': [{'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1749504979, 'end_time': 1757034460, 'start_price': 3498.39837005988, 'end_price': 3360.406707317073, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': {'buyOnCross': False, 'sellOnCross': False, 'sendEmailOnCross': True}, 'id': '23a034a5-9e91-488c-a076-b1dc9fa49f8f'}, {'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1750519797, 'end_time': 1756969828, 'start_price': 3263.9115544910173, 'end_price': 3290.8273239708183, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': {'buyOnCross': False, 'sellOnCross': False, 'sendEmailOnCross': True}, 'id': 'baf77e17-16dc-4817-b3ea-430467fa3a06'}, {'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1742353742, 'end_time': 1759291109, 'start_price': 3597.298721036928, 'end_price': 3334.7182204260644, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': None, 'id': '30d5ab26-ece7-434c-b489-9aeeccb27e56'}, {'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1739775769, 'end_time': 1755240008, 'start_price': 3168.595862896743, 'end_price': 3270.412791705037, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': None, 'id': '56ea858d-8f15-4f9d-a3ef-249b5e232b7a'}]}
2025-09-04 14:20:40,798 - logging_config - INFO - websocket_handlers.py:347 - Successfully sent drawings message to client
2025-09-04 14:20:40,798 - logging_config - INFO - redis_utils.py:103 - Querying sorted set 'zset:kline:PAXGUSDT:1d' for range [1693252138, 1820611525]
2025-09-04 14:20:40,799 - logging_config - INFO - redis_utils.py:106 - [TIMESTAMP DEBUG] redis_utils.py - get_cached_klines query:
2025-09-04 14:20:40,799 - logging_config - INFO - redis_utils.py:107 -   start_ts: 1693252138 (type: <class 'int'>)
2025-09-04 14:20:40,799 - logging_config - INFO - redis_utils.py:108 -   end_ts: 1820611525 (type: <class 'int'>)
2025-09-04 14:20:40,799 - logging_config - INFO - redis_utils.py:115 - [TIMESTAMP DEBUG] start_ts 1693252138 appears to be in SECONDS (correct for Redis)
2025-09-04 14:20:40,799 - logging_config - INFO - redis_utils.py:120 - [TIMESTAMP DEBUG] Checking Redis data sample for comparison...
2025-09-04 14:20:40,803 - logging_config - INFO - redis_utils.py:159 - Found 738 cached klines for PAXGUSDT 1d between 1693252138 and 1820611525
2025-09-04 14:20:40,803 - logging_config - INFO - redis_utils.py:163 - üîç DATA GAP ANALYSIS for PAXGUSDT 1d:
2025-09-04 14:20:40,803 - logging_config - INFO - redis_utils.py:164 -   Expected data points based on time range: ~1474
2025-09-04 14:20:40,803 - logging_config - INFO - redis_utils.py:165 -   Actual data points retrieved: 738
2025-09-04 14:20:40,803 - logging_config - INFO - redis_utils.py:194 - ‚úÖ No data gaps detected - data appears continuous
2025-09-04 14:20:40,804 - logging_config - INFO - websocket_handlers.py:362 - ‚úÖ REDIS SUCCESS: Retrieved 738 klines from Redis for PAXGUSDT
2025-09-04 14:20:40,804 - logging_config - INFO - websocket_handlers.py:398 - ‚úÖ CACHE HIT: Found 738 klines in Redis cache for PAXGUSDT
2025-09-04 14:20:40,804 - logging_config - INFO - websocket_handlers.py:402 - Calculating indicators for PAXGUSDT: 6 indicators, 738 klines
2025-09-04 14:20:40,806 - logging_config - INFO - redis_utils.py:265 - Found 273 cached Open Interest entries for PAXGUSDT 1d between 1693252138 and 1820611525
2025-09-04 14:20:44,787 - logging_config - INFO - utility_endpoints.py:168 - POST /settings: RAW data received from client for symbol 'PAXGUSDT': {'symbol': 'PAXGUSDT', 'resolution': '1d', 'range': '3m', 'xAxisMin': 1666314720000, 'xAxisMax': 1761259680000, 'yAxisMin': 1754, 'yAxisMax': 3600, 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'useLocalOllama': False, 'localOllamaModelName': '', 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4', 'stochrsi_60_10'], 'liveDataEnabled': False, 'showAgentTrades': False, 'streamDeltaTime': 1, 'last_selected_symbol': 'PAXGUSDT'}
2025-09-04 14:20:44,788 - logging_config - INFO - utility_endpoints.py:168 - POST /settings: RAW data received from client for symbol 'PAXGUSDT': {'symbol': 'PAXGUSDT', 'resolution': '1d', 'range': '3m', 'xAxisMin': 1666314720000, 'xAxisMax': 1761259680000, 'yAxisMin': 1661.7, 'yAxisMax': 3692.3, 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'useLocalOllama': False, 'localOllamaModelName': '', 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4', 'stochrsi_60_10'], 'liveDataEnabled': False, 'showAgentTrades': False, 'streamDeltaTime': 1, 'last_selected_symbol': 'PAXGUSDT'}
2025-09-04 14:20:44,788 - logging_config - INFO - utility_endpoints.py:199 - POST /settings for PAXGUSDT and email klemenzivkovic@gmail.com: current_symbol_settings compiled for Redis save: {'resolution': '1d', 'range': '3m', 'xAxisMin': 1666314720000, 'xAxisMax': 1761259680000, 'yAxisMin': 1754, 'yAxisMax': 3600, 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4', 'stochrsi_60_10'], 'liveDataEnabled': False, 'streamDeltaTime': 1, 'useLocalOllama': False, 'localOllamaModelName': '', 'showAgentTrades': False, 'symbol': 'PAXGUSDT', 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'last_selected_symbol': 'PAXGUSDT'}
2025-09-04 14:20:44,788 - logging_config - INFO - utility_endpoints.py:201 - POST /settings for PAXGUSDT: Client sent streamDeltaTime: 1. Value to be saved in Redis for streamDeltaTime: 1
2025-09-04 14:20:44,789 - logging_config - INFO - utility_endpoints.py:199 - POST /settings for PAXGUSDT and email klemenzivkovic@gmail.com: current_symbol_settings compiled for Redis save: {'resolution': '1d', 'range': '3m', 'xAxisMin': 1666314720000, 'xAxisMax': 1761259680000, 'yAxisMin': 1661.7, 'yAxisMax': 3692.3, 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4', 'stochrsi_60_10'], 'liveDataEnabled': False, 'streamDeltaTime': 1, 'useLocalOllama': False, 'localOllamaModelName': '', 'showAgentTrades': False, 'symbol': 'PAXGUSDT', 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'last_selected_symbol': 'PAXGUSDT'}
2025-09-04 14:20:44,789 - logging_config - INFO - utility_endpoints.py:201 - POST /settings for PAXGUSDT: Client sent streamDeltaTime: 1. Value to be saved in Redis for streamDeltaTime: 1
2025-09-04 14:20:44,789 - logging_config - INFO - utility_endpoints.py:204 - POST /settings for PAXGUSDT and email klemenzivkovic@gmail.com: Settings updated in Redis for PAXGUSDT: {'resolution': '1d', 'range': '3m', 'xAxisMin': 1666314720000, 'xAxisMax': 1761259680000, 'yAxisMin': 1754, 'yAxisMax': 3600, 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4', 'stochrsi_60_10'], 'liveDataEnabled': False, 'streamDeltaTime': 1, 'useLocalOllama': False, 'localOllamaModelName': '', 'showAgentTrades': False, 'symbol': 'PAXGUSDT', 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'last_selected_symbol': 'PAXGUSDT'}
2025-09-04 14:20:44,789 - logging_config - INFO - utility_endpoints.py:204 - POST /settings for PAXGUSDT and email klemenzivkovic@gmail.com: Settings updated in Redis for PAXGUSDT: {'resolution': '1d', 'range': '3m', 'xAxisMin': 1666314720000, 'xAxisMax': 1761259680000, 'yAxisMin': 1661.7, 'yAxisMax': 3692.3, 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4', 'stochrsi_60_10'], 'liveDataEnabled': False, 'streamDeltaTime': 1, 'useLocalOllama': False, 'localOllamaModelName': '', 'showAgentTrades': False, 'symbol': 'PAXGUSDT', 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'last_selected_symbol': 'PAXGUSDT'}
2025-09-04 14:20:45,015 - logging_config - INFO - websocket_handlers.py:742 - üì® RAW MESSAGE RECEIVED for PAXGUSDT: {
  "type": "config",
  "symbol": "PAXGUSDT",
  "indicators": [
    "macd",
    "rsi",
    "stochrsi_9_3",
    "stochrsi_14_3",
    "stochrsi_40_4",
    "stochrsi_60_10"
  ],
  "resolution": "1d",
  "from_ts": 1618842240000,
  "to_ts": 1808732160000
}
2025-09-04 14:20:45,016 - logging_config - INFO - websocket_handlers.py:747 - [TIMESTAMP DEBUG] websocket_handlers.py - Received timestamps:
2025-09-04 14:20:45,016 - logging_config - INFO - websocket_handlers.py:748 -   from_ts: 1618842240000 (type: <class 'int'>)
2025-09-04 14:20:45,016 - logging_config - INFO - websocket_handlers.py:749 -   to_ts: 1808732160000 (type: <class 'int'>)
2025-09-04 14:20:45,016 - logging_config - WARNING - websocket_handlers.py:769 - [TIMESTAMP DEBUG] from_ts 1618842240000 appears to be in MILLISECONDS (should be seconds)
2025-09-04 14:20:45,016 - logging_config - INFO - websocket_handlers.py:770 -   Converting to seconds: 1618842240
2025-09-04 14:20:45,016 - logging_config - INFO - websocket_handlers.py:774 - [TIMESTAMP CONVERSION] Client milliseconds -> Server seconds:
2025-09-04 14:20:45,016 - logging_config - INFO - websocket_handlers.py:775 -   1618842240000 -> 1618842240 (2021-04-19 14:24:00 UTC)
2025-09-04 14:20:45,016 - logging_config - INFO - websocket_handlers.py:776 -   1808732160000 -> 1808732160 (2027-04-26 09:36:00 UTC)
2025-09-04 14:20:45,017 - logging_config - INFO - websocket_handlers.py:795 - [TIMESTAMP FIX] Final timestamps set:
2025-09-04 14:20:45,017 - logging_config - INFO - websocket_handlers.py:796 -   from_ts: 1618842240 (type: <class 'int'>)
2025-09-04 14:20:45,017 - logging_config - INFO - websocket_handlers.py:797 -   to_ts: 1808732160 (type: <class 'int'>)
2025-09-04 14:20:45,017 - logging_config - INFO - websocket_handlers.py:807 - Client config updated for PAXGUSDT: indicators=['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4', 'stochrsi_60_10'], resolution=1d
2025-09-04 14:20:45,017 - logging_config - INFO - websocket_handlers.py:808 - üìä MESSAGE FIELD VALUES for PAXGUSDT:
2025-09-04 14:20:45,017 - logging_config - INFO - websocket_handlers.py:809 -   symbol: PAXGUSDT (fallback: PAXGUSDT)
2025-09-04 14:20:45,017 - logging_config - INFO - websocket_handlers.py:810 -   from_ts: 1618842240000 (type: <class 'int'>)
2025-09-04 14:20:45,017 - logging_config - INFO - websocket_handlers.py:811 -   to_ts: 1808732160000 (type: <class 'int'>)
2025-09-04 14:20:45,017 - logging_config - INFO - websocket_handlers.py:812 -   indicators: ['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4', 'stochrsi_60_10'] (type: <class 'list'>)
2025-09-04 14:20:45,018 - logging_config - INFO - websocket_handlers.py:813 -   resolution: 1d (type: <class 'str'>)
2025-09-04 14:20:45,018 - logging_config - INFO - websocket_handlers.py:819 - üìä SERVER TIME RANGE ANALYSIS for PAXGUSDT:
2025-09-04 14:20:45,018 - logging_config - INFO - websocket_handlers.py:820 -   Old range: from_ts=1693252138, to_ts=1820611525
2025-09-04 14:20:45,018 - logging_config - INFO - websocket_handlers.py:821 -   New range: from_ts=1618842240, to_ts=1808732160
2025-09-04 14:20:45,018 - logging_config - INFO - websocket_handlers.py:822 -   Time range changed: True
2025-09-04 14:20:45,018 - logging_config - INFO - websocket_handlers.py:823 -   Historical sent: True
2025-09-04 14:20:45,018 - logging_config - INFO - websocket_handlers.py:824 -   Has timestamps: from_ts=True, to_ts=True
2025-09-04 14:20:45,018 - logging_config - INFO - websocket_handlers.py:843 -   üìÖ SERVER RECEIVED RANGE (UTC):
2025-09-04 14:20:45,018 - logging_config - INFO - websocket_handlers.py:844 -     From: 2021-04-19 14:24:00 UTC (1618842240)
2025-09-04 14:20:45,018 - logging_config - INFO - websocket_handlers.py:845 -     To: 2027-04-26 09:36:00 UTC (1808732160)
2025-09-04 14:20:45,018 - logging_config - INFO - websocket_handlers.py:846 -     Range: 189889920 seconds (52747.2 hours)
2025-09-04 14:20:45,018 - logging_config - INFO - websocket_handlers.py:848 -   üìÖ SERVER RECEIVED RANGE (Local Time):
2025-09-04 14:20:45,018 - logging_config - INFO - websocket_handlers.py:849 -     From: 2021-04-19 16:24:00 Central Europe Summer Time
2025-09-04 14:20:45,019 - logging_config - INFO - websocket_handlers.py:850 -     To: 2027-04-26 11:36:00 Central Europe Summer Time
2025-09-04 14:20:45,019 - logging_config - INFO - websocket_handlers.py:853 -   üåç TIMEZONE ANALYSIS:
2025-09-04 14:20:45,019 - logging_config - INFO - websocket_handlers.py:854 -     Server timezone: Central Europe Summer Time (UTC+2.0)
2025-09-04 14:20:45,019 - logging_config - INFO - websocket_handlers.py:855 -     User timezone (from logs): Europe/Ljubljana (UTC+2)
2025-09-04 14:20:45,019 - logging_config - INFO - websocket_handlers.py:856 -     Timezone difference: 0.0 hours
2025-09-04 14:20:45,019 - logging_config - INFO - websocket_handlers.py:859 -   üì§ DATA TO BE SENT TO CLIENT:
2025-09-04 14:20:45,019 - logging_config - INFO - websocket_handlers.py:860 -     Timestamps will be sent as seconds (not milliseconds)
2025-09-04 14:20:45,019 - logging_config - INFO - websocket_handlers.py:861 -     Client will receive: from_ts=1618842240, to_ts=1808732160
2025-09-04 14:20:45,019 - logging_config - INFO - websocket_handlers.py:862 -     Client local time equivalent: 2021-04-19 16:24:00 to 2027-04-26 11:36:00
2025-09-04 14:20:45,019 - logging_config - INFO - websocket_handlers.py:867 -   üìä USER'S CHART VIEW STATE:
2025-09-04 14:20:45,019 - logging_config - INFO - websocket_handlers.py:868 -     X-Axis Min: 30/08/2025, 10:31:39
2025-09-04 14:20:45,019 - logging_config - INFO - websocket_handlers.py:869 -     X-Axis Max: 04/09/2025, 01:58:37
2025-09-04 14:20:45,020 - logging_config - INFO - websocket_handlers.py:870 -     Expected local time range: 2025-08-30 10:31 to 2025-09-04 01:58
2025-09-04 14:20:45,020 - logging_config - INFO - websocket_handlers.py:871 -     Server received UTC equivalent: 2021-04-19 14:24 to 2027-04-26 09:36
2025-09-04 14:20:45,020 - logging_config - INFO - websocket_handlers.py:881 - Should send historical data: 1808732160
2025-09-04 14:20:45,020 - logging_config - INFO - websocket_handlers.py:884 - Sending historical data for PAXGUSDT - time range changed: True, historical_sent: True
2025-09-04 14:20:45,020 - logging_config - INFO - websocket_handlers.py:309 - Sending historical data for PAXGUSDT with indicators: ['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4', 'stochrsi_60_10']
2025-09-04 14:20:45,020 - logging_config - INFO - websocket_handlers.py:310 - Time range: from_ts=1618842240, to_ts=1808732160, resolution=1d
2025-09-04 14:20:45,020 - logging_config - INFO - websocket_handlers.py:320 - WebSocket session email found: klemenzivkovic@gmail.com
2025-09-04 14:20:45,020 - logging_config - INFO - websocket_handlers.py:325 - Looking for drawings: symbol=PAXGUSDT, resolution=1d, email=klemenzivkovic@gmail.com
2025-09-04 14:20:45,020 - logging_config - INFO - websocket_handlers.py:330 - Redis key for drawings: drawings:klemenzivkovic@gmail.com:PAXGUSDT
2025-09-04 14:20:45,021 - logging_config - INFO - drawing_manager.py:60 - get_drawings for PAXGUSDT with resolution '1d': found 4 total, returning 4 filtered.
2025-09-04 14:20:45,021 - logging_config - INFO - websocket_handlers.py:339 - Sending 4 existing drawings for PAXGUSDT
2025-09-04 14:20:45,021 - logging_config - INFO - websocket_handlers.py:345 - Sending drawing (4) message: {'type': 'drawings', 'symbol': 'PAXGUSDT', 'data': [{'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1749504979, 'end_time': 1757034460, 'start_price': 3498.39837005988, 'end_price': 3360.406707317073, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': {'buyOnCross': False, 'sellOnCross': False, 'sendEmailOnCross': True}, 'id': '23a034a5-9e91-488c-a076-b1dc9fa49f8f'}, {'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1750519797, 'end_time': 1756969828, 'start_price': 3263.9115544910173, 'end_price': 3290.8273239708183, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': {'buyOnCross': False, 'sellOnCross': False, 'sendEmailOnCross': True}, 'id': 'baf77e17-16dc-4817-b3ea-430467fa3a06'}, {'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1742353742, 'end_time': 1759291109, 'start_price': 3597.298721036928, 'end_price': 3334.7182204260644, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': None, 'id': '30d5ab26-ece7-434c-b489-9aeeccb27e56'}, {'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1739775769, 'end_time': 1755240008, 'start_price': 3168.595862896743, 'end_price': 3270.412791705037, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': None, 'id': '56ea858d-8f15-4f9d-a3ef-249b5e232b7a'}]}
2025-09-04 14:20:45,021 - logging_config - INFO - websocket_handlers.py:347 - Successfully sent drawings message to client
2025-09-04 14:20:45,021 - logging_config - INFO - redis_utils.py:103 - Querying sorted set 'zset:kline:PAXGUSDT:1d' for range [1618842240, 1808732160]
2025-09-04 14:20:45,022 - logging_config - INFO - redis_utils.py:106 - [TIMESTAMP DEBUG] redis_utils.py - get_cached_klines query:
2025-09-04 14:20:45,022 - logging_config - INFO - redis_utils.py:107 -   start_ts: 1618842240 (type: <class 'int'>)
2025-09-04 14:20:45,022 - logging_config - INFO - redis_utils.py:108 -   end_ts: 1808732160 (type: <class 'int'>)
2025-09-04 14:20:45,022 - logging_config - INFO - redis_utils.py:115 - [TIMESTAMP DEBUG] start_ts 1618842240 appears to be in SECONDS (correct for Redis)
2025-09-04 14:20:45,022 - logging_config - INFO - redis_utils.py:120 - [TIMESTAMP DEBUG] Checking Redis data sample for comparison...
2025-09-04 14:20:45,027 - logging_config - INFO - redis_utils.py:159 - Found 1000 cached klines for PAXGUSDT 1d between 1618842240 and 1808732160
2025-09-04 14:20:45,028 - logging_config - INFO - redis_utils.py:163 - üîç DATA GAP ANALYSIS for PAXGUSDT 1d:
2025-09-04 14:20:45,028 - logging_config - INFO - redis_utils.py:164 -   Expected data points based on time range: ~2197
2025-09-04 14:20:45,028 - logging_config - INFO - redis_utils.py:165 -   Actual data points retrieved: 1000
2025-09-04 14:20:45,029 - logging_config - INFO - redis_utils.py:194 - ‚úÖ No data gaps detected - data appears continuous
2025-09-04 14:20:45,029 - logging_config - INFO - websocket_handlers.py:362 - ‚úÖ REDIS SUCCESS: Retrieved 1000 klines from Redis for PAXGUSDT
2025-09-04 14:20:45,029 - logging_config - INFO - websocket_handlers.py:398 - ‚úÖ CACHE HIT: Found 1000 klines in Redis cache for PAXGUSDT
2025-09-04 14:20:45,029 - logging_config - INFO - websocket_handlers.py:402 - Calculating indicators for PAXGUSDT: 6 indicators, 1000 klines
2025-09-04 14:20:45,031 - logging_config - INFO - redis_utils.py:265 - Found 273 cached Open Interest entries for PAXGUSDT 1d between 1618842240 and 1808732160
2025-09-04 14:20:58,156 - logging_config - INFO - utility_endpoints.py:168 - POST /settings: RAW data received from client for symbol 'PAXGUSDT': {'symbol': 'PAXGUSDT', 'resolution': '1d', 'range': '3m', 'xAxisMin': 1659897622639, 'xAxisMax': 1764831631249, 'yAxisMin': 1661.7, 'yAxisMax': 3692.3, 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'useLocalOllama': False, 'localOllamaModelName': '', 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4', 'stochrsi_60_10'], 'liveDataEnabled': False, 'showAgentTrades': False, 'streamDeltaTime': 1, 'last_selected_symbol': 'PAXGUSDT'}
2025-09-04 14:20:58,156 - logging_config - INFO - utility_endpoints.py:199 - POST /settings for PAXGUSDT and email klemenzivkovic@gmail.com: current_symbol_settings compiled for Redis save: {'resolution': '1d', 'range': '3m', 'xAxisMin': 1659897622639, 'xAxisMax': 1764831631249, 'yAxisMin': 1661.7, 'yAxisMax': 3692.3, 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4', 'stochrsi_60_10'], 'liveDataEnabled': False, 'streamDeltaTime': 1, 'useLocalOllama': False, 'localOllamaModelName': '', 'showAgentTrades': False, 'symbol': 'PAXGUSDT', 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'last_selected_symbol': 'PAXGUSDT'}
2025-09-04 14:20:58,157 - logging_config - INFO - utility_endpoints.py:201 - POST /settings for PAXGUSDT: Client sent streamDeltaTime: 1. Value to be saved in Redis for streamDeltaTime: 1
2025-09-04 14:20:58,157 - logging_config - INFO - utility_endpoints.py:204 - POST /settings for PAXGUSDT and email klemenzivkovic@gmail.com: Settings updated in Redis for PAXGUSDT: {'resolution': '1d', 'range': '3m', 'xAxisMin': 1659897622639, 'xAxisMax': 1764831631249, 'yAxisMin': 1661.7, 'yAxisMax': 3692.3, 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4', 'stochrsi_60_10'], 'liveDataEnabled': False, 'streamDeltaTime': 1, 'useLocalOllama': False, 'localOllamaModelName': '', 'showAgentTrades': False, 'symbol': 'PAXGUSDT', 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'last_selected_symbol': 'PAXGUSDT'}
2025-09-04 14:20:58,603 - logging_config - INFO - websocket_handlers.py:742 - üì® RAW MESSAGE RECEIVED for PAXGUSDT: {
  "type": "config",
  "symbol": "PAXGUSDT",
  "indicators": [
    "macd",
    "rsi",
    "stochrsi_9_3",
    "stochrsi_14_3",
    "stochrsi_40_4",
    "stochrsi_60_10"
  ],
  "resolution": "1d",
  "from_ts": 1607430618334,
  "to_ts": 1817298635554
}
2025-09-04 14:20:58,603 - logging_config - INFO - websocket_handlers.py:747 - [TIMESTAMP DEBUG] websocket_handlers.py - Received timestamps:
2025-09-04 14:20:58,603 - logging_config - INFO - websocket_handlers.py:748 -   from_ts: 1607430618334 (type: <class 'int'>)
2025-09-04 14:20:58,603 - logging_config - INFO - websocket_handlers.py:749 -   to_ts: 1817298635554 (type: <class 'int'>)
2025-09-04 14:20:58,604 - logging_config - WARNING - websocket_handlers.py:769 - [TIMESTAMP DEBUG] from_ts 1607430618334 appears to be in MILLISECONDS (should be seconds)
2025-09-04 14:20:58,604 - logging_config - INFO - websocket_handlers.py:770 -   Converting to seconds: 1607430618
2025-09-04 14:20:58,604 - logging_config - INFO - websocket_handlers.py:774 - [TIMESTAMP CONVERSION] Client milliseconds -> Server seconds:
2025-09-04 14:20:58,604 - logging_config - INFO - websocket_handlers.py:775 -   1607430618334 -> 1607430618 (2020-12-08 12:30:18 UTC)
2025-09-04 14:20:58,604 - logging_config - INFO - websocket_handlers.py:776 -   1817298635554 -> 1817298635 (2027-08-03 13:10:35 UTC)
2025-09-04 14:20:58,604 - logging_config - INFO - websocket_handlers.py:795 - [TIMESTAMP FIX] Final timestamps set:
2025-09-04 14:20:58,604 - logging_config - INFO - websocket_handlers.py:796 -   from_ts: 1607430618 (type: <class 'int'>)
2025-09-04 14:20:58,604 - logging_config - INFO - websocket_handlers.py:797 -   to_ts: 1817298635 (type: <class 'int'>)
2025-09-04 14:20:58,604 - logging_config - INFO - websocket_handlers.py:807 - Client config updated for PAXGUSDT: indicators=['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4', 'stochrsi_60_10'], resolution=1d
2025-09-04 14:20:58,604 - logging_config - INFO - websocket_handlers.py:808 - üìä MESSAGE FIELD VALUES for PAXGUSDT:
2025-09-04 14:20:58,604 - logging_config - INFO - websocket_handlers.py:809 -   symbol: PAXGUSDT (fallback: PAXGUSDT)
2025-09-04 14:20:58,604 - logging_config - INFO - websocket_handlers.py:810 -   from_ts: 1607430618334 (type: <class 'int'>)
2025-09-04 14:20:58,605 - logging_config - INFO - websocket_handlers.py:811 -   to_ts: 1817298635554 (type: <class 'int'>)
2025-09-04 14:20:58,605 - logging_config - INFO - websocket_handlers.py:812 -   indicators: ['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4', 'stochrsi_60_10'] (type: <class 'list'>)
2025-09-04 14:20:58,605 - logging_config - INFO - websocket_handlers.py:813 -   resolution: 1d (type: <class 'str'>)
2025-09-04 14:20:58,605 - logging_config - INFO - websocket_handlers.py:819 - üìä SERVER TIME RANGE ANALYSIS for PAXGUSDT:
2025-09-04 14:20:58,605 - logging_config - INFO - websocket_handlers.py:820 -   Old range: from_ts=1618842240, to_ts=1808732160
2025-09-04 14:20:58,605 - logging_config - INFO - websocket_handlers.py:821 -   New range: from_ts=1607430618, to_ts=1817298635
2025-09-04 14:20:58,605 - logging_config - INFO - websocket_handlers.py:822 -   Time range changed: True
2025-09-04 14:20:58,605 - logging_config - INFO - websocket_handlers.py:823 -   Historical sent: True
2025-09-04 14:20:58,605 - logging_config - INFO - websocket_handlers.py:824 -   Has timestamps: from_ts=True, to_ts=True
2025-09-04 14:20:58,605 - logging_config - INFO - websocket_handlers.py:843 -   üìÖ SERVER RECEIVED RANGE (UTC):
2025-09-04 14:20:58,605 - logging_config - INFO - websocket_handlers.py:844 -     From: 2020-12-08 12:30:18 UTC (1607430618)
2025-09-04 14:20:58,605 - logging_config - INFO - websocket_handlers.py:845 -     To: 2027-08-03 13:10:35 UTC (1817298635)
2025-09-04 14:20:58,605 - logging_config - INFO - websocket_handlers.py:846 -     Range: 209868017 seconds (58296.7 hours)
2025-09-04 14:20:58,605 - logging_config - INFO - websocket_handlers.py:848 -   üìÖ SERVER RECEIVED RANGE (Local Time):
2025-09-04 14:20:58,605 - logging_config - INFO - websocket_handlers.py:849 -     From: 2020-12-08 14:30:18 Central Europe Summer Time
2025-09-04 14:20:58,606 - logging_config - INFO - websocket_handlers.py:850 -     To: 2027-08-03 15:10:35 Central Europe Summer Time
2025-09-04 14:20:58,606 - logging_config - INFO - websocket_handlers.py:853 -   üåç TIMEZONE ANALYSIS:
2025-09-04 14:20:58,606 - logging_config - INFO - websocket_handlers.py:854 -     Server timezone: Central Europe Summer Time (UTC+2.0)
2025-09-04 14:20:58,606 - logging_config - INFO - websocket_handlers.py:855 -     User timezone (from logs): Europe/Ljubljana (UTC+2)
2025-09-04 14:20:58,606 - logging_config - INFO - websocket_handlers.py:856 -     Timezone difference: 0.0 hours
2025-09-04 14:20:58,606 - logging_config - INFO - websocket_handlers.py:859 -   üì§ DATA TO BE SENT TO CLIENT:
2025-09-04 14:20:58,606 - logging_config - INFO - websocket_handlers.py:860 -     Timestamps will be sent as seconds (not milliseconds)
2025-09-04 14:20:58,606 - logging_config - INFO - websocket_handlers.py:861 -     Client will receive: from_ts=1607430618, to_ts=1817298635
2025-09-04 14:20:58,606 - logging_config - INFO - websocket_handlers.py:862 -     Client local time equivalent: 2020-12-08 14:30:18 to 2027-08-03 15:10:35
2025-09-04 14:20:58,606 - logging_config - INFO - websocket_handlers.py:867 -   üìä USER'S CHART VIEW STATE:
2025-09-04 14:20:58,606 - logging_config - INFO - websocket_handlers.py:868 -     X-Axis Min: 30/08/2025, 10:31:39
2025-09-04 14:20:58,606 - logging_config - INFO - websocket_handlers.py:869 -     X-Axis Max: 04/09/2025, 01:58:37
2025-09-04 14:20:58,607 - logging_config - INFO - websocket_handlers.py:870 -     Expected local time range: 2025-08-30 10:31 to 2025-09-04 01:58
2025-09-04 14:20:58,607 - logging_config - INFO - websocket_handlers.py:871 -     Server received UTC equivalent: 2020-12-08 12:30 to 2027-08-03 13:10
2025-09-04 14:20:58,607 - logging_config - INFO - websocket_handlers.py:881 - Should send historical data: 1817298635
2025-09-04 14:20:58,607 - logging_config - INFO - websocket_handlers.py:884 - Sending historical data for PAXGUSDT - time range changed: True, historical_sent: True
2025-09-04 14:20:58,607 - logging_config - INFO - websocket_handlers.py:309 - Sending historical data for PAXGUSDT with indicators: ['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4', 'stochrsi_60_10']
2025-09-04 14:20:58,607 - logging_config - INFO - websocket_handlers.py:310 - Time range: from_ts=1607430618, to_ts=1817298635, resolution=1d
2025-09-04 14:20:58,607 - logging_config - INFO - websocket_handlers.py:320 - WebSocket session email found: klemenzivkovic@gmail.com
2025-09-04 14:20:58,608 - logging_config - INFO - websocket_handlers.py:325 - Looking for drawings: symbol=PAXGUSDT, resolution=1d, email=klemenzivkovic@gmail.com
2025-09-04 14:20:58,608 - logging_config - INFO - websocket_handlers.py:330 - Redis key for drawings: drawings:klemenzivkovic@gmail.com:PAXGUSDT
2025-09-04 14:20:58,608 - logging_config - INFO - drawing_manager.py:60 - get_drawings for PAXGUSDT with resolution '1d': found 4 total, returning 4 filtered.
2025-09-04 14:20:58,608 - logging_config - INFO - websocket_handlers.py:339 - Sending 4 existing drawings for PAXGUSDT
2025-09-04 14:20:58,609 - logging_config - INFO - websocket_handlers.py:345 - Sending drawing (4) message: {'type': 'drawings', 'symbol': 'PAXGUSDT', 'data': [{'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1749504979, 'end_time': 1757034460, 'start_price': 3498.39837005988, 'end_price': 3360.406707317073, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': {'buyOnCross': False, 'sellOnCross': False, 'sendEmailOnCross': True}, 'id': '23a034a5-9e91-488c-a076-b1dc9fa49f8f'}, {'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1750519797, 'end_time': 1756969828, 'start_price': 3263.9115544910173, 'end_price': 3290.8273239708183, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': {'buyOnCross': False, 'sellOnCross': False, 'sendEmailOnCross': True}, 'id': 'baf77e17-16dc-4817-b3ea-430467fa3a06'}, {'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1742353742, 'end_time': 1759291109, 'start_price': 3597.298721036928, 'end_price': 3334.7182204260644, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': None, 'id': '30d5ab26-ece7-434c-b489-9aeeccb27e56'}, {'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1739775769, 'end_time': 1755240008, 'start_price': 3168.595862896743, 'end_price': 3270.412791705037, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': None, 'id': '56ea858d-8f15-4f9d-a3ef-249b5e232b7a'}]}
2025-09-04 14:20:58,609 - logging_config - INFO - websocket_handlers.py:347 - Successfully sent drawings message to client
2025-09-04 14:20:58,609 - logging_config - INFO - redis_utils.py:103 - Querying sorted set 'zset:kline:PAXGUSDT:1d' for range [1607430618, 1817298635]
2025-09-04 14:20:58,609 - logging_config - INFO - redis_utils.py:106 - [TIMESTAMP DEBUG] redis_utils.py - get_cached_klines query:
2025-09-04 14:20:58,609 - logging_config - INFO - redis_utils.py:107 -   start_ts: 1607430618 (type: <class 'int'>)
2025-09-04 14:20:58,609 - logging_config - INFO - redis_utils.py:108 -   end_ts: 1817298635 (type: <class 'int'>)
2025-09-04 14:20:58,610 - logging_config - INFO - redis_utils.py:115 - [TIMESTAMP DEBUG] start_ts 1607430618 appears to be in SECONDS (correct for Redis)
2025-09-04 14:20:58,610 - logging_config - INFO - redis_utils.py:120 - [TIMESTAMP DEBUG] Checking Redis data sample for comparison...
2025-09-04 14:20:58,614 - logging_config - INFO - redis_utils.py:159 - Found 1000 cached klines for PAXGUSDT 1d between 1607430618 and 1817298635
2025-09-04 14:20:58,614 - logging_config - INFO - redis_utils.py:163 - üîç DATA GAP ANALYSIS for PAXGUSDT 1d:
2025-09-04 14:20:58,614 - logging_config - INFO - redis_utils.py:164 -   Expected data points based on time range: ~2429
2025-09-04 14:20:58,614 - logging_config - INFO - redis_utils.py:165 -   Actual data points retrieved: 1000
2025-09-04 14:20:58,615 - logging_config - INFO - redis_utils.py:194 - ‚úÖ No data gaps detected - data appears continuous
2025-09-04 14:20:58,615 - logging_config - INFO - websocket_handlers.py:362 - ‚úÖ REDIS SUCCESS: Retrieved 1000 klines from Redis for PAXGUSDT
2025-09-04 14:20:58,615 - logging_config - INFO - websocket_handlers.py:398 - ‚úÖ CACHE HIT: Found 1000 klines in Redis cache for PAXGUSDT
2025-09-04 14:20:58,615 - logging_config - INFO - websocket_handlers.py:402 - Calculating indicators for PAXGUSDT: 6 indicators, 1000 klines
2025-09-04 14:20:58,617 - logging_config - INFO - redis_utils.py:265 - Found 273 cached Open Interest entries for PAXGUSDT 1d between 1607430618 and 1817298635
2025-09-04 14:21:22,921 - logging_config - INFO - background_tasks.py:75 - üìä STARTING OPEN INTEREST: Data fetch cycle
2025-09-04 14:22:34,601 - logging_config - INFO - background_tasks.py:75 - üìä STARTING OPEN INTEREST: Data fetch cycle
2025-09-04 14:22:56,015 - logging_config - INFO - AppTradingView.py:158 - Chart page request from 192.168.1.1. Current session state: authenticated=True, email=klemenzivkovic@gmail.com
2025-09-04 14:22:56,015 - logging_config - INFO - AppTradingView.py:159 - Security debug - Headers: X-Forwarded-For=192.168.1.1, X-Real-IP=192.168.1.1, User-Agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36
2025-09-04 14:22:56,015 - logging_config - INFO - AppTradingView.py:160 - Security debug - Session ID: None, Client IP: 192.168.1.1
2025-09-04 14:22:56,016 - logging_config - INFO - AppTradingView.py:164 - Security debug - Is local test: False (client_host == '192.168.1.52')
2025-09-04 14:22:56,016 - logging_config - INFO - AppTradingView.py:180 - Email found in session for 192.168.1.1: klemenzivkovic@gmail.com
2025-09-04 14:22:56,035 - logging_config - INFO - utility_endpoints.py:282 - Log stream generator cancelled.
2025-09-04 14:22:56,094 - logging_config - ERROR - websocket_handlers.py:709 - Failed to receive WebSocket message for PAXGUSDT: (1001, '')
Traceback (most recent call last):
  File "c:\git\ai-trading-bot-2\websocket_handlers.py", line 704, in stream_combined_data_websocket_endpoint
    message = await asyncio.wait_for(websocket.receive_json(), timeout=1.0)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python312\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
           ^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\websockets.py", line 136, in receive_json
    self._raise_on_disconnect(message)
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\websockets.py", line 114, in _raise_on_disconnect
    raise WebSocketDisconnect(message["code"], message.get("reason"))
starlette.websockets.WebSocketDisconnect: (1001, '')
2025-09-04 14:22:56,232 - logging_config - INFO - utility_endpoints.py:243 - GET /get_last_symbol request received.
2025-09-04 14:22:56,233 - logging_config - INFO - utility_endpoints.py:251 - Got last selected symbol for user klemenzivkovic@gmail.com: PAXGUSDT
2025-09-04 14:22:56,293 - logging_config - INFO - AppTradingView.py:382 - Symbol chart page request for favicon.ico from 192.168.1.1. Current session state: authenticated=True, email=klemenzivkovic@gmail.com
2025-09-04 14:22:56,293 - logging_config - INFO - AppTradingView.py:383 - Security debug - Headers: X-Forwarded-For=192.168.1.1, X-Real-IP=192.168.1.1, User-Agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36
2025-09-04 14:22:56,293 - logging_config - INFO - AppTradingView.py:384 - Security debug - Session ID: None, Client IP: 192.168.1.1
2025-09-04 14:22:56,293 - logging_config - INFO - AppTradingView.py:388 - Security debug - Is local test: False (client_host == '192.168.1.52')
2025-09-04 14:22:56,293 - logging_config - INFO - AppTradingView.py:404 - Email found in session for favicon.ico request from 192.168.1.1: klemenzivkovic@gmail.com
2025-09-04 14:22:56,308 - logging_config - INFO - utility_endpoints.py:59 - DEBUG: Timestamp conversion for PAXGUSDT:
2025-09-04 14:22:56,308 - logging_config - INFO - utility_endpoints.py:60 -   Raw x_axis_min: 1659897622639, x_axis_max: 1764831631249
2025-09-04 14:22:56,308 - logging_config - INFO - utility_endpoints.py:61 -   Converted min_timestamp: 1659897622639, max_timestamp: 1764831631249
2025-09-04 14:22:56,309 - logging_config - INFO - utility_endpoints.py:62 -   Timestamp seconds: min=1659897622.639, max=1764831631.249
2025-09-04 14:22:56,309 - logging_config - INFO - utility_endpoints.py:68 -   Final dates: min=2022-08-07T18:40:22.639000+00:00, max=2025-12-04T07:00:31.249000+00:00
2025-09-04 14:22:56,309 - logging_config - INFO - utility_endpoints.py:141 - GET /settings for PAXGUSDT: Retrieved from Redis: {'resolution': '1d', 'range': '3m', 'xAxisMin': 1659897622639, 'xAxisMax': 1764831631249, 'yAxisMin': 1661.7, 'yAxisMax': 3692.3, 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4', 'stochrsi_60_10'], 'liveDataEnabled': False, 'streamDeltaTime': 1, 'useLocalOllama': False, 'localOllamaModelName': '', 'showAgentTrades': False, 'symbol': 'PAXGUSDT', 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'last_selected_symbol': 'PAXGUSDT'}
2025-09-04 14:22:56,372 - logging_config - INFO - websocket_handlers.py:271 - WebSocket connection accepted for combined data: PAXGUSDT
2025-09-04 14:22:56,377 - logging_config - INFO - websocket_handlers.py:742 - üì® RAW MESSAGE RECEIVED for PAXGUSDT: {
  "type": "config",
  "symbol": "PAXGUSDT",
  "indicators": [
    "macd",
    "rsi",
    "stochrsi_9_3",
    "stochrsi_14_3",
    "stochrsi_40_4",
    "stochrsi_60_10"
  ],
  "resolution": "1d",
  "from_ts": "2022-08-07T18:40:22.639Z",
  "to_ts": "2025-12-04T07:00:31.249Z"
}
2025-09-04 14:22:56,377 - logging_config - INFO - websocket_handlers.py:747 - [TIMESTAMP DEBUG] websocket_handlers.py - Received timestamps:
2025-09-04 14:22:56,377 - logging_config - INFO - websocket_handlers.py:748 -   from_ts: 2022-08-07T18:40:22.639Z (type: <class 'str'>)
2025-09-04 14:22:56,377 - logging_config - INFO - websocket_handlers.py:749 -   to_ts: 2025-12-04T07:00:31.249Z (type: <class 'str'>)
2025-09-04 14:22:56,377 - logging_config - INFO - websocket_handlers.py:754 - [TIMESTAMP DEBUG] Timestamps are ISO strings (correct format)
2025-09-04 14:22:56,377 - logging_config - INFO - websocket_handlers.py:761 - [TIMESTAMP CONVERSION] ISO strings -> Unix seconds:
2025-09-04 14:22:56,378 - logging_config - INFO - websocket_handlers.py:762 -   2022-08-07T18:40:22.639Z -> 1659897622 (2022-08-07 18:40:22 UTC)
2025-09-04 14:22:56,378 - logging_config - INFO - websocket_handlers.py:763 -   2025-12-04T07:00:31.249Z -> 1764831631 (2025-12-04 07:00:31 UTC)
2025-09-04 14:22:56,378 - logging_config - INFO - websocket_handlers.py:795 - [TIMESTAMP FIX] Final timestamps set:
2025-09-04 14:22:56,378 - logging_config - INFO - websocket_handlers.py:796 -   from_ts: 1659897622 (type: <class 'int'>)
2025-09-04 14:22:56,378 - logging_config - INFO - websocket_handlers.py:797 -   to_ts: 1764831631 (type: <class 'int'>)
2025-09-04 14:22:56,378 - logging_config - INFO - websocket_handlers.py:807 - Client config updated for PAXGUSDT: indicators=['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4', 'stochrsi_60_10'], resolution=1d
2025-09-04 14:22:56,378 - logging_config - INFO - websocket_handlers.py:808 - üìä MESSAGE FIELD VALUES for PAXGUSDT:
2025-09-04 14:22:56,378 - logging_config - INFO - websocket_handlers.py:809 -   symbol: PAXGUSDT (fallback: PAXGUSDT)
2025-09-04 14:22:56,378 - logging_config - INFO - websocket_handlers.py:810 -   from_ts: 2022-08-07T18:40:22.639Z (type: <class 'str'>)
2025-09-04 14:22:56,378 - logging_config - INFO - websocket_handlers.py:811 -   to_ts: 2025-12-04T07:00:31.249Z (type: <class 'str'>)
2025-09-04 14:22:56,378 - logging_config - INFO - websocket_handlers.py:812 -   indicators: ['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4', 'stochrsi_60_10'] (type: <class 'list'>)
2025-09-04 14:22:56,378 - logging_config - INFO - websocket_handlers.py:813 -   resolution: 1d (type: <class 'str'>)
2025-09-04 14:22:56,379 - logging_config - INFO - websocket_handlers.py:819 - üìä SERVER TIME RANGE ANALYSIS for PAXGUSDT:
2025-09-04 14:22:56,379 - logging_config - INFO - websocket_handlers.py:820 -   Old range: from_ts=None, to_ts=None
2025-09-04 14:22:56,379 - logging_config - INFO - websocket_handlers.py:821 -   New range: from_ts=1659897622, to_ts=1764831631
2025-09-04 14:22:56,379 - logging_config - INFO - websocket_handlers.py:822 -   Time range changed: True
2025-09-04 14:22:56,379 - logging_config - INFO - websocket_handlers.py:823 -   Historical sent: False
2025-09-04 14:22:56,379 - logging_config - INFO - websocket_handlers.py:824 -   Has timestamps: from_ts=True, to_ts=True
2025-09-04 14:22:56,379 - logging_config - INFO - websocket_handlers.py:843 -   üìÖ SERVER RECEIVED RANGE (UTC):
2025-09-04 14:22:56,379 - logging_config - INFO - websocket_handlers.py:844 -     From: 2022-08-07 18:40:22 UTC (1659897622)
2025-09-04 14:22:56,379 - logging_config - INFO - websocket_handlers.py:845 -     To: 2025-12-04 07:00:31 UTC (1764831631)
2025-09-04 14:22:56,379 - logging_config - INFO - websocket_handlers.py:846 -     Range: 104934009 seconds (29148.3 hours)
2025-09-04 14:22:56,379 - logging_config - INFO - websocket_handlers.py:848 -   üìÖ SERVER RECEIVED RANGE (Local Time):
2025-09-04 14:22:56,379 - logging_config - INFO - websocket_handlers.py:849 -     From: 2022-08-07 20:40:22 Central Europe Summer Time
2025-09-04 14:22:56,379 - logging_config - INFO - websocket_handlers.py:850 -     To: 2025-12-04 09:00:31 Central Europe Summer Time
2025-09-04 14:22:56,379 - logging_config - INFO - websocket_handlers.py:853 -   üåç TIMEZONE ANALYSIS:
2025-09-04 14:22:56,379 - logging_config - INFO - websocket_handlers.py:854 -     Server timezone: Central Europe Summer Time (UTC+2.0)
2025-09-04 14:22:56,379 - logging_config - INFO - websocket_handlers.py:855 -     User timezone (from logs): Europe/Ljubljana (UTC+2)
2025-09-04 14:22:56,381 - logging_config - INFO - websocket_handlers.py:856 -     Timezone difference: 0.0 hours
2025-09-04 14:22:56,381 - logging_config - INFO - websocket_handlers.py:859 -   üì§ DATA TO BE SENT TO CLIENT:
2025-09-04 14:22:56,381 - logging_config - INFO - websocket_handlers.py:860 -     Timestamps will be sent as seconds (not milliseconds)
2025-09-04 14:22:56,381 - logging_config - INFO - websocket_handlers.py:861 -     Client will receive: from_ts=1659897622, to_ts=1764831631
2025-09-04 14:22:56,381 - logging_config - INFO - websocket_handlers.py:862 -     Client local time equivalent: 2022-08-07 20:40:22 to 2025-12-04 09:00:31
2025-09-04 14:22:56,381 - logging_config - INFO - websocket_handlers.py:867 -   üìä USER'S CHART VIEW STATE:
2025-09-04 14:22:56,381 - logging_config - INFO - websocket_handlers.py:868 -     X-Axis Min: 30/08/2025, 10:31:39
2025-09-04 14:22:56,381 - logging_config - INFO - websocket_handlers.py:869 -     X-Axis Max: 04/09/2025, 01:58:37
2025-09-04 14:22:56,381 - logging_config - INFO - websocket_handlers.py:870 -     Expected local time range: 2025-08-30 10:31 to 2025-09-04 01:58
2025-09-04 14:22:56,381 - logging_config - INFO - websocket_handlers.py:871 -     Server received UTC equivalent: 2022-08-07 18:40 to 2025-12-04 07:00
2025-09-04 14:22:56,381 - logging_config - INFO - websocket_handlers.py:881 - Should send historical data: 1764831631
2025-09-04 14:22:56,381 - logging_config - INFO - websocket_handlers.py:884 - Sending historical data for PAXGUSDT - time range changed: True, historical_sent: False
2025-09-04 14:22:56,381 - logging_config - INFO - websocket_handlers.py:309 - Sending historical data for PAXGUSDT with indicators: ['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4', 'stochrsi_60_10']
2025-09-04 14:22:56,382 - logging_config - INFO - websocket_handlers.py:310 - Time range: from_ts=1659897622, to_ts=1764831631, resolution=1d
2025-09-04 14:22:56,382 - logging_config - INFO - websocket_handlers.py:320 - WebSocket session email found: klemenzivkovic@gmail.com
2025-09-04 14:22:56,382 - logging_config - INFO - websocket_handlers.py:325 - Looking for drawings: symbol=PAXGUSDT, resolution=1d, email=klemenzivkovic@gmail.com
2025-09-04 14:22:56,382 - logging_config - INFO - websocket_handlers.py:330 - Redis key for drawings: drawings:klemenzivkovic@gmail.com:PAXGUSDT
2025-09-04 14:22:56,383 - logging_config - INFO - drawing_manager.py:60 - get_drawings for PAXGUSDT with resolution '1d': found 4 total, returning 4 filtered.
2025-09-04 14:22:56,383 - logging_config - INFO - websocket_handlers.py:339 - Sending 4 existing drawings for PAXGUSDT
2025-09-04 14:22:56,383 - logging_config - INFO - websocket_handlers.py:345 - Sending drawing (4) message: {'type': 'drawings', 'symbol': 'PAXGUSDT', 'data': [{'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1749504979, 'end_time': 1757034460, 'start_price': 3498.39837005988, 'end_price': 3360.406707317073, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': {'buyOnCross': False, 'sellOnCross': False, 'sendEmailOnCross': True}, 'id': '23a034a5-9e91-488c-a076-b1dc9fa49f8f'}, {'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1750519797, 'end_time': 1756969828, 'start_price': 3263.9115544910173, 'end_price': 3290.8273239708183, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': {'buyOnCross': False, 'sellOnCross': False, 'sendEmailOnCross': True}, 'id': 'baf77e17-16dc-4817-b3ea-430467fa3a06'}, {'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1742353742, 'end_time': 1759291109, 'start_price': 3597.298721036928, 'end_price': 3334.7182204260644, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': None, 'id': '30d5ab26-ece7-434c-b489-9aeeccb27e56'}, {'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1739775769, 'end_time': 1755240008, 'start_price': 3168.595862896743, 'end_price': 3270.412791705037, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': None, 'id': '56ea858d-8f15-4f9d-a3ef-249b5e232b7a'}]}
2025-09-04 14:22:56,383 - logging_config - INFO - websocket_handlers.py:347 - Successfully sent drawings message to client
2025-09-04 14:22:56,383 - logging_config - INFO - redis_utils.py:103 - Querying sorted set 'zset:kline:PAXGUSDT:1d' for range [1659897622, 1764831631]
2025-09-04 14:22:56,383 - logging_config - INFO - redis_utils.py:106 - [TIMESTAMP DEBUG] redis_utils.py - get_cached_klines query:
2025-09-04 14:22:56,384 - logging_config - INFO - redis_utils.py:107 -   start_ts: 1659897622 (type: <class 'int'>)
2025-09-04 14:22:56,384 - logging_config - INFO - redis_utils.py:108 -   end_ts: 1764831631 (type: <class 'int'>)
2025-09-04 14:22:56,384 - logging_config - INFO - redis_utils.py:115 - [TIMESTAMP DEBUG] start_ts 1659897622 appears to be in SECONDS (correct for Redis)
2025-09-04 14:22:56,384 - logging_config - INFO - redis_utils.py:120 - [TIMESTAMP DEBUG] Checking Redis data sample for comparison...
2025-09-04 14:22:56,388 - logging_config - INFO - redis_utils.py:159 - Found 1000 cached klines for PAXGUSDT 1d between 1659897622 and 1764831631
2025-09-04 14:22:56,388 - logging_config - INFO - redis_utils.py:163 - üîç DATA GAP ANALYSIS for PAXGUSDT 1d:
2025-09-04 14:22:56,388 - logging_config - INFO - redis_utils.py:164 -   Expected data points based on time range: ~1214
2025-09-04 14:22:56,388 - logging_config - INFO - redis_utils.py:165 -   Actual data points retrieved: 1000
2025-09-04 14:22:56,389 - logging_config - INFO - redis_utils.py:194 - ‚úÖ No data gaps detected - data appears continuous
2025-09-04 14:22:56,389 - logging_config - INFO - websocket_handlers.py:362 - ‚úÖ REDIS SUCCESS: Retrieved 1000 klines from Redis for PAXGUSDT
2025-09-04 14:22:56,389 - logging_config - INFO - websocket_handlers.py:398 - ‚úÖ CACHE HIT: Found 1000 klines in Redis cache for PAXGUSDT
2025-09-04 14:22:56,389 - logging_config - INFO - websocket_handlers.py:402 - Calculating indicators for PAXGUSDT: 6 indicators, 1000 klines
2025-09-04 14:22:56,391 - logging_config - INFO - redis_utils.py:265 - Found 273 cached Open Interest entries for PAXGUSDT 1d between 1659897622 and 1764831631
2025-09-04 14:23:16,963 - logging_config - INFO - AppTradingView.py:158 - Chart page request from 192.168.1.1. Current session state: authenticated=True, email=klemenzivkovic@gmail.com
2025-09-04 14:23:16,963 - logging_config - INFO - AppTradingView.py:159 - Security debug - Headers: X-Forwarded-For=192.168.1.1, X-Real-IP=192.168.1.1, User-Agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36
2025-09-04 14:23:16,963 - logging_config - INFO - AppTradingView.py:160 - Security debug - Session ID: None, Client IP: 192.168.1.1
2025-09-04 14:23:16,963 - logging_config - INFO - AppTradingView.py:164 - Security debug - Is local test: False (client_host == '192.168.1.52')
2025-09-04 14:23:16,963 - logging_config - INFO - AppTradingView.py:180 - Email found in session for 192.168.1.1: klemenzivkovic@gmail.com
2025-09-04 14:23:16,973 - logging_config - INFO - utility_endpoints.py:282 - Log stream generator cancelled.
2025-09-04 14:23:16,973 - logging_config - ERROR - websocket_handlers.py:709 - Failed to receive WebSocket message for PAXGUSDT: (1001, '')
Traceback (most recent call last):
  File "c:\git\ai-trading-bot-2\websocket_handlers.py", line 704, in stream_combined_data_websocket_endpoint
    message = await asyncio.wait_for(websocket.receive_json(), timeout=1.0)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python312\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
           ^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\websockets.py", line 136, in receive_json
    self._raise_on_disconnect(message)
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\websockets.py", line 114, in _raise_on_disconnect
    raise WebSocketDisconnect(message["code"], message.get("reason"))
starlette.websockets.WebSocketDisconnect: (1001, '')
2025-09-04 14:23:17,054 - logging_config - INFO - utility_endpoints.py:243 - GET /get_last_symbol request received.
2025-09-04 14:23:17,054 - logging_config - INFO - utility_endpoints.py:251 - Got last selected symbol for user klemenzivkovic@gmail.com: PAXGUSDT
2025-09-04 14:23:17,083 - logging_config - INFO - AppTradingView.py:382 - Symbol chart page request for favicon.ico from 192.168.1.1. Current session state: authenticated=True, email=klemenzivkovic@gmail.com
2025-09-04 14:23:17,083 - logging_config - INFO - AppTradingView.py:383 - Security debug - Headers: X-Forwarded-For=192.168.1.1, X-Real-IP=192.168.1.1, User-Agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36
2025-09-04 14:23:17,083 - logging_config - INFO - AppTradingView.py:384 - Security debug - Session ID: None, Client IP: 192.168.1.1
2025-09-04 14:23:17,083 - logging_config - INFO - AppTradingView.py:388 - Security debug - Is local test: False (client_host == '192.168.1.52')
2025-09-04 14:23:17,083 - logging_config - INFO - AppTradingView.py:404 - Email found in session for favicon.ico request from 192.168.1.1: klemenzivkovic@gmail.com
2025-09-04 14:23:17,112 - logging_config - INFO - utility_endpoints.py:59 - DEBUG: Timestamp conversion for PAXGUSDT:
2025-09-04 14:23:17,112 - logging_config - INFO - utility_endpoints.py:60 -   Raw x_axis_min: 1659897622639, x_axis_max: 1764831631249
2025-09-04 14:23:17,112 - logging_config - INFO - utility_endpoints.py:61 -   Converted min_timestamp: 1659897622639, max_timestamp: 1764831631249
2025-09-04 14:23:17,112 - logging_config - INFO - utility_endpoints.py:62 -   Timestamp seconds: min=1659897622.639, max=1764831631.249
2025-09-04 14:23:17,112 - logging_config - INFO - utility_endpoints.py:68 -   Final dates: min=2022-08-07T18:40:22.639000+00:00, max=2025-12-04T07:00:31.249000+00:00
2025-09-04 14:23:17,113 - logging_config - INFO - utility_endpoints.py:141 - GET /settings for PAXGUSDT: Retrieved from Redis: {'resolution': '1d', 'range': '3m', 'xAxisMin': 1659897622639, 'xAxisMax': 1764831631249, 'yAxisMin': 1661.7, 'yAxisMax': 3692.3, 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4', 'stochrsi_60_10'], 'liveDataEnabled': False, 'streamDeltaTime': 1, 'useLocalOllama': False, 'localOllamaModelName': '', 'showAgentTrades': False, 'symbol': 'PAXGUSDT', 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'last_selected_symbol': 'PAXGUSDT'}
2025-09-04 14:23:17,204 - logging_config - INFO - websocket_handlers.py:271 - WebSocket connection accepted for combined data: PAXGUSDT
2025-09-04 14:23:17,210 - logging_config - INFO - websocket_handlers.py:742 - üì® RAW MESSAGE RECEIVED for PAXGUSDT: {
  "type": "config",
  "symbol": "PAXGUSDT",
  "indicators": [
    "macd",
    "rsi",
    "stochrsi_9_3",
    "stochrsi_14_3",
    "stochrsi_40_4",
    "stochrsi_60_10"
  ],
  "resolution": "1d",
  "from_ts": "2022-08-07T18:40:22.639Z",
  "to_ts": "2025-12-04T07:00:31.249Z"
}
2025-09-04 14:23:17,211 - logging_config - INFO - websocket_handlers.py:747 - [TIMESTAMP DEBUG] websocket_handlers.py - Received timestamps:
2025-09-04 14:23:17,211 - logging_config - INFO - websocket_handlers.py:748 -   from_ts: 2022-08-07T18:40:22.639Z (type: <class 'str'>)
2025-09-04 14:23:17,211 - logging_config - INFO - websocket_handlers.py:749 -   to_ts: 2025-12-04T07:00:31.249Z (type: <class 'str'>)
2025-09-04 14:23:17,211 - logging_config - INFO - websocket_handlers.py:754 - [TIMESTAMP DEBUG] Timestamps are ISO strings (correct format)
2025-09-04 14:23:17,211 - logging_config - INFO - websocket_handlers.py:761 - [TIMESTAMP CONVERSION] ISO strings -> Unix seconds:
2025-09-04 14:23:17,211 - logging_config - INFO - websocket_handlers.py:762 -   2022-08-07T18:40:22.639Z -> 1659897622 (2022-08-07 18:40:22 UTC)
2025-09-04 14:23:17,211 - logging_config - INFO - websocket_handlers.py:763 -   2025-12-04T07:00:31.249Z -> 1764831631 (2025-12-04 07:00:31 UTC)
2025-09-04 14:23:17,211 - logging_config - INFO - websocket_handlers.py:795 - [TIMESTAMP FIX] Final timestamps set:
2025-09-04 14:23:17,211 - logging_config - INFO - websocket_handlers.py:796 -   from_ts: 1659897622 (type: <class 'int'>)
2025-09-04 14:23:17,211 - logging_config - INFO - websocket_handlers.py:797 -   to_ts: 1764831631 (type: <class 'int'>)
2025-09-04 14:23:17,211 - logging_config - INFO - websocket_handlers.py:807 - Client config updated for PAXGUSDT: indicators=['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4', 'stochrsi_60_10'], resolution=1d
2025-09-04 14:23:17,211 - logging_config - INFO - websocket_handlers.py:808 - üìä MESSAGE FIELD VALUES for PAXGUSDT:
2025-09-04 14:23:17,211 - logging_config - INFO - websocket_handlers.py:809 -   symbol: PAXGUSDT (fallback: PAXGUSDT)
2025-09-04 14:23:17,211 - logging_config - INFO - websocket_handlers.py:810 -   from_ts: 2022-08-07T18:40:22.639Z (type: <class 'str'>)
2025-09-04 14:23:17,212 - logging_config - INFO - websocket_handlers.py:811 -   to_ts: 2025-12-04T07:00:31.249Z (type: <class 'str'>)
2025-09-04 14:23:17,212 - logging_config - INFO - websocket_handlers.py:812 -   indicators: ['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4', 'stochrsi_60_10'] (type: <class 'list'>)
2025-09-04 14:23:17,212 - logging_config - INFO - websocket_handlers.py:813 -   resolution: 1d (type: <class 'str'>)
2025-09-04 14:23:17,212 - logging_config - INFO - websocket_handlers.py:819 - üìä SERVER TIME RANGE ANALYSIS for PAXGUSDT:
2025-09-04 14:23:17,212 - logging_config - INFO - websocket_handlers.py:820 -   Old range: from_ts=None, to_ts=None
2025-09-04 14:23:17,212 - logging_config - INFO - websocket_handlers.py:821 -   New range: from_ts=1659897622, to_ts=1764831631
2025-09-04 14:23:17,212 - logging_config - INFO - websocket_handlers.py:822 -   Time range changed: True
2025-09-04 14:23:17,212 - logging_config - INFO - websocket_handlers.py:823 -   Historical sent: False
2025-09-04 14:23:17,212 - logging_config - INFO - websocket_handlers.py:824 -   Has timestamps: from_ts=True, to_ts=True
2025-09-04 14:23:17,212 - logging_config - INFO - websocket_handlers.py:843 -   üìÖ SERVER RECEIVED RANGE (UTC):
2025-09-04 14:23:17,212 - logging_config - INFO - websocket_handlers.py:844 -     From: 2022-08-07 18:40:22 UTC (1659897622)
2025-09-04 14:23:17,213 - logging_config - INFO - websocket_handlers.py:845 -     To: 2025-12-04 07:00:31 UTC (1764831631)
2025-09-04 14:23:17,213 - logging_config - INFO - websocket_handlers.py:846 -     Range: 104934009 seconds (29148.3 hours)
2025-09-04 14:23:17,213 - logging_config - INFO - websocket_handlers.py:848 -   üìÖ SERVER RECEIVED RANGE (Local Time):
2025-09-04 14:23:17,213 - logging_config - INFO - websocket_handlers.py:849 -     From: 2022-08-07 20:40:22 Central Europe Summer Time
2025-09-04 14:23:17,213 - logging_config - INFO - websocket_handlers.py:850 -     To: 2025-12-04 09:00:31 Central Europe Summer Time
2025-09-04 14:23:17,213 - logging_config - INFO - websocket_handlers.py:853 -   üåç TIMEZONE ANALYSIS:
2025-09-04 14:23:17,213 - logging_config - INFO - websocket_handlers.py:854 -     Server timezone: Central Europe Summer Time (UTC+2.0)
2025-09-04 14:23:17,213 - logging_config - INFO - websocket_handlers.py:855 -     User timezone (from logs): Europe/Ljubljana (UTC+2)
2025-09-04 14:23:17,213 - logging_config - INFO - websocket_handlers.py:856 -     Timezone difference: 0.0 hours
2025-09-04 14:23:17,213 - logging_config - INFO - websocket_handlers.py:859 -   üì§ DATA TO BE SENT TO CLIENT:
2025-09-04 14:23:17,213 - logging_config - INFO - websocket_handlers.py:860 -     Timestamps will be sent as seconds (not milliseconds)
2025-09-04 14:23:17,213 - logging_config - INFO - websocket_handlers.py:861 -     Client will receive: from_ts=1659897622, to_ts=1764831631
2025-09-04 14:23:17,213 - logging_config - INFO - websocket_handlers.py:862 -     Client local time equivalent: 2022-08-07 20:40:22 to 2025-12-04 09:00:31
2025-09-04 14:23:17,213 - logging_config - INFO - websocket_handlers.py:867 -   üìä USER'S CHART VIEW STATE:
2025-09-04 14:23:17,213 - logging_config - INFO - websocket_handlers.py:868 -     X-Axis Min: 30/08/2025, 10:31:39
2025-09-04 14:23:17,213 - logging_config - INFO - websocket_handlers.py:869 -     X-Axis Max: 04/09/2025, 01:58:37
2025-09-04 14:23:17,214 - logging_config - INFO - websocket_handlers.py:870 -     Expected local time range: 2025-08-30 10:31 to 2025-09-04 01:58
2025-09-04 14:23:17,214 - logging_config - INFO - websocket_handlers.py:871 -     Server received UTC equivalent: 2022-08-07 18:40 to 2025-12-04 07:00
2025-09-04 14:23:17,214 - logging_config - INFO - websocket_handlers.py:881 - Should send historical data: 1764831631
2025-09-04 14:23:17,214 - logging_config - INFO - websocket_handlers.py:884 - Sending historical data for PAXGUSDT - time range changed: True, historical_sent: False
2025-09-04 14:23:17,214 - logging_config - INFO - websocket_handlers.py:309 - Sending historical data for PAXGUSDT with indicators: ['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4', 'stochrsi_60_10']
2025-09-04 14:23:17,214 - logging_config - INFO - websocket_handlers.py:310 - Time range: from_ts=1659897622, to_ts=1764831631, resolution=1d
2025-09-04 14:23:17,214 - logging_config - INFO - websocket_handlers.py:320 - WebSocket session email found: klemenzivkovic@gmail.com
2025-09-04 14:23:17,214 - logging_config - INFO - websocket_handlers.py:325 - Looking for drawings: symbol=PAXGUSDT, resolution=1d, email=klemenzivkovic@gmail.com
2025-09-04 14:23:17,214 - logging_config - INFO - websocket_handlers.py:330 - Redis key for drawings: drawings:klemenzivkovic@gmail.com:PAXGUSDT
2025-09-04 14:23:17,214 - logging_config - INFO - drawing_manager.py:60 - get_drawings for PAXGUSDT with resolution '1d': found 4 total, returning 4 filtered.
2025-09-04 14:23:17,215 - logging_config - INFO - websocket_handlers.py:339 - Sending 4 existing drawings for PAXGUSDT
2025-09-04 14:23:17,215 - logging_config - INFO - websocket_handlers.py:345 - Sending drawing (4) message: {'type': 'drawings', 'symbol': 'PAXGUSDT', 'data': [{'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1749504979, 'end_time': 1757034460, 'start_price': 3498.39837005988, 'end_price': 3360.406707317073, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': {'buyOnCross': False, 'sellOnCross': False, 'sendEmailOnCross': True}, 'id': '23a034a5-9e91-488c-a076-b1dc9fa49f8f'}, {'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1750519797, 'end_time': 1756969828, 'start_price': 3263.9115544910173, 'end_price': 3290.8273239708183, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': {'buyOnCross': False, 'sellOnCross': False, 'sendEmailOnCross': True}, 'id': 'baf77e17-16dc-4817-b3ea-430467fa3a06'}, {'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1742353742, 'end_time': 1759291109, 'start_price': 3597.298721036928, 'end_price': 3334.7182204260644, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': None, 'id': '30d5ab26-ece7-434c-b489-9aeeccb27e56'}, {'symbol': 'PAXGUSDT', 'type': 'line', 'start_time': 1739775769, 'end_time': 1755240008, 'start_price': 3168.595862896743, 'end_price': 3270.412791705037, 'subplot_name': 'PAXGUSDT', 'resolution': '1d', 'properties': None, 'id': '56ea858d-8f15-4f9d-a3ef-249b5e232b7a'}]}
2025-09-04 14:23:17,215 - logging_config - INFO - websocket_handlers.py:347 - Successfully sent drawings message to client
2025-09-04 14:23:17,215 - logging_config - INFO - redis_utils.py:103 - Querying sorted set 'zset:kline:PAXGUSDT:1d' for range [1659897622, 1764831631]
2025-09-04 14:23:17,215 - logging_config - INFO - redis_utils.py:106 - [TIMESTAMP DEBUG] redis_utils.py - get_cached_klines query:
2025-09-04 14:23:17,215 - logging_config - INFO - redis_utils.py:107 -   start_ts: 1659897622 (type: <class 'int'>)
2025-09-04 14:23:17,215 - logging_config - INFO - redis_utils.py:108 -   end_ts: 1764831631 (type: <class 'int'>)
2025-09-04 14:23:17,215 - logging_config - INFO - redis_utils.py:115 - [TIMESTAMP DEBUG] start_ts 1659897622 appears to be in SECONDS (correct for Redis)
2025-09-04 14:23:17,215 - logging_config - INFO - redis_utils.py:120 - [TIMESTAMP DEBUG] Checking Redis data sample for comparison...
2025-09-04 14:23:17,219 - logging_config - INFO - redis_utils.py:159 - Found 1000 cached klines for PAXGUSDT 1d between 1659897622 and 1764831631
2025-09-04 14:23:17,219 - logging_config - INFO - redis_utils.py:163 - üîç DATA GAP ANALYSIS for PAXGUSDT 1d:
2025-09-04 14:23:17,219 - logging_config - INFO - redis_utils.py:164 -   Expected data points based on time range: ~1214
2025-09-04 14:23:17,219 - logging_config - INFO - redis_utils.py:165 -   Actual data points retrieved: 1000
2025-09-04 14:23:17,219 - logging_config - INFO - redis_utils.py:194 - ‚úÖ No data gaps detected - data appears continuous
2025-09-04 14:23:17,221 - logging_config - INFO - websocket_handlers.py:362 - ‚úÖ REDIS SUCCESS: Retrieved 1000 klines from Redis for PAXGUSDT
2025-09-04 14:23:17,221 - logging_config - INFO - websocket_handlers.py:398 - ‚úÖ CACHE HIT: Found 1000 klines in Redis cache for PAXGUSDT
2025-09-04 14:23:17,221 - logging_config - INFO - websocket_handlers.py:402 - Calculating indicators for PAXGUSDT: 6 indicators, 1000 klines
2025-09-04 14:23:17,222 - logging_config - INFO - redis_utils.py:265 - Found 273 cached Open Interest entries for PAXGUSDT 1d between 1659897622 and 1764831631
2025-09-04 14:23:46,117 - logging_config - INFO - background_tasks.py:75 - üìä STARTING OPEN INTEREST: Data fetch cycle
2025-09-04 14:24:36,876 - logging_config - INFO - utility_endpoints.py:282 - Log stream generator cancelled.
2025-09-04 14:24:43,416 - logging_config - INFO - utility_endpoints.py:221 - POST /set_last_symbol/BTCUSDT request received.
2025-09-04 14:24:43,417 - logging_config - INFO - utility_endpoints.py:232 - Set last selected symbol for user klemenzivkovic@gmail.com to BTCUSDT
2025-09-04 14:24:43,417 - logging_config - INFO - utility_endpoints.py:59 - DEBUG: Timestamp conversion for BTCUSDT:
2025-09-04 14:24:43,417 - logging_config - INFO - utility_endpoints.py:60 -   Raw x_axis_min: 1749211812623, x_axis_max: 1756987812623
2025-09-04 14:24:43,417 - logging_config - INFO - utility_endpoints.py:61 -   Converted min_timestamp: 1749211812623, max_timestamp: 1756987812623
2025-09-04 14:24:43,417 - logging_config - INFO - utility_endpoints.py:62 -   Timestamp seconds: min=1749211812.623, max=1756987812.623
2025-09-04 14:24:43,417 - logging_config - INFO - utility_endpoints.py:68 -   Final dates: min=2025-06-06T12:10:12.623000+00:00, max=2025-09-04T12:10:12.623000+00:00
2025-09-04 14:24:43,417 - logging_config - INFO - utility_endpoints.py:141 - GET /settings for BTCUSDT: Retrieved from Redis: {'resolution': '1d', 'range': '3m', 'xAxisMin': 1749211812623, 'xAxisMax': 1756987812623, 'yAxisMin': None, 'yAxisMax': None, 'activeIndicators': [], 'liveDataEnabled': False, 'streamDeltaTime': 1, 'useLocalOllama': False, 'localOllamaModelName': '', 'showAgentTrades': False, 'symbol': 'BTCUSDT', 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'last_selected_symbol': 'BTCUSDT'}
2025-09-04 14:24:43,422 - logging_config - INFO - AppTradingView.py:382 - Symbol chart page request for favicon.ico from 192.168.1.1. Current session state: authenticated=True, email=klemenzivkovic@gmail.com
2025-09-04 14:24:43,422 - logging_config - INFO - AppTradingView.py:383 - Security debug - Headers: X-Forwarded-For=192.168.1.1, X-Real-IP=192.168.1.1, User-Agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36
2025-09-04 14:24:43,422 - logging_config - INFO - AppTradingView.py:384 - Security debug - Session ID: None, Client IP: 192.168.1.1
2025-09-04 14:24:43,422 - logging_config - INFO - AppTradingView.py:388 - Security debug - Is local test: False (client_host == '192.168.1.52')
2025-09-04 14:24:43,422 - logging_config - INFO - AppTradingView.py:404 - Email found in session for favicon.ico request from 192.168.1.1: klemenzivkovic@gmail.com
2025-09-04 14:24:43,430 - logging_config - ERROR - websocket_handlers.py:709 - Failed to receive WebSocket message for PAXGUSDT: (1000, 'Switching to new symbol')
Traceback (most recent call last):
  File "c:\git\ai-trading-bot-2\websocket_handlers.py", line 704, in stream_combined_data_websocket_endpoint
    message = await asyncio.wait_for(websocket.receive_json(), timeout=1.0)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python312\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
           ^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\websockets.py", line 136, in receive_json
    self._raise_on_disconnect(message)
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\websockets.py", line 114, in _raise_on_disconnect
    raise WebSocketDisconnect(message["code"], message.get("reason"))
starlette.websockets.WebSocketDisconnect: (1000, 'Switching to new symbol')
2025-09-04 14:24:43,439 - logging_config - INFO - websocket_handlers.py:271 - WebSocket connection accepted for combined data: BTCUSDT
2025-09-04 14:24:43,443 - logging_config - INFO - websocket_handlers.py:742 - üì® RAW MESSAGE RECEIVED for BTCUSDT: {
  "type": "config",
  "symbol": "BTCUSDT",
  "indicators": [],
  "resolution": "1d",
  "from_ts": "2025-06-06T12:10:12.623Z",
  "to_ts": "2025-09-04T12:10:12.623Z"
}
2025-09-04 14:24:43,444 - logging_config - INFO - websocket_handlers.py:747 - [TIMESTAMP DEBUG] websocket_handlers.py - Received timestamps:
2025-09-04 14:24:43,444 - logging_config - INFO - websocket_handlers.py:748 -   from_ts: 2025-06-06T12:10:12.623Z (type: <class 'str'>)
2025-09-04 14:24:43,444 - logging_config - INFO - websocket_handlers.py:749 -   to_ts: 2025-09-04T12:10:12.623Z (type: <class 'str'>)
2025-09-04 14:24:43,444 - logging_config - INFO - websocket_handlers.py:754 - [TIMESTAMP DEBUG] Timestamps are ISO strings (correct format)
2025-09-04 14:24:43,444 - logging_config - INFO - websocket_handlers.py:761 - [TIMESTAMP CONVERSION] ISO strings -> Unix seconds:
2025-09-04 14:24:43,444 - logging_config - INFO - websocket_handlers.py:762 -   2025-06-06T12:10:12.623Z -> 1749211812 (2025-06-06 12:10:12 UTC)
2025-09-04 14:24:43,444 - logging_config - INFO - websocket_handlers.py:763 -   2025-09-04T12:10:12.623Z -> 1756987812 (2025-09-04 12:10:12 UTC)
2025-09-04 14:24:43,444 - logging_config - INFO - websocket_handlers.py:795 - [TIMESTAMP FIX] Final timestamps set:
2025-09-04 14:24:43,445 - logging_config - INFO - websocket_handlers.py:796 -   from_ts: 1749211812 (type: <class 'int'>)
2025-09-04 14:24:43,445 - logging_config - INFO - websocket_handlers.py:797 -   to_ts: 1756987812 (type: <class 'int'>)
2025-09-04 14:24:43,445 - logging_config - INFO - websocket_handlers.py:807 - Client config updated for BTCUSDT: indicators=[], resolution=1d
2025-09-04 14:24:43,445 - logging_config - INFO - websocket_handlers.py:808 - üìä MESSAGE FIELD VALUES for BTCUSDT:
2025-09-04 14:24:43,445 - logging_config - INFO - websocket_handlers.py:809 -   symbol: BTCUSDT (fallback: BTCUSDT)
2025-09-04 14:24:43,445 - logging_config - INFO - websocket_handlers.py:810 -   from_ts: 2025-06-06T12:10:12.623Z (type: <class 'str'>)
2025-09-04 14:24:43,445 - logging_config - INFO - websocket_handlers.py:811 -   to_ts: 2025-09-04T12:10:12.623Z (type: <class 'str'>)
2025-09-04 14:24:43,445 - logging_config - INFO - websocket_handlers.py:812 -   indicators: [] (type: <class 'list'>)
2025-09-04 14:24:43,446 - logging_config - INFO - websocket_handlers.py:813 -   resolution: 1d (type: <class 'str'>)
2025-09-04 14:24:43,446 - logging_config - INFO - websocket_handlers.py:819 - üìä SERVER TIME RANGE ANALYSIS for BTCUSDT:
2025-09-04 14:24:43,446 - logging_config - INFO - websocket_handlers.py:820 -   Old range: from_ts=None, to_ts=None
2025-09-04 14:24:43,446 - logging_config - INFO - websocket_handlers.py:821 -   New range: from_ts=1749211812, to_ts=1756987812
2025-09-04 14:24:43,446 - logging_config - INFO - websocket_handlers.py:822 -   Time range changed: True
2025-09-04 14:24:43,446 - logging_config - INFO - websocket_handlers.py:823 -   Historical sent: False
2025-09-04 14:24:43,446 - logging_config - INFO - websocket_handlers.py:824 -   Has timestamps: from_ts=True, to_ts=True
2025-09-04 14:24:43,446 - logging_config - INFO - websocket_handlers.py:843 -   üìÖ SERVER RECEIVED RANGE (UTC):
2025-09-04 14:24:43,446 - logging_config - INFO - websocket_handlers.py:844 -     From: 2025-06-06 12:10:12 UTC (1749211812)
2025-09-04 14:24:43,446 - logging_config - INFO - websocket_handlers.py:845 -     To: 2025-09-04 12:10:12 UTC (1756987812)
2025-09-04 14:24:43,446 - logging_config - INFO - websocket_handlers.py:846 -     Range: 7776000 seconds (2160.0 hours)
2025-09-04 14:24:43,446 - logging_config - INFO - websocket_handlers.py:848 -   üìÖ SERVER RECEIVED RANGE (Local Time):
2025-09-04 14:24:43,446 - logging_config - INFO - websocket_handlers.py:849 -     From: 2025-06-06 14:10:12 Central Europe Summer Time
2025-09-04 14:24:43,446 - logging_config - INFO - websocket_handlers.py:850 -     To: 2025-09-04 14:10:12 Central Europe Summer Time
2025-09-04 14:24:43,446 - logging_config - INFO - websocket_handlers.py:853 -   üåç TIMEZONE ANALYSIS:
2025-09-04 14:24:43,447 - logging_config - INFO - websocket_handlers.py:854 -     Server timezone: Central Europe Summer Time (UTC+2.0)
2025-09-04 14:24:43,447 - logging_config - INFO - websocket_handlers.py:855 -     User timezone (from logs): Europe/Ljubljana (UTC+2)
2025-09-04 14:24:43,447 - logging_config - INFO - websocket_handlers.py:856 -     Timezone difference: 0.0 hours
2025-09-04 14:24:43,447 - logging_config - INFO - websocket_handlers.py:859 -   üì§ DATA TO BE SENT TO CLIENT:
2025-09-04 14:24:43,447 - logging_config - INFO - websocket_handlers.py:860 -     Timestamps will be sent as seconds (not milliseconds)
2025-09-04 14:24:43,447 - logging_config - INFO - websocket_handlers.py:861 -     Client will receive: from_ts=1749211812, to_ts=1756987812
2025-09-04 14:24:43,447 - logging_config - INFO - websocket_handlers.py:862 -     Client local time equivalent: 2025-06-06 14:10:12 to 2025-09-04 14:10:12
2025-09-04 14:24:43,447 - logging_config - INFO - websocket_handlers.py:867 -   üìä USER'S CHART VIEW STATE:
2025-09-04 14:24:43,447 - logging_config - INFO - websocket_handlers.py:868 -     X-Axis Min: 30/08/2025, 10:31:39
2025-09-04 14:24:43,447 - logging_config - INFO - websocket_handlers.py:869 -     X-Axis Max: 04/09/2025, 01:58:37
2025-09-04 14:24:43,447 - logging_config - INFO - websocket_handlers.py:870 -     Expected local time range: 2025-08-30 10:31 to 2025-09-04 01:58
2025-09-04 14:24:43,447 - logging_config - INFO - websocket_handlers.py:871 -     Server received UTC equivalent: 2025-06-06 12:10 to 2025-09-04 12:10
2025-09-04 14:24:43,447 - logging_config - INFO - websocket_handlers.py:881 - Should send historical data: 1756987812
2025-09-04 14:24:43,447 - logging_config - INFO - websocket_handlers.py:884 - Sending historical data for BTCUSDT - time range changed: True, historical_sent: False
2025-09-04 14:24:43,447 - logging_config - INFO - websocket_handlers.py:309 - Sending historical data for BTCUSDT with indicators: []
2025-09-04 14:24:43,447 - logging_config - INFO - websocket_handlers.py:310 - Time range: from_ts=1749211812, to_ts=1756987812, resolution=1d
2025-09-04 14:24:43,447 - logging_config - INFO - websocket_handlers.py:320 - WebSocket session email found: klemenzivkovic@gmail.com
2025-09-04 14:24:43,448 - logging_config - INFO - websocket_handlers.py:325 - Looking for drawings: symbol=BTCUSDT, resolution=1d, email=klemenzivkovic@gmail.com
2025-09-04 14:24:43,448 - logging_config - INFO - websocket_handlers.py:330 - Redis key for drawings: drawings:klemenzivkovic@gmail.com:BTCUSDT
2025-09-04 14:24:43,448 - logging_config - INFO - drawing_manager.py:60 - get_drawings for BTCUSDT with resolution '1d': found 2 total, returning 1 filtered.
2025-09-04 14:24:43,448 - logging_config - INFO - websocket_handlers.py:339 - Sending 1 existing drawings for BTCUSDT
2025-09-04 14:24:43,448 - logging_config - INFO - websocket_handlers.py:345 - Sending drawing (1) message: {'type': 'drawings', 'symbol': 'BTCUSDT', 'data': [{'symbol': 'BTCUSDT', 'type': 'line', 'start_time': 1754834563, 'end_time': 1757620497, 'start_price': 125654.72871123493, 'end_price': 105505.85254783757, 'subplot_name': 'BTCUSDT', 'resolution': '1d', 'properties': {'buyOnCross': False, 'sellOnCross': False, 'sendEmailOnCross': True}, 'id': 'a8369b54-997f-455e-9cea-d9fecb571bd3'}]}
2025-09-04 14:24:43,448 - logging_config - INFO - websocket_handlers.py:347 - Successfully sent drawings message to client
2025-09-04 14:24:43,449 - logging_config - INFO - redis_utils.py:103 - Querying sorted set 'zset:kline:BTCUSDT:1d' for range [1749211812, 1756987812]
2025-09-04 14:24:43,449 - logging_config - INFO - redis_utils.py:106 - [TIMESTAMP DEBUG] redis_utils.py - get_cached_klines query:
2025-09-04 14:24:43,449 - logging_config - INFO - redis_utils.py:107 -   start_ts: 1749211812 (type: <class 'int'>)
2025-09-04 14:24:43,449 - logging_config - INFO - redis_utils.py:108 -   end_ts: 1756987812 (type: <class 'int'>)
2025-09-04 14:24:43,449 - logging_config - INFO - redis_utils.py:115 - [TIMESTAMP DEBUG] start_ts 1749211812 appears to be in SECONDS (correct for Redis)
2025-09-04 14:24:43,449 - logging_config - INFO - redis_utils.py:120 - [TIMESTAMP DEBUG] Checking Redis data sample for comparison...
2025-09-04 14:24:43,450 - logging_config - INFO - redis_utils.py:159 - Found 90 cached klines for BTCUSDT 1d between 1749211812 and 1756987812
2025-09-04 14:24:43,450 - logging_config - INFO - redis_utils.py:163 - üîç DATA GAP ANALYSIS for BTCUSDT 1d:
2025-09-04 14:24:43,450 - logging_config - INFO - redis_utils.py:164 -   Expected data points based on time range: ~90
2025-09-04 14:24:43,450 - logging_config - INFO - redis_utils.py:165 -   Actual data points retrieved: 90
2025-09-04 14:24:43,450 - logging_config - INFO - redis_utils.py:194 - ‚úÖ No data gaps detected - data appears continuous
2025-09-04 14:24:43,450 - logging_config - INFO - websocket_handlers.py:362 - ‚úÖ REDIS SUCCESS: Retrieved 90 klines from Redis for BTCUSDT
2025-09-04 14:24:43,450 - logging_config - INFO - websocket_handlers.py:398 - ‚úÖ CACHE HIT: Found 90 klines in Redis cache for BTCUSDT
2025-09-04 14:24:43,450 - logging_config - INFO - websocket_handlers.py:402 - Calculating indicators for BTCUSDT: 0 indicators, 90 klines
2025-09-04 14:24:46,507 - logging_config - INFO - utility_endpoints.py:168 - POST /settings: RAW data received from client for symbol 'BTCUSDT': {'symbol': 'BTCUSDT', 'resolution': '1d', 'range': '3m', 'xAxisMin': 1748869920000, 'xAxisMax': 1757328480000, 'yAxisMin': 98125, 'yAxisMax': 124571.2, 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'useLocalOllama': False, 'localOllamaModelName': '', 'activeIndicators': [], 'liveDataEnabled': False, 'showAgentTrades': False, 'streamDeltaTime': 1, 'last_selected_symbol': 'BTCUSDT'}
2025-09-04 14:24:46,507 - logging_config - INFO - utility_endpoints.py:168 - POST /settings: RAW data received from client for symbol 'BTCUSDT': {'symbol': 'BTCUSDT', 'resolution': '1d', 'range': '3m', 'xAxisMin': 1748869920000, 'xAxisMax': 1757328480000, 'yAxisMin': 96802.69, 'yAxisMax': 125893.51, 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'useLocalOllama': False, 'localOllamaModelName': '', 'activeIndicators': [], 'liveDataEnabled': False, 'showAgentTrades': False, 'streamDeltaTime': 1, 'last_selected_symbol': 'BTCUSDT'}
2025-09-04 14:24:46,508 - logging_config - INFO - utility_endpoints.py:199 - POST /settings for BTCUSDT and email klemenzivkovic@gmail.com: current_symbol_settings compiled for Redis save: {'resolution': '1d', 'range': '3m', 'xAxisMin': 1748869920000, 'xAxisMax': 1757328480000, 'yAxisMin': 98125, 'yAxisMax': 124571.2, 'activeIndicators': [], 'liveDataEnabled': False, 'streamDeltaTime': 1, 'useLocalOllama': False, 'localOllamaModelName': '', 'showAgentTrades': False, 'symbol': 'BTCUSDT', 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'last_selected_symbol': 'BTCUSDT'}
2025-09-04 14:24:46,508 - logging_config - INFO - utility_endpoints.py:201 - POST /settings for BTCUSDT: Client sent streamDeltaTime: 1. Value to be saved in Redis for streamDeltaTime: 1
2025-09-04 14:24:46,508 - logging_config - INFO - utility_endpoints.py:199 - POST /settings for BTCUSDT and email klemenzivkovic@gmail.com: current_symbol_settings compiled for Redis save: {'resolution': '1d', 'range': '3m', 'xAxisMin': 1748869920000, 'xAxisMax': 1757328480000, 'yAxisMin': 96802.69, 'yAxisMax': 125893.51, 'activeIndicators': [], 'liveDataEnabled': False, 'streamDeltaTime': 1, 'useLocalOllama': False, 'localOllamaModelName': '', 'showAgentTrades': False, 'symbol': 'BTCUSDT', 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'last_selected_symbol': 'BTCUSDT'}
2025-09-04 14:24:46,508 - logging_config - INFO - utility_endpoints.py:201 - POST /settings for BTCUSDT: Client sent streamDeltaTime: 1. Value to be saved in Redis for streamDeltaTime: 1
2025-09-04 14:24:46,508 - logging_config - INFO - utility_endpoints.py:204 - POST /settings for BTCUSDT and email klemenzivkovic@gmail.com: Settings updated in Redis for BTCUSDT: {'resolution': '1d', 'range': '3m', 'xAxisMin': 1748869920000, 'xAxisMax': 1757328480000, 'yAxisMin': 98125, 'yAxisMax': 124571.2, 'activeIndicators': [], 'liveDataEnabled': False, 'streamDeltaTime': 1, 'useLocalOllama': False, 'localOllamaModelName': '', 'showAgentTrades': False, 'symbol': 'BTCUSDT', 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'last_selected_symbol': 'BTCUSDT'}
2025-09-04 14:24:46,509 - logging_config - INFO - utility_endpoints.py:204 - POST /settings for BTCUSDT and email klemenzivkovic@gmail.com: Settings updated in Redis for BTCUSDT: {'resolution': '1d', 'range': '3m', 'xAxisMin': 1748869920000, 'xAxisMax': 1757328480000, 'yAxisMin': 96802.69, 'yAxisMax': 125893.51, 'activeIndicators': [], 'liveDataEnabled': False, 'streamDeltaTime': 1, 'useLocalOllama': False, 'localOllamaModelName': '', 'showAgentTrades': False, 'symbol': 'BTCUSDT', 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'last_selected_symbol': 'BTCUSDT'}
2025-09-04 14:24:47,003 - logging_config - INFO - websocket_handlers.py:742 - üì® RAW MESSAGE RECEIVED for BTCUSDT: {
  "type": "config",
  "symbol": "BTCUSDT",
  "indicators": [],
  "resolution": "1d",
  "from_ts": 1744640640000,
  "to_ts": 1761557760000
}
2025-09-04 14:24:47,003 - logging_config - INFO - websocket_handlers.py:747 - [TIMESTAMP DEBUG] websocket_handlers.py - Received timestamps:
2025-09-04 14:24:47,003 - logging_config - INFO - websocket_handlers.py:748 -   from_ts: 1744640640000 (type: <class 'int'>)
2025-09-04 14:24:47,003 - logging_config - INFO - websocket_handlers.py:749 -   to_ts: 1761557760000 (type: <class 'int'>)
2025-09-04 14:24:47,003 - logging_config - WARNING - websocket_handlers.py:769 - [TIMESTAMP DEBUG] from_ts 1744640640000 appears to be in MILLISECONDS (should be seconds)
2025-09-04 14:24:47,003 - logging_config - INFO - websocket_handlers.py:770 -   Converting to seconds: 1744640640
2025-09-04 14:24:47,003 - logging_config - INFO - websocket_handlers.py:774 - [TIMESTAMP CONVERSION] Client milliseconds -> Server seconds:
2025-09-04 14:24:47,003 - logging_config - INFO - websocket_handlers.py:775 -   1744640640000 -> 1744640640 (2025-04-14 14:24:00 UTC)
2025-09-04 14:24:47,004 - logging_config - INFO - websocket_handlers.py:776 -   1761557760000 -> 1761557760 (2025-10-27 09:36:00 UTC)
2025-09-04 14:24:47,004 - logging_config - INFO - websocket_handlers.py:795 - [TIMESTAMP FIX] Final timestamps set:
2025-09-04 14:24:47,004 - logging_config - INFO - websocket_handlers.py:796 -   from_ts: 1744640640 (type: <class 'int'>)
2025-09-04 14:24:47,004 - logging_config - INFO - websocket_handlers.py:797 -   to_ts: 1761557760 (type: <class 'int'>)
2025-09-04 14:24:47,004 - logging_config - INFO - websocket_handlers.py:807 - Client config updated for BTCUSDT: indicators=[], resolution=1d
2025-09-04 14:24:47,004 - logging_config - INFO - websocket_handlers.py:808 - üìä MESSAGE FIELD VALUES for BTCUSDT:
2025-09-04 14:24:47,004 - logging_config - INFO - websocket_handlers.py:809 -   symbol: BTCUSDT (fallback: BTCUSDT)
2025-09-04 14:24:47,004 - logging_config - INFO - websocket_handlers.py:810 -   from_ts: 1744640640000 (type: <class 'int'>)
2025-09-04 14:24:47,004 - logging_config - INFO - websocket_handlers.py:811 -   to_ts: 1761557760000 (type: <class 'int'>)
2025-09-04 14:24:47,004 - logging_config - INFO - websocket_handlers.py:812 -   indicators: [] (type: <class 'list'>)
2025-09-04 14:24:47,004 - logging_config - INFO - websocket_handlers.py:813 -   resolution: 1d (type: <class 'str'>)
2025-09-04 14:24:47,004 - logging_config - INFO - websocket_handlers.py:819 - üìä SERVER TIME RANGE ANALYSIS for BTCUSDT:
2025-09-04 14:24:47,004 - logging_config - INFO - websocket_handlers.py:820 -   Old range: from_ts=1749211812, to_ts=1756987812
2025-09-04 14:24:47,004 - logging_config - INFO - websocket_handlers.py:821 -   New range: from_ts=1744640640, to_ts=1761557760
2025-09-04 14:24:47,004 - logging_config - INFO - websocket_handlers.py:822 -   Time range changed: True
2025-09-04 14:24:47,005 - logging_config - INFO - websocket_handlers.py:823 -   Historical sent: True
2025-09-04 14:24:47,005 - logging_config - INFO - websocket_handlers.py:824 -   Has timestamps: from_ts=True, to_ts=True
2025-09-04 14:24:47,005 - logging_config - INFO - websocket_handlers.py:843 -   üìÖ SERVER RECEIVED RANGE (UTC):
2025-09-04 14:24:47,005 - logging_config - INFO - websocket_handlers.py:844 -     From: 2025-04-14 14:24:00 UTC (1744640640)
2025-09-04 14:24:47,005 - logging_config - INFO - websocket_handlers.py:845 -     To: 2025-10-27 09:36:00 UTC (1761557760)
2025-09-04 14:24:47,005 - logging_config - INFO - websocket_handlers.py:846 -     Range: 16917120 seconds (4699.2 hours)
2025-09-04 14:24:47,005 - logging_config - INFO - websocket_handlers.py:848 -   üìÖ SERVER RECEIVED RANGE (Local Time):
2025-09-04 14:24:47,005 - logging_config - INFO - websocket_handlers.py:849 -     From: 2025-04-14 16:24:00 Central Europe Summer Time
2025-09-04 14:24:47,006 - logging_config - INFO - websocket_handlers.py:850 -     To: 2025-10-27 11:36:00 Central Europe Summer Time
2025-09-04 14:24:47,006 - logging_config - INFO - websocket_handlers.py:853 -   üåç TIMEZONE ANALYSIS:
2025-09-04 14:24:47,006 - logging_config - INFO - websocket_handlers.py:854 -     Server timezone: Central Europe Summer Time (UTC+2.0)
2025-09-04 14:24:47,006 - logging_config - INFO - websocket_handlers.py:855 -     User timezone (from logs): Europe/Ljubljana (UTC+2)
2025-09-04 14:24:47,006 - logging_config - INFO - websocket_handlers.py:856 -     Timezone difference: 0.0 hours
2025-09-04 14:24:47,006 - logging_config - INFO - websocket_handlers.py:859 -   üì§ DATA TO BE SENT TO CLIENT:
2025-09-04 14:24:47,006 - logging_config - INFO - websocket_handlers.py:860 -     Timestamps will be sent as seconds (not milliseconds)
2025-09-04 14:24:47,006 - logging_config - INFO - websocket_handlers.py:861 -     Client will receive: from_ts=1744640640, to_ts=1761557760
2025-09-04 14:24:47,006 - logging_config - INFO - websocket_handlers.py:862 -     Client local time equivalent: 2025-04-14 16:24:00 to 2025-10-27 11:36:00
2025-09-04 14:24:47,006 - logging_config - INFO - websocket_handlers.py:867 -   üìä USER'S CHART VIEW STATE:
2025-09-04 14:24:47,006 - logging_config - INFO - websocket_handlers.py:868 -     X-Axis Min: 30/08/2025, 10:31:39
2025-09-04 14:24:47,006 - logging_config - INFO - websocket_handlers.py:869 -     X-Axis Max: 04/09/2025, 01:58:37
2025-09-04 14:24:47,007 - logging_config - INFO - websocket_handlers.py:870 -     Expected local time range: 2025-08-30 10:31 to 2025-09-04 01:58
2025-09-04 14:24:47,007 - logging_config - INFO - websocket_handlers.py:871 -     Server received UTC equivalent: 2025-04-14 14:24 to 2025-10-27 09:36
2025-09-04 14:24:47,007 - logging_config - INFO - websocket_handlers.py:881 - Should send historical data: 1761557760
2025-09-04 14:24:47,007 - logging_config - INFO - websocket_handlers.py:884 - Sending historical data for BTCUSDT - time range changed: True, historical_sent: True
2025-09-04 14:24:47,007 - logging_config - INFO - websocket_handlers.py:309 - Sending historical data for BTCUSDT with indicators: []
2025-09-04 14:24:47,007 - logging_config - INFO - websocket_handlers.py:310 - Time range: from_ts=1744640640, to_ts=1761557760, resolution=1d
2025-09-04 14:24:47,007 - logging_config - INFO - websocket_handlers.py:320 - WebSocket session email found: klemenzivkovic@gmail.com
2025-09-04 14:24:47,007 - logging_config - INFO - websocket_handlers.py:325 - Looking for drawings: symbol=BTCUSDT, resolution=1d, email=klemenzivkovic@gmail.com
2025-09-04 14:24:47,007 - logging_config - INFO - websocket_handlers.py:330 - Redis key for drawings: drawings:klemenzivkovic@gmail.com:BTCUSDT
2025-09-04 14:24:47,008 - logging_config - INFO - drawing_manager.py:60 - get_drawings for BTCUSDT with resolution '1d': found 2 total, returning 1 filtered.
2025-09-04 14:24:47,008 - logging_config - INFO - websocket_handlers.py:339 - Sending 1 existing drawings for BTCUSDT
2025-09-04 14:24:47,008 - logging_config - INFO - websocket_handlers.py:345 - Sending drawing (1) message: {'type': 'drawings', 'symbol': 'BTCUSDT', 'data': [{'symbol': 'BTCUSDT', 'type': 'line', 'start_time': 1754834563, 'end_time': 1757620497, 'start_price': 125654.72871123493, 'end_price': 105505.85254783757, 'subplot_name': 'BTCUSDT', 'resolution': '1d', 'properties': {'buyOnCross': False, 'sellOnCross': False, 'sendEmailOnCross': True}, 'id': 'a8369b54-997f-455e-9cea-d9fecb571bd3'}]}
2025-09-04 14:24:47,008 - logging_config - INFO - websocket_handlers.py:347 - Successfully sent drawings message to client
2025-09-04 14:24:47,008 - logging_config - INFO - redis_utils.py:103 - Querying sorted set 'zset:kline:BTCUSDT:1d' for range [1744640640, 1761557760]
2025-09-04 14:24:47,008 - logging_config - INFO - redis_utils.py:106 - [TIMESTAMP DEBUG] redis_utils.py - get_cached_klines query:
2025-09-04 14:24:47,008 - logging_config - INFO - redis_utils.py:107 -   start_ts: 1744640640 (type: <class 'int'>)
2025-09-04 14:24:47,008 - logging_config - INFO - redis_utils.py:108 -   end_ts: 1761557760 (type: <class 'int'>)
2025-09-04 14:24:47,008 - logging_config - INFO - redis_utils.py:115 - [TIMESTAMP DEBUG] start_ts 1744640640 appears to be in SECONDS (correct for Redis)
2025-09-04 14:24:47,009 - logging_config - INFO - redis_utils.py:120 - [TIMESTAMP DEBUG] Checking Redis data sample for comparison...
2025-09-04 14:24:47,010 - logging_config - INFO - redis_utils.py:159 - Found 143 cached klines for BTCUSDT 1d between 1744640640 and 1761557760
2025-09-04 14:24:47,010 - logging_config - INFO - redis_utils.py:163 - üîç DATA GAP ANALYSIS for BTCUSDT 1d:
2025-09-04 14:24:47,010 - logging_config - INFO - redis_utils.py:164 -   Expected data points based on time range: ~195
2025-09-04 14:24:47,010 - logging_config - INFO - redis_utils.py:165 -   Actual data points retrieved: 143
2025-09-04 14:24:47,010 - logging_config - INFO - redis_utils.py:194 - ‚úÖ No data gaps detected - data appears continuous
2025-09-04 14:24:47,010 - logging_config - INFO - websocket_handlers.py:362 - ‚úÖ REDIS SUCCESS: Retrieved 143 klines from Redis for BTCUSDT
2025-09-04 14:24:47,010 - logging_config - INFO - websocket_handlers.py:398 - ‚úÖ CACHE HIT: Found 143 klines in Redis cache for BTCUSDT
2025-09-04 14:24:47,011 - logging_config - INFO - websocket_handlers.py:402 - Calculating indicators for BTCUSDT: 0 indicators, 143 klines
2025-09-04 14:24:49,492 - logging_config - INFO - websocket_handlers.py:742 - üì® RAW MESSAGE RECEIVED for BTCUSDT: {
  "type": "config",
  "symbol": "BTCUSDT",
  "indicators": [
    "macd"
  ],
  "resolution": "1d",
  "from_ts": 1744640640000,
  "to_ts": 1761557760000
}
2025-09-04 14:24:49,493 - logging_config - INFO - websocket_handlers.py:747 - [TIMESTAMP DEBUG] websocket_handlers.py - Received timestamps:
2025-09-04 14:24:49,493 - logging_config - INFO - websocket_handlers.py:748 -   from_ts: 1744640640000 (type: <class 'int'>)
2025-09-04 14:24:49,493 - logging_config - INFO - websocket_handlers.py:749 -   to_ts: 1761557760000 (type: <class 'int'>)
2025-09-04 14:24:49,493 - logging_config - WARNING - websocket_handlers.py:769 - [TIMESTAMP DEBUG] from_ts 1744640640000 appears to be in MILLISECONDS (should be seconds)
2025-09-04 14:24:49,493 - logging_config - INFO - websocket_handlers.py:770 -   Converting to seconds: 1744640640
2025-09-04 14:24:49,493 - logging_config - INFO - websocket_handlers.py:774 - [TIMESTAMP CONVERSION] Client milliseconds -> Server seconds:
2025-09-04 14:24:49,493 - logging_config - INFO - websocket_handlers.py:775 -   1744640640000 -> 1744640640 (2025-04-14 14:24:00 UTC)
2025-09-04 14:24:49,493 - logging_config - INFO - websocket_handlers.py:776 -   1761557760000 -> 1761557760 (2025-10-27 09:36:00 UTC)
2025-09-04 14:24:49,493 - logging_config - INFO - websocket_handlers.py:795 - [TIMESTAMP FIX] Final timestamps set:
2025-09-04 14:24:49,493 - logging_config - INFO - websocket_handlers.py:796 -   from_ts: 1744640640 (type: <class 'int'>)
2025-09-04 14:24:49,494 - logging_config - INFO - websocket_handlers.py:797 -   to_ts: 1761557760 (type: <class 'int'>)
2025-09-04 14:24:49,494 - logging_config - INFO - websocket_handlers.py:807 - Client config updated for BTCUSDT: indicators=['macd'], resolution=1d
2025-09-04 14:24:49,494 - logging_config - INFO - websocket_handlers.py:808 - üìä MESSAGE FIELD VALUES for BTCUSDT:
2025-09-04 14:24:49,494 - logging_config - INFO - websocket_handlers.py:809 -   symbol: BTCUSDT (fallback: BTCUSDT)
2025-09-04 14:24:49,494 - logging_config - INFO - websocket_handlers.py:810 -   from_ts: 1744640640000 (type: <class 'int'>)
2025-09-04 14:24:49,494 - logging_config - INFO - websocket_handlers.py:811 -   to_ts: 1761557760000 (type: <class 'int'>)
2025-09-04 14:24:49,494 - logging_config - INFO - websocket_handlers.py:812 -   indicators: ['macd'] (type: <class 'list'>)
2025-09-04 14:24:49,494 - logging_config - INFO - websocket_handlers.py:813 -   resolution: 1d (type: <class 'str'>)
2025-09-04 14:24:49,494 - logging_config - INFO - websocket_handlers.py:819 - üìä SERVER TIME RANGE ANALYSIS for BTCUSDT:
2025-09-04 14:24:49,495 - logging_config - INFO - websocket_handlers.py:820 -   Old range: from_ts=1744640640, to_ts=1761557760
2025-09-04 14:24:49,495 - logging_config - INFO - websocket_handlers.py:821 -   New range: from_ts=1744640640, to_ts=1761557760
2025-09-04 14:24:49,495 - logging_config - INFO - websocket_handlers.py:822 -   Time range changed: False
2025-09-04 14:24:49,495 - logging_config - INFO - websocket_handlers.py:823 -   Historical sent: True
2025-09-04 14:24:49,495 - logging_config - INFO - websocket_handlers.py:824 -   Has timestamps: from_ts=True, to_ts=True
2025-09-04 14:24:49,495 - logging_config - INFO - websocket_handlers.py:843 -   üìÖ SERVER RECEIVED RANGE (UTC):
2025-09-04 14:24:49,495 - logging_config - INFO - websocket_handlers.py:844 -     From: 2025-04-14 14:24:00 UTC (1744640640)
2025-09-04 14:24:49,495 - logging_config - INFO - websocket_handlers.py:845 -     To: 2025-10-27 09:36:00 UTC (1761557760)
2025-09-04 14:24:49,495 - logging_config - INFO - websocket_handlers.py:846 -     Range: 16917120 seconds (4699.2 hours)
2025-09-04 14:24:49,495 - logging_config - INFO - websocket_handlers.py:848 -   üìÖ SERVER RECEIVED RANGE (Local Time):
2025-09-04 14:24:49,495 - logging_config - INFO - websocket_handlers.py:849 -     From: 2025-04-14 16:24:00 Central Europe Summer Time
2025-09-04 14:24:49,496 - logging_config - INFO - websocket_handlers.py:850 -     To: 2025-10-27 11:36:00 Central Europe Summer Time
2025-09-04 14:24:49,496 - logging_config - INFO - websocket_handlers.py:853 -   üåç TIMEZONE ANALYSIS:
2025-09-04 14:24:49,496 - logging_config - INFO - websocket_handlers.py:854 -     Server timezone: Central Europe Summer Time (UTC+2.0)
2025-09-04 14:24:49,496 - logging_config - INFO - websocket_handlers.py:855 -     User timezone (from logs): Europe/Ljubljana (UTC+2)
2025-09-04 14:24:49,496 - logging_config - INFO - websocket_handlers.py:856 -     Timezone difference: 0.0 hours
2025-09-04 14:24:49,496 - logging_config - INFO - websocket_handlers.py:859 -   üì§ DATA TO BE SENT TO CLIENT:
2025-09-04 14:24:49,496 - logging_config - INFO - websocket_handlers.py:860 -     Timestamps will be sent as seconds (not milliseconds)
2025-09-04 14:24:49,496 - logging_config - INFO - websocket_handlers.py:861 -     Client will receive: from_ts=1744640640, to_ts=1761557760
2025-09-04 14:24:49,496 - logging_config - INFO - websocket_handlers.py:862 -     Client local time equivalent: 2025-04-14 16:24:00 to 2025-10-27 11:36:00
2025-09-04 14:24:49,496 - logging_config - INFO - websocket_handlers.py:867 -   üìä USER'S CHART VIEW STATE:
2025-09-04 14:24:49,497 - logging_config - INFO - websocket_handlers.py:868 -     X-Axis Min: 30/08/2025, 10:31:39
2025-09-04 14:24:49,497 - logging_config - INFO - websocket_handlers.py:869 -     X-Axis Max: 04/09/2025, 01:58:37
2025-09-04 14:24:49,497 - logging_config - INFO - websocket_handlers.py:870 -     Expected local time range: 2025-08-30 10:31 to 2025-09-04 01:58
2025-09-04 14:24:49,497 - logging_config - INFO - websocket_handlers.py:871 -     Server received UTC equivalent: 2025-04-14 14:24 to 2025-10-27 09:36
2025-09-04 14:24:49,497 - logging_config - INFO - websocket_handlers.py:881 - Should send historical data: False
2025-09-04 14:24:49,497 - logging_config - INFO - websocket_handlers.py:887 - NOT sending historical data for BTCUSDT - conditions not met
2025-09-04 14:24:49,498 - logging_config - INFO - websocket_handlers.py:505 - Starting live stream for BTCUSDT from Redis stream: stream:kline:BTCUSDT:1d
2025-09-04 14:24:49,499 - logging_config - INFO - redis_utils.py:103 - Querying sorted set 'zset:kline:BTCUSDT:1d' for range [1739708689, 1756988689]
2025-09-04 14:24:49,499 - logging_config - INFO - redis_utils.py:106 - [TIMESTAMP DEBUG] redis_utils.py - get_cached_klines query:
2025-09-04 14:24:49,499 - logging_config - INFO - redis_utils.py:107 -   start_ts: 1739708689 (type: <class 'int'>)
2025-09-04 14:24:49,499 - logging_config - INFO - redis_utils.py:108 -   end_ts: 1756988689 (type: <class 'int'>)
2025-09-04 14:24:49,499 - logging_config - INFO - redis_utils.py:115 - [TIMESTAMP DEBUG] start_ts 1739708689 appears to be in SECONDS (correct for Redis)
2025-09-04 14:24:49,500 - logging_config - INFO - redis_utils.py:120 - [TIMESTAMP DEBUG] Checking Redis data sample for comparison...
2025-09-04 14:24:49,500 - logging_config - INFO - utility_endpoints.py:168 - POST /settings: RAW data received from client for symbol 'BTCUSDT': {'symbol': 'BTCUSDT', 'resolution': '1d', 'range': '3m', 'xAxisMin': 1748869920000, 'xAxisMax': 1757328480000, 'yAxisMin': 96802.69, 'yAxisMax': 125893.51, 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'useLocalOllama': False, 'localOllamaModelName': '', 'activeIndicators': ['macd'], 'liveDataEnabled': False, 'showAgentTrades': False, 'streamDeltaTime': 1, 'last_selected_symbol': 'BTCUSDT'}
2025-09-04 14:24:49,501 - logging_config - INFO - redis_utils.py:159 - Found 200 cached klines for BTCUSDT 1d between 1739708689 and 1756988689
2025-09-04 14:24:49,501 - logging_config - INFO - redis_utils.py:163 - üîç DATA GAP ANALYSIS for BTCUSDT 1d:
2025-09-04 14:24:49,502 - logging_config - INFO - redis_utils.py:164 -   Expected data points based on time range: ~200
2025-09-04 14:24:49,502 - logging_config - INFO - redis_utils.py:165 -   Actual data points retrieved: 200
2025-09-04 14:24:49,502 - logging_config - INFO - redis_utils.py:194 - ‚úÖ No data gaps detected - data appears continuous
2025-09-04 14:24:49,502 - logging_config - INFO - utility_endpoints.py:199 - POST /settings for BTCUSDT and email klemenzivkovic@gmail.com: current_symbol_settings compiled for Redis save: {'resolution': '1d', 'range': '3m', 'xAxisMin': 1748869920000, 'xAxisMax': 1757328480000, 'yAxisMin': 96802.69, 'yAxisMax': 125893.51, 'activeIndicators': ['macd'], 'liveDataEnabled': False, 'streamDeltaTime': 1, 'useLocalOllama': False, 'localOllamaModelName': '', 'showAgentTrades': False, 'symbol': 'BTCUSDT', 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'last_selected_symbol': 'BTCUSDT'}
2025-09-04 14:24:49,502 - logging_config - INFO - utility_endpoints.py:201 - POST /settings for BTCUSDT: Client sent streamDeltaTime: 1. Value to be saved in Redis for streamDeltaTime: 1
2025-09-04 14:24:49,503 - logging_config - INFO - redis_utils.py:265 - Found 143 cached Open Interest entries for BTCUSDT 1d between 1744640640 and 1761557760
2025-09-04 14:24:49,510 - logging_config - INFO - utility_endpoints.py:204 - POST /settings for BTCUSDT and email klemenzivkovic@gmail.com: Settings updated in Redis for BTCUSDT: {'resolution': '1d', 'range': '3m', 'xAxisMin': 1748869920000, 'xAxisMax': 1757328480000, 'yAxisMin': 96802.69, 'yAxisMax': 125893.51, 'activeIndicators': ['macd'], 'liveDataEnabled': False, 'streamDeltaTime': 1, 'useLocalOllama': False, 'localOllamaModelName': '', 'showAgentTrades': False, 'symbol': 'BTCUSDT', 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'last_selected_symbol': 'BTCUSDT'}
2025-09-04 14:24:49,511 - logging_config - INFO - redis_utils.py:103 - Querying sorted set 'zset:kline:BTCUSDT:1d' for range [1739708689, 1756988689]
2025-09-04 14:24:49,511 - logging_config - INFO - redis_utils.py:106 - [TIMESTAMP DEBUG] redis_utils.py - get_cached_klines query:
2025-09-04 14:24:49,511 - logging_config - INFO - redis_utils.py:107 -   start_ts: 1739708689 (type: <class 'int'>)
2025-09-04 14:24:49,511 - logging_config - INFO - redis_utils.py:108 -   end_ts: 1756988689 (type: <class 'int'>)
2025-09-04 14:24:49,511 - logging_config - INFO - redis_utils.py:115 - [TIMESTAMP DEBUG] start_ts 1739708689 appears to be in SECONDS (correct for Redis)
2025-09-04 14:24:49,511 - logging_config - INFO - redis_utils.py:120 - [TIMESTAMP DEBUG] Checking Redis data sample for comparison...
2025-09-04 14:24:49,512 - logging_config - INFO - redis_utils.py:159 - Found 200 cached klines for BTCUSDT 1d between 1739708689 and 1756988689
2025-09-04 14:24:49,512 - logging_config - INFO - redis_utils.py:163 - üîç DATA GAP ANALYSIS for BTCUSDT 1d:
2025-09-04 14:24:49,512 - logging_config - INFO - redis_utils.py:164 -   Expected data points based on time range: ~200
2025-09-04 14:24:49,512 - logging_config - INFO - redis_utils.py:165 -   Actual data points retrieved: 200
2025-09-04 14:24:49,513 - logging_config - INFO - redis_utils.py:194 - ‚úÖ No data gaps detected - data appears continuous
2025-09-04 14:24:49,515 - logging_config - INFO - redis_utils.py:265 - Found 143 cached Open Interest entries for BTCUSDT 1d between 1744640640 and 1761557760
2025-09-04 14:24:49,521 - logging_config - INFO - redis_utils.py:103 - Querying sorted set 'zset:kline:BTCUSDT:1d' for range [1739708689, 1756988689]
2025-09-04 14:24:49,521 - logging_config - INFO - redis_utils.py:106 - [TIMESTAMP DEBUG] redis_utils.py - get_cached_klines query:
2025-09-04 14:24:49,521 - logging_config - INFO - redis_utils.py:107 -   start_ts: 1739708689 (type: <class 'int'>)
2025-09-04 14:24:49,521 - logging_config - INFO - redis_utils.py:108 -   end_ts: 1756988689 (type: <class 'int'>)
2025-09-04 14:24:49,521 - logging_config - INFO - redis_utils.py:115 - [TIMESTAMP DEBUG] start_ts 1739708689 appears to be in SECONDS (correct for Redis)
2025-09-04 14:24:49,521 - logging_config - INFO - redis_utils.py:120 - [TIMESTAMP DEBUG] Checking Redis data sample for comparison...
2025-09-04 14:24:49,522 - logging_config - INFO - redis_utils.py:159 - Found 200 cached klines for BTCUSDT 1d between 1739708689 and 1756988689
2025-09-04 14:24:49,522 - logging_config - INFO - redis_utils.py:163 - üîç DATA GAP ANALYSIS for BTCUSDT 1d:
2025-09-04 14:24:49,522 - logging_config - INFO - redis_utils.py:164 -   Expected data points based on time range: ~200
2025-09-04 14:24:49,522 - logging_config - INFO - redis_utils.py:165 -   Actual data points retrieved: 200
2025-09-04 14:24:49,522 - logging_config - INFO - redis_utils.py:194 - ‚úÖ No data gaps detected - data appears continuous
2025-09-04 14:24:49,523 - logging_config - INFO - redis_utils.py:265 - Found 143 cached Open Interest entries for BTCUSDT 1d between 1744640640 and 1761557760
2025-09-04 14:24:49,530 - logging_config - INFO - redis_utils.py:103 - Querying sorted set 'zset:kline:BTCUSDT:1d' for range [1739708689, 1756988689]
2025-09-04 14:24:49,530 - logging_config - INFO - redis_utils.py:106 - [TIMESTAMP DEBUG] redis_utils.py - get_cached_klines query:
2025-09-04 14:24:49,530 - logging_config - INFO - redis_utils.py:107 -   start_ts: 1739708689 (type: <class 'int'>)
2025-09-04 14:24:49,530 - logging_config - INFO - redis_utils.py:108 -   end_ts: 1756988689 (type: <class 'int'>)
2025-09-04 14:24:49,531 - logging_config - INFO - redis_utils.py:115 - [TIMESTAMP DEBUG] start_ts 1739708689 appears to be in SECONDS (correct for Redis)
2025-09-04 14:24:49,531 - logging_config - INFO - redis_utils.py:120 - [TIMESTAMP DEBUG] Checking Redis data sample for comparison...
2025-09-04 14:24:49,532 - logging_config - INFO - redis_utils.py:159 - Found 200 cached klines for BTCUSDT 1d between 1739708689 and 1756988689
2025-09-04 14:24:49,532 - logging_config - INFO - redis_utils.py:163 - üîç DATA GAP ANALYSIS for BTCUSDT 1d:
2025-09-04 14:24:49,532 - logging_config - INFO - redis_utils.py:164 -   Expected data points based on time range: ~200
2025-09-04 14:24:49,532 - logging_config - INFO - redis_utils.py:165 -   Actual data points retrieved: 200
2025-09-04 14:24:49,532 - logging_config - INFO - redis_utils.py:194 - ‚úÖ No data gaps detected - data appears continuous
2025-09-04 14:24:49,533 - logging_config - INFO - redis_utils.py:265 - Found 143 cached Open Interest entries for BTCUSDT 1d between 1744640640 and 1761557760
2025-09-04 14:24:49,986 - logging_config - INFO - websocket_handlers.py:742 - üì® RAW MESSAGE RECEIVED for BTCUSDT: {
  "type": "config",
  "symbol": "BTCUSDT",
  "indicators": [
    "macd",
    "rsi"
  ],
  "resolution": "1d",
  "from_ts": 1744640640000,
  "to_ts": 1761557760000
}
2025-09-04 14:24:49,986 - logging_config - INFO - websocket_handlers.py:747 - [TIMESTAMP DEBUG] websocket_handlers.py - Received timestamps:
2025-09-04 14:24:49,987 - logging_config - INFO - websocket_handlers.py:748 -   from_ts: 1744640640000 (type: <class 'int'>)
2025-09-04 14:24:49,987 - logging_config - INFO - websocket_handlers.py:749 -   to_ts: 1761557760000 (type: <class 'int'>)
2025-09-04 14:24:49,987 - logging_config - WARNING - websocket_handlers.py:769 - [TIMESTAMP DEBUG] from_ts 1744640640000 appears to be in MILLISECONDS (should be seconds)
2025-09-04 14:24:49,987 - logging_config - INFO - websocket_handlers.py:770 -   Converting to seconds: 1744640640
2025-09-04 14:24:49,987 - logging_config - INFO - websocket_handlers.py:774 - [TIMESTAMP CONVERSION] Client milliseconds -> Server seconds:
2025-09-04 14:24:49,987 - logging_config - INFO - websocket_handlers.py:775 -   1744640640000 -> 1744640640 (2025-04-14 14:24:00 UTC)
2025-09-04 14:24:49,987 - logging_config - INFO - websocket_handlers.py:776 -   1761557760000 -> 1761557760 (2025-10-27 09:36:00 UTC)
2025-09-04 14:24:49,987 - logging_config - INFO - websocket_handlers.py:795 - [TIMESTAMP FIX] Final timestamps set:
2025-09-04 14:24:49,987 - logging_config - INFO - websocket_handlers.py:796 -   from_ts: 1744640640 (type: <class 'int'>)
2025-09-04 14:24:49,988 - logging_config - INFO - websocket_handlers.py:797 -   to_ts: 1761557760 (type: <class 'int'>)
2025-09-04 14:24:49,988 - logging_config - INFO - websocket_handlers.py:807 - Client config updated for BTCUSDT: indicators=['macd', 'rsi'], resolution=1d
2025-09-04 14:24:49,988 - logging_config - INFO - websocket_handlers.py:808 - üìä MESSAGE FIELD VALUES for BTCUSDT:
2025-09-04 14:24:49,988 - logging_config - INFO - websocket_handlers.py:809 -   symbol: BTCUSDT (fallback: BTCUSDT)
2025-09-04 14:24:49,988 - logging_config - INFO - websocket_handlers.py:810 -   from_ts: 1744640640000 (type: <class 'int'>)
2025-09-04 14:24:49,988 - logging_config - INFO - websocket_handlers.py:811 -   to_ts: 1761557760000 (type: <class 'int'>)
2025-09-04 14:24:49,988 - logging_config - INFO - websocket_handlers.py:812 -   indicators: ['macd', 'rsi'] (type: <class 'list'>)
2025-09-04 14:24:49,988 - logging_config - INFO - websocket_handlers.py:813 -   resolution: 1d (type: <class 'str'>)
2025-09-04 14:24:49,988 - logging_config - INFO - websocket_handlers.py:819 - üìä SERVER TIME RANGE ANALYSIS for BTCUSDT:
2025-09-04 14:24:49,988 - logging_config - INFO - websocket_handlers.py:820 -   Old range: from_ts=1744640640, to_ts=1761557760
2025-09-04 14:24:49,988 - logging_config - INFO - websocket_handlers.py:821 -   New range: from_ts=1744640640, to_ts=1761557760
2025-09-04 14:24:49,988 - logging_config - INFO - websocket_handlers.py:822 -   Time range changed: False
2025-09-04 14:24:49,988 - logging_config - INFO - websocket_handlers.py:823 -   Historical sent: True
2025-09-04 14:24:49,989 - logging_config - INFO - websocket_handlers.py:824 -   Has timestamps: from_ts=True, to_ts=True
2025-09-04 14:24:49,989 - logging_config - INFO - websocket_handlers.py:843 -   üìÖ SERVER RECEIVED RANGE (UTC):
2025-09-04 14:24:49,989 - logging_config - INFO - websocket_handlers.py:844 -     From: 2025-04-14 14:24:00 UTC (1744640640)
2025-09-04 14:24:49,989 - logging_config - INFO - websocket_handlers.py:845 -     To: 2025-10-27 09:36:00 UTC (1761557760)
2025-09-04 14:24:49,989 - logging_config - INFO - websocket_handlers.py:846 -     Range: 16917120 seconds (4699.2 hours)
2025-09-04 14:24:49,989 - logging_config - INFO - websocket_handlers.py:848 -   üìÖ SERVER RECEIVED RANGE (Local Time):
2025-09-04 14:24:49,989 - logging_config - INFO - websocket_handlers.py:849 -     From: 2025-04-14 16:24:00 Central Europe Summer Time
2025-09-04 14:24:49,989 - logging_config - INFO - websocket_handlers.py:850 -     To: 2025-10-27 11:36:00 Central Europe Summer Time
2025-09-04 14:24:49,989 - logging_config - INFO - websocket_handlers.py:853 -   üåç TIMEZONE ANALYSIS:
2025-09-04 14:24:49,989 - logging_config - INFO - websocket_handlers.py:854 -     Server timezone: Central Europe Summer Time (UTC+2.0)
2025-09-04 14:24:49,989 - logging_config - INFO - websocket_handlers.py:855 -     User timezone (from logs): Europe/Ljubljana (UTC+2)
2025-09-04 14:24:49,989 - logging_config - INFO - websocket_handlers.py:856 -     Timezone difference: 0.0 hours
2025-09-04 14:24:49,990 - logging_config - INFO - websocket_handlers.py:859 -   üì§ DATA TO BE SENT TO CLIENT:
2025-09-04 14:24:49,990 - logging_config - INFO - websocket_handlers.py:860 -     Timestamps will be sent as seconds (not milliseconds)
2025-09-04 14:24:49,990 - logging_config - INFO - websocket_handlers.py:861 -     Client will receive: from_ts=1744640640, to_ts=1761557760
2025-09-04 14:24:49,990 - logging_config - INFO - websocket_handlers.py:862 -     Client local time equivalent: 2025-04-14 16:24:00 to 2025-10-27 11:36:00
2025-09-04 14:24:49,990 - logging_config - INFO - websocket_handlers.py:867 -   üìä USER'S CHART VIEW STATE:
2025-09-04 14:24:49,990 - logging_config - INFO - websocket_handlers.py:868 -     X-Axis Min: 30/08/2025, 10:31:39
2025-09-04 14:24:49,990 - logging_config - INFO - websocket_handlers.py:869 -     X-Axis Max: 04/09/2025, 01:58:37
2025-09-04 14:24:49,990 - logging_config - INFO - websocket_handlers.py:870 -     Expected local time range: 2025-08-30 10:31 to 2025-09-04 01:58
2025-09-04 14:24:49,990 - logging_config - INFO - websocket_handlers.py:871 -     Server received UTC equivalent: 2025-04-14 14:24 to 2025-10-27 09:36
2025-09-04 14:24:49,990 - logging_config - INFO - websocket_handlers.py:881 - Should send historical data: False
2025-09-04 14:24:49,990 - logging_config - INFO - websocket_handlers.py:887 - NOT sending historical data for BTCUSDT - conditions not met
2025-09-04 14:24:49,991 - logging_config - INFO - websocket_handlers.py:505 - Starting live stream for BTCUSDT from Redis stream: stream:kline:BTCUSDT:1d
2025-09-04 14:24:49,992 - logging_config - INFO - utility_endpoints.py:168 - POST /settings: RAW data received from client for symbol 'BTCUSDT': {'symbol': 'BTCUSDT', 'resolution': '1d', 'range': '3m', 'xAxisMin': 1748869920000, 'xAxisMax': 1757328480000, 'yAxisMin': 96802.69, 'yAxisMax': 125893.51, 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'useLocalOllama': False, 'localOllamaModelName': '', 'activeIndicators': ['macd', 'rsi'], 'liveDataEnabled': False, 'showAgentTrades': False, 'streamDeltaTime': 1, 'last_selected_symbol': 'BTCUSDT'}
2025-09-04 14:24:49,992 - logging_config - INFO - utility_endpoints.py:199 - POST /settings for BTCUSDT and email klemenzivkovic@gmail.com: current_symbol_settings compiled for Redis save: {'resolution': '1d', 'range': '3m', 'xAxisMin': 1748869920000, 'xAxisMax': 1757328480000, 'yAxisMin': 96802.69, 'yAxisMax': 125893.51, 'activeIndicators': ['macd', 'rsi'], 'liveDataEnabled': False, 'streamDeltaTime': 1, 'useLocalOllama': False, 'localOllamaModelName': '', 'showAgentTrades': False, 'symbol': 'BTCUSDT', 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'last_selected_symbol': 'BTCUSDT'}
2025-09-04 14:24:49,992 - logging_config - INFO - utility_endpoints.py:201 - POST /settings for BTCUSDT: Client sent streamDeltaTime: 1. Value to be saved in Redis for streamDeltaTime: 1
2025-09-04 14:24:49,993 - logging_config - INFO - utility_endpoints.py:204 - POST /settings for BTCUSDT and email klemenzivkovic@gmail.com: Settings updated in Redis for BTCUSDT: {'resolution': '1d', 'range': '3m', 'xAxisMin': 1748869920000, 'xAxisMax': 1757328480000, 'yAxisMin': 96802.69, 'yAxisMax': 125893.51, 'activeIndicators': ['macd', 'rsi'], 'liveDataEnabled': False, 'streamDeltaTime': 1, 'useLocalOllama': False, 'localOllamaModelName': '', 'showAgentTrades': False, 'symbol': 'BTCUSDT', 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'last_selected_symbol': 'BTCUSDT'}
2025-09-04 14:24:50,550 - logging_config - INFO - websocket_handlers.py:742 - üì® RAW MESSAGE RECEIVED for BTCUSDT: {
  "type": "config",
  "symbol": "BTCUSDT",
  "indicators": [
    "macd",
    "rsi",
    "stochrsi_9_3"
  ],
  "resolution": "1d",
  "from_ts": 1744640640000,
  "to_ts": 1761557760000
}
2025-09-04 14:24:50,551 - logging_config - INFO - websocket_handlers.py:747 - [TIMESTAMP DEBUG] websocket_handlers.py - Received timestamps:
2025-09-04 14:24:50,551 - logging_config - INFO - websocket_handlers.py:748 -   from_ts: 1744640640000 (type: <class 'int'>)
2025-09-04 14:24:50,551 - logging_config - INFO - websocket_handlers.py:749 -   to_ts: 1761557760000 (type: <class 'int'>)
2025-09-04 14:24:50,551 - logging_config - WARNING - websocket_handlers.py:769 - [TIMESTAMP DEBUG] from_ts 1744640640000 appears to be in MILLISECONDS (should be seconds)
2025-09-04 14:24:50,551 - logging_config - INFO - websocket_handlers.py:770 -   Converting to seconds: 1744640640
2025-09-04 14:24:50,551 - logging_config - INFO - websocket_handlers.py:774 - [TIMESTAMP CONVERSION] Client milliseconds -> Server seconds:
2025-09-04 14:24:50,551 - logging_config - INFO - websocket_handlers.py:775 -   1744640640000 -> 1744640640 (2025-04-14 14:24:00 UTC)
2025-09-04 14:24:50,551 - logging_config - INFO - websocket_handlers.py:776 -   1761557760000 -> 1761557760 (2025-10-27 09:36:00 UTC)
2025-09-04 14:24:50,551 - logging_config - INFO - websocket_handlers.py:795 - [TIMESTAMP FIX] Final timestamps set:
2025-09-04 14:24:50,551 - logging_config - INFO - websocket_handlers.py:796 -   from_ts: 1744640640 (type: <class 'int'>)
2025-09-04 14:24:50,552 - logging_config - INFO - websocket_handlers.py:797 -   to_ts: 1761557760 (type: <class 'int'>)
2025-09-04 14:24:50,552 - logging_config - INFO - websocket_handlers.py:807 - Client config updated for BTCUSDT: indicators=['macd', 'rsi', 'stochrsi_9_3'], resolution=1d
2025-09-04 14:24:50,552 - logging_config - INFO - websocket_handlers.py:808 - üìä MESSAGE FIELD VALUES for BTCUSDT:
2025-09-04 14:24:50,552 - logging_config - INFO - websocket_handlers.py:809 -   symbol: BTCUSDT (fallback: BTCUSDT)
2025-09-04 14:24:50,552 - logging_config - INFO - websocket_handlers.py:810 -   from_ts: 1744640640000 (type: <class 'int'>)
2025-09-04 14:24:50,552 - logging_config - INFO - websocket_handlers.py:811 -   to_ts: 1761557760000 (type: <class 'int'>)
2025-09-04 14:24:50,552 - logging_config - INFO - websocket_handlers.py:812 -   indicators: ['macd', 'rsi', 'stochrsi_9_3'] (type: <class 'list'>)
2025-09-04 14:24:50,552 - logging_config - INFO - websocket_handlers.py:813 -   resolution: 1d (type: <class 'str'>)
2025-09-04 14:24:50,552 - logging_config - INFO - websocket_handlers.py:819 - üìä SERVER TIME RANGE ANALYSIS for BTCUSDT:
2025-09-04 14:24:50,552 - logging_config - INFO - websocket_handlers.py:820 -   Old range: from_ts=1744640640, to_ts=1761557760
2025-09-04 14:24:50,552 - logging_config - INFO - websocket_handlers.py:821 -   New range: from_ts=1744640640, to_ts=1761557760
2025-09-04 14:24:50,552 - logging_config - INFO - websocket_handlers.py:822 -   Time range changed: False
2025-09-04 14:24:50,552 - logging_config - INFO - websocket_handlers.py:823 -   Historical sent: True
2025-09-04 14:24:50,552 - logging_config - INFO - websocket_handlers.py:824 -   Has timestamps: from_ts=True, to_ts=True
2025-09-04 14:24:50,552 - logging_config - INFO - websocket_handlers.py:843 -   üìÖ SERVER RECEIVED RANGE (UTC):
2025-09-04 14:24:50,553 - logging_config - INFO - websocket_handlers.py:844 -     From: 2025-04-14 14:24:00 UTC (1744640640)
2025-09-04 14:24:50,553 - logging_config - INFO - websocket_handlers.py:845 -     To: 2025-10-27 09:36:00 UTC (1761557760)
2025-09-04 14:24:50,553 - logging_config - INFO - websocket_handlers.py:846 -     Range: 16917120 seconds (4699.2 hours)
2025-09-04 14:24:50,553 - logging_config - INFO - websocket_handlers.py:848 -   üìÖ SERVER RECEIVED RANGE (Local Time):
2025-09-04 14:24:50,553 - logging_config - INFO - websocket_handlers.py:849 -     From: 2025-04-14 16:24:00 Central Europe Summer Time
2025-09-04 14:24:50,553 - logging_config - INFO - websocket_handlers.py:850 -     To: 2025-10-27 11:36:00 Central Europe Summer Time
2025-09-04 14:24:50,553 - logging_config - INFO - websocket_handlers.py:853 -   üåç TIMEZONE ANALYSIS:
2025-09-04 14:24:50,553 - logging_config - INFO - websocket_handlers.py:854 -     Server timezone: Central Europe Summer Time (UTC+2.0)
2025-09-04 14:24:50,553 - logging_config - INFO - websocket_handlers.py:855 -     User timezone (from logs): Europe/Ljubljana (UTC+2)
2025-09-04 14:24:50,553 - logging_config - INFO - websocket_handlers.py:856 -     Timezone difference: 0.0 hours
2025-09-04 14:24:50,553 - logging_config - INFO - websocket_handlers.py:859 -   üì§ DATA TO BE SENT TO CLIENT:
2025-09-04 14:24:50,553 - logging_config - INFO - websocket_handlers.py:860 -     Timestamps will be sent as seconds (not milliseconds)
2025-09-04 14:24:50,554 - logging_config - INFO - websocket_handlers.py:861 -     Client will receive: from_ts=1744640640, to_ts=1761557760
2025-09-04 14:24:50,554 - logging_config - INFO - websocket_handlers.py:862 -     Client local time equivalent: 2025-04-14 16:24:00 to 2025-10-27 11:36:00
2025-09-04 14:24:50,554 - logging_config - INFO - websocket_handlers.py:867 -   üìä USER'S CHART VIEW STATE:
2025-09-04 14:24:50,554 - logging_config - INFO - websocket_handlers.py:868 -     X-Axis Min: 30/08/2025, 10:31:39
2025-09-04 14:24:50,554 - logging_config - INFO - websocket_handlers.py:869 -     X-Axis Max: 04/09/2025, 01:58:37
2025-09-04 14:24:50,554 - logging_config - INFO - websocket_handlers.py:870 -     Expected local time range: 2025-08-30 10:31 to 2025-09-04 01:58
2025-09-04 14:24:50,554 - logging_config - INFO - websocket_handlers.py:871 -     Server received UTC equivalent: 2025-04-14 14:24 to 2025-10-27 09:36
2025-09-04 14:24:50,554 - logging_config - INFO - websocket_handlers.py:881 - Should send historical data: False
2025-09-04 14:24:50,554 - logging_config - INFO - websocket_handlers.py:887 - NOT sending historical data for BTCUSDT - conditions not met
2025-09-04 14:24:50,555 - logging_config - INFO - websocket_handlers.py:505 - Starting live stream for BTCUSDT from Redis stream: stream:kline:BTCUSDT:1d
2025-09-04 14:24:50,556 - logging_config - INFO - utility_endpoints.py:168 - POST /settings: RAW data received from client for symbol 'BTCUSDT': {'symbol': 'BTCUSDT', 'resolution': '1d', 'range': '3m', 'xAxisMin': 1748869920000, 'xAxisMax': 1757328480000, 'yAxisMin': 96802.69, 'yAxisMax': 125893.51, 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'useLocalOllama': False, 'localOllamaModelName': '', 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3'], 'liveDataEnabled': False, 'showAgentTrades': False, 'streamDeltaTime': 1, 'last_selected_symbol': 'BTCUSDT'}
2025-09-04 14:24:50,557 - logging_config - INFO - utility_endpoints.py:199 - POST /settings for BTCUSDT and email klemenzivkovic@gmail.com: current_symbol_settings compiled for Redis save: {'resolution': '1d', 'range': '3m', 'xAxisMin': 1748869920000, 'xAxisMax': 1757328480000, 'yAxisMin': 96802.69, 'yAxisMax': 125893.51, 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3'], 'liveDataEnabled': False, 'streamDeltaTime': 1, 'useLocalOllama': False, 'localOllamaModelName': '', 'showAgentTrades': False, 'symbol': 'BTCUSDT', 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'last_selected_symbol': 'BTCUSDT'}
2025-09-04 14:24:50,557 - logging_config - INFO - utility_endpoints.py:201 - POST /settings for BTCUSDT: Client sent streamDeltaTime: 1. Value to be saved in Redis for streamDeltaTime: 1
2025-09-04 14:24:50,558 - logging_config - INFO - utility_endpoints.py:204 - POST /settings for BTCUSDT and email klemenzivkovic@gmail.com: Settings updated in Redis for BTCUSDT: {'resolution': '1d', 'range': '3m', 'xAxisMin': 1748869920000, 'xAxisMax': 1757328480000, 'yAxisMin': 96802.69, 'yAxisMax': 125893.51, 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3'], 'liveDataEnabled': False, 'streamDeltaTime': 1, 'useLocalOllama': False, 'localOllamaModelName': '', 'showAgentTrades': False, 'symbol': 'BTCUSDT', 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'last_selected_symbol': 'BTCUSDT'}
2025-09-04 14:24:51,229 - logging_config - INFO - websocket_handlers.py:742 - üì® RAW MESSAGE RECEIVED for BTCUSDT: {
  "type": "config",
  "symbol": "BTCUSDT",
  "indicators": [
    "macd",
    "rsi",
    "stochrsi_9_3",
    "stochrsi_14_3"
  ],
  "resolution": "1d",
  "from_ts": 1744640640000,
  "to_ts": 1761557760000
}
2025-09-04 14:24:51,229 - logging_config - INFO - websocket_handlers.py:747 - [TIMESTAMP DEBUG] websocket_handlers.py - Received timestamps:
2025-09-04 14:24:51,229 - logging_config - INFO - websocket_handlers.py:748 -   from_ts: 1744640640000 (type: <class 'int'>)
2025-09-04 14:24:51,229 - logging_config - INFO - websocket_handlers.py:749 -   to_ts: 1761557760000 (type: <class 'int'>)
2025-09-04 14:24:51,229 - logging_config - WARNING - websocket_handlers.py:769 - [TIMESTAMP DEBUG] from_ts 1744640640000 appears to be in MILLISECONDS (should be seconds)
2025-09-04 14:24:51,229 - logging_config - INFO - websocket_handlers.py:770 -   Converting to seconds: 1744640640
2025-09-04 14:24:51,230 - logging_config - INFO - websocket_handlers.py:774 - [TIMESTAMP CONVERSION] Client milliseconds -> Server seconds:
2025-09-04 14:24:51,230 - logging_config - INFO - websocket_handlers.py:775 -   1744640640000 -> 1744640640 (2025-04-14 14:24:00 UTC)
2025-09-04 14:24:51,230 - logging_config - INFO - websocket_handlers.py:776 -   1761557760000 -> 1761557760 (2025-10-27 09:36:00 UTC)
2025-09-04 14:24:51,230 - logging_config - INFO - websocket_handlers.py:795 - [TIMESTAMP FIX] Final timestamps set:
2025-09-04 14:24:51,231 - logging_config - INFO - websocket_handlers.py:796 -   from_ts: 1744640640 (type: <class 'int'>)
2025-09-04 14:24:51,231 - logging_config - INFO - websocket_handlers.py:797 -   to_ts: 1761557760 (type: <class 'int'>)
2025-09-04 14:24:51,231 - logging_config - INFO - websocket_handlers.py:807 - Client config updated for BTCUSDT: indicators=['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3'], resolution=1d
2025-09-04 14:24:51,231 - logging_config - INFO - websocket_handlers.py:808 - üìä MESSAGE FIELD VALUES for BTCUSDT:
2025-09-04 14:24:51,231 - logging_config - INFO - websocket_handlers.py:809 -   symbol: BTCUSDT (fallback: BTCUSDT)
2025-09-04 14:24:51,231 - logging_config - INFO - websocket_handlers.py:810 -   from_ts: 1744640640000 (type: <class 'int'>)
2025-09-04 14:24:51,231 - logging_config - INFO - websocket_handlers.py:811 -   to_ts: 1761557760000 (type: <class 'int'>)
2025-09-04 14:24:51,231 - logging_config - INFO - websocket_handlers.py:812 -   indicators: ['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3'] (type: <class 'list'>)
2025-09-04 14:24:51,231 - logging_config - INFO - websocket_handlers.py:813 -   resolution: 1d (type: <class 'str'>)
2025-09-04 14:24:51,231 - logging_config - INFO - websocket_handlers.py:819 - üìä SERVER TIME RANGE ANALYSIS for BTCUSDT:
2025-09-04 14:24:51,231 - logging_config - INFO - websocket_handlers.py:820 -   Old range: from_ts=1744640640, to_ts=1761557760
2025-09-04 14:24:51,231 - logging_config - INFO - websocket_handlers.py:821 -   New range: from_ts=1744640640, to_ts=1761557760
2025-09-04 14:24:51,231 - logging_config - INFO - websocket_handlers.py:822 -   Time range changed: False
2025-09-04 14:24:51,231 - logging_config - INFO - websocket_handlers.py:823 -   Historical sent: True
2025-09-04 14:24:51,232 - logging_config - INFO - websocket_handlers.py:824 -   Has timestamps: from_ts=True, to_ts=True
2025-09-04 14:24:51,232 - logging_config - INFO - websocket_handlers.py:843 -   üìÖ SERVER RECEIVED RANGE (UTC):
2025-09-04 14:24:51,232 - logging_config - INFO - websocket_handlers.py:844 -     From: 2025-04-14 14:24:00 UTC (1744640640)
2025-09-04 14:24:51,232 - logging_config - INFO - websocket_handlers.py:845 -     To: 2025-10-27 09:36:00 UTC (1761557760)
2025-09-04 14:24:51,232 - logging_config - INFO - websocket_handlers.py:846 -     Range: 16917120 seconds (4699.2 hours)
2025-09-04 14:24:51,232 - logging_config - INFO - websocket_handlers.py:848 -   üìÖ SERVER RECEIVED RANGE (Local Time):
2025-09-04 14:24:51,232 - logging_config - INFO - websocket_handlers.py:849 -     From: 2025-04-14 16:24:00 Central Europe Summer Time
2025-09-04 14:24:51,232 - logging_config - INFO - websocket_handlers.py:850 -     To: 2025-10-27 11:36:00 Central Europe Summer Time
2025-09-04 14:24:51,233 - logging_config - INFO - websocket_handlers.py:853 -   üåç TIMEZONE ANALYSIS:
2025-09-04 14:24:51,233 - logging_config - INFO - websocket_handlers.py:854 -     Server timezone: Central Europe Summer Time (UTC+2.0)
2025-09-04 14:24:51,233 - logging_config - INFO - websocket_handlers.py:855 -     User timezone (from logs): Europe/Ljubljana (UTC+2)
2025-09-04 14:24:51,233 - logging_config - INFO - websocket_handlers.py:856 -     Timezone difference: 0.0 hours
2025-09-04 14:24:51,233 - logging_config - INFO - websocket_handlers.py:859 -   üì§ DATA TO BE SENT TO CLIENT:
2025-09-04 14:24:51,233 - logging_config - INFO - websocket_handlers.py:860 -     Timestamps will be sent as seconds (not milliseconds)
2025-09-04 14:24:51,233 - logging_config - INFO - websocket_handlers.py:861 -     Client will receive: from_ts=1744640640, to_ts=1761557760
2025-09-04 14:24:51,233 - logging_config - INFO - websocket_handlers.py:862 -     Client local time equivalent: 2025-04-14 16:24:00 to 2025-10-27 11:36:00
2025-09-04 14:24:51,233 - logging_config - INFO - websocket_handlers.py:867 -   üìä USER'S CHART VIEW STATE:
2025-09-04 14:24:51,234 - logging_config - INFO - websocket_handlers.py:868 -     X-Axis Min: 30/08/2025, 10:31:39
2025-09-04 14:24:51,234 - logging_config - INFO - websocket_handlers.py:869 -     X-Axis Max: 04/09/2025, 01:58:37
2025-09-04 14:24:51,234 - logging_config - INFO - websocket_handlers.py:870 -     Expected local time range: 2025-08-30 10:31 to 2025-09-04 01:58
2025-09-04 14:24:51,234 - logging_config - INFO - websocket_handlers.py:871 -     Server received UTC equivalent: 2025-04-14 14:24 to 2025-10-27 09:36
2025-09-04 14:24:51,234 - logging_config - INFO - websocket_handlers.py:881 - Should send historical data: False
2025-09-04 14:24:51,234 - logging_config - INFO - websocket_handlers.py:887 - NOT sending historical data for BTCUSDT - conditions not met
2025-09-04 14:24:51,235 - logging_config - INFO - websocket_handlers.py:505 - Starting live stream for BTCUSDT from Redis stream: stream:kline:BTCUSDT:1d
2025-09-04 14:24:51,235 - logging_config - INFO - utility_endpoints.py:168 - POST /settings: RAW data received from client for symbol 'BTCUSDT': {'symbol': 'BTCUSDT', 'resolution': '1d', 'range': '3m', 'xAxisMin': 1748869920000, 'xAxisMax': 1757328480000, 'yAxisMin': 96802.69, 'yAxisMax': 125893.51, 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'useLocalOllama': False, 'localOllamaModelName': '', 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3'], 'liveDataEnabled': False, 'showAgentTrades': False, 'streamDeltaTime': 1, 'last_selected_symbol': 'BTCUSDT'}
2025-09-04 14:24:51,236 - logging_config - INFO - utility_endpoints.py:199 - POST /settings for BTCUSDT and email klemenzivkovic@gmail.com: current_symbol_settings compiled for Redis save: {'resolution': '1d', 'range': '3m', 'xAxisMin': 1748869920000, 'xAxisMax': 1757328480000, 'yAxisMin': 96802.69, 'yAxisMax': 125893.51, 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3'], 'liveDataEnabled': False, 'streamDeltaTime': 1, 'useLocalOllama': False, 'localOllamaModelName': '', 'showAgentTrades': False, 'symbol': 'BTCUSDT', 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'last_selected_symbol': 'BTCUSDT'}
2025-09-04 14:24:51,236 - logging_config - INFO - utility_endpoints.py:201 - POST /settings for BTCUSDT: Client sent streamDeltaTime: 1. Value to be saved in Redis for streamDeltaTime: 1
2025-09-04 14:24:51,237 - logging_config - INFO - utility_endpoints.py:204 - POST /settings for BTCUSDT and email klemenzivkovic@gmail.com: Settings updated in Redis for BTCUSDT: {'resolution': '1d', 'range': '3m', 'xAxisMin': 1748869920000, 'xAxisMax': 1757328480000, 'yAxisMin': 96802.69, 'yAxisMax': 125893.51, 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3'], 'liveDataEnabled': False, 'streamDeltaTime': 1, 'useLocalOllama': False, 'localOllamaModelName': '', 'showAgentTrades': False, 'symbol': 'BTCUSDT', 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'last_selected_symbol': 'BTCUSDT'}
2025-09-04 14:24:52,024 - logging_config - INFO - websocket_handlers.py:742 - üì® RAW MESSAGE RECEIVED for BTCUSDT: {
  "type": "config",
  "symbol": "BTCUSDT",
  "indicators": [
    "macd",
    "rsi",
    "stochrsi_9_3",
    "stochrsi_14_3",
    "stochrsi_40_4"
  ],
  "resolution": "1d",
  "from_ts": 1744640640000,
  "to_ts": 1761557760000
}
2025-09-04 14:24:52,024 - logging_config - INFO - websocket_handlers.py:747 - [TIMESTAMP DEBUG] websocket_handlers.py - Received timestamps:
2025-09-04 14:24:52,024 - logging_config - INFO - websocket_handlers.py:748 -   from_ts: 1744640640000 (type: <class 'int'>)
2025-09-04 14:24:52,024 - logging_config - INFO - websocket_handlers.py:749 -   to_ts: 1761557760000 (type: <class 'int'>)
2025-09-04 14:24:52,024 - logging_config - WARNING - websocket_handlers.py:769 - [TIMESTAMP DEBUG] from_ts 1744640640000 appears to be in MILLISECONDS (should be seconds)
2025-09-04 14:24:52,025 - logging_config - INFO - websocket_handlers.py:770 -   Converting to seconds: 1744640640
2025-09-04 14:24:52,025 - logging_config - INFO - websocket_handlers.py:774 - [TIMESTAMP CONVERSION] Client milliseconds -> Server seconds:
2025-09-04 14:24:52,025 - logging_config - INFO - websocket_handlers.py:775 -   1744640640000 -> 1744640640 (2025-04-14 14:24:00 UTC)
2025-09-04 14:24:52,025 - logging_config - INFO - websocket_handlers.py:776 -   1761557760000 -> 1761557760 (2025-10-27 09:36:00 UTC)
2025-09-04 14:24:52,025 - logging_config - INFO - websocket_handlers.py:795 - [TIMESTAMP FIX] Final timestamps set:
2025-09-04 14:24:52,025 - logging_config - INFO - websocket_handlers.py:796 -   from_ts: 1744640640 (type: <class 'int'>)
2025-09-04 14:24:52,025 - logging_config - INFO - websocket_handlers.py:797 -   to_ts: 1761557760 (type: <class 'int'>)
2025-09-04 14:24:52,025 - logging_config - INFO - websocket_handlers.py:807 - Client config updated for BTCUSDT: indicators=['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4'], resolution=1d
2025-09-04 14:24:52,025 - logging_config - INFO - websocket_handlers.py:808 - üìä MESSAGE FIELD VALUES for BTCUSDT:
2025-09-04 14:24:52,025 - logging_config - INFO - websocket_handlers.py:809 -   symbol: BTCUSDT (fallback: BTCUSDT)
2025-09-04 14:24:52,025 - logging_config - INFO - websocket_handlers.py:810 -   from_ts: 1744640640000 (type: <class 'int'>)
2025-09-04 14:24:52,025 - logging_config - INFO - websocket_handlers.py:811 -   to_ts: 1761557760000 (type: <class 'int'>)
2025-09-04 14:24:52,025 - logging_config - INFO - websocket_handlers.py:812 -   indicators: ['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4'] (type: <class 'list'>)
2025-09-04 14:24:52,026 - logging_config - INFO - websocket_handlers.py:813 -   resolution: 1d (type: <class 'str'>)
2025-09-04 14:24:52,026 - logging_config - INFO - websocket_handlers.py:819 - üìä SERVER TIME RANGE ANALYSIS for BTCUSDT:
2025-09-04 14:24:52,026 - logging_config - INFO - websocket_handlers.py:820 -   Old range: from_ts=1744640640, to_ts=1761557760
2025-09-04 14:24:52,026 - logging_config - INFO - websocket_handlers.py:821 -   New range: from_ts=1744640640, to_ts=1761557760
2025-09-04 14:24:52,026 - logging_config - INFO - websocket_handlers.py:822 -   Time range changed: False
2025-09-04 14:24:52,026 - logging_config - INFO - websocket_handlers.py:823 -   Historical sent: True
2025-09-04 14:24:52,026 - logging_config - INFO - websocket_handlers.py:824 -   Has timestamps: from_ts=True, to_ts=True
2025-09-04 14:24:52,026 - logging_config - INFO - websocket_handlers.py:843 -   üìÖ SERVER RECEIVED RANGE (UTC):
2025-09-04 14:24:52,026 - logging_config - INFO - websocket_handlers.py:844 -     From: 2025-04-14 14:24:00 UTC (1744640640)
2025-09-04 14:24:52,026 - logging_config - INFO - websocket_handlers.py:845 -     To: 2025-10-27 09:36:00 UTC (1761557760)
2025-09-04 14:24:52,026 - logging_config - INFO - websocket_handlers.py:846 -     Range: 16917120 seconds (4699.2 hours)
2025-09-04 14:24:52,026 - logging_config - INFO - websocket_handlers.py:848 -   üìÖ SERVER RECEIVED RANGE (Local Time):
2025-09-04 14:24:52,026 - logging_config - INFO - websocket_handlers.py:849 -     From: 2025-04-14 16:24:00 Central Europe Summer Time
2025-09-04 14:24:52,026 - logging_config - INFO - websocket_handlers.py:850 -     To: 2025-10-27 11:36:00 Central Europe Summer Time
2025-09-04 14:24:52,027 - logging_config - INFO - websocket_handlers.py:853 -   üåç TIMEZONE ANALYSIS:
2025-09-04 14:24:52,027 - logging_config - INFO - websocket_handlers.py:854 -     Server timezone: Central Europe Summer Time (UTC+2.0)
2025-09-04 14:24:52,027 - logging_config - INFO - websocket_handlers.py:855 -     User timezone (from logs): Europe/Ljubljana (UTC+2)
2025-09-04 14:24:52,027 - logging_config - INFO - websocket_handlers.py:856 -     Timezone difference: 0.0 hours
2025-09-04 14:24:52,027 - logging_config - INFO - websocket_handlers.py:859 -   üì§ DATA TO BE SENT TO CLIENT:
2025-09-04 14:24:52,027 - logging_config - INFO - websocket_handlers.py:860 -     Timestamps will be sent as seconds (not milliseconds)
2025-09-04 14:24:52,027 - logging_config - INFO - websocket_handlers.py:861 -     Client will receive: from_ts=1744640640, to_ts=1761557760
2025-09-04 14:24:52,027 - logging_config - INFO - websocket_handlers.py:862 -     Client local time equivalent: 2025-04-14 16:24:00 to 2025-10-27 11:36:00
2025-09-04 14:24:52,028 - logging_config - INFO - websocket_handlers.py:867 -   üìä USER'S CHART VIEW STATE:
2025-09-04 14:24:52,028 - logging_config - INFO - websocket_handlers.py:868 -     X-Axis Min: 30/08/2025, 10:31:39
2025-09-04 14:24:52,028 - logging_config - INFO - websocket_handlers.py:869 -     X-Axis Max: 04/09/2025, 01:58:37
2025-09-04 14:24:52,028 - logging_config - INFO - websocket_handlers.py:870 -     Expected local time range: 2025-08-30 10:31 to 2025-09-04 01:58
2025-09-04 14:24:52,028 - logging_config - INFO - websocket_handlers.py:871 -     Server received UTC equivalent: 2025-04-14 14:24 to 2025-10-27 09:36
2025-09-04 14:24:52,028 - logging_config - INFO - websocket_handlers.py:881 - Should send historical data: False
2025-09-04 14:24:52,028 - logging_config - INFO - websocket_handlers.py:887 - NOT sending historical data for BTCUSDT - conditions not met
2025-09-04 14:24:52,029 - logging_config - INFO - websocket_handlers.py:505 - Starting live stream for BTCUSDT from Redis stream: stream:kline:BTCUSDT:1d
2025-09-04 14:24:52,029 - logging_config - INFO - utility_endpoints.py:168 - POST /settings: RAW data received from client for symbol 'BTCUSDT': {'symbol': 'BTCUSDT', 'resolution': '1d', 'range': '3m', 'xAxisMin': 1748869920000, 'xAxisMax': 1757328480000, 'yAxisMin': 96802.69, 'yAxisMax': 125893.51, 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'useLocalOllama': False, 'localOllamaModelName': '', 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4'], 'liveDataEnabled': False, 'showAgentTrades': False, 'streamDeltaTime': 1, 'last_selected_symbol': 'BTCUSDT'}
2025-09-04 14:24:52,031 - logging_config - INFO - utility_endpoints.py:199 - POST /settings for BTCUSDT and email klemenzivkovic@gmail.com: current_symbol_settings compiled for Redis save: {'resolution': '1d', 'range': '3m', 'xAxisMin': 1748869920000, 'xAxisMax': 1757328480000, 'yAxisMin': 96802.69, 'yAxisMax': 125893.51, 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4'], 'liveDataEnabled': False, 'streamDeltaTime': 1, 'useLocalOllama': False, 'localOllamaModelName': '', 'showAgentTrades': False, 'symbol': 'BTCUSDT', 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'last_selected_symbol': 'BTCUSDT'}
2025-09-04 14:24:52,031 - logging_config - INFO - utility_endpoints.py:201 - POST /settings for BTCUSDT: Client sent streamDeltaTime: 1. Value to be saved in Redis for streamDeltaTime: 1
2025-09-04 14:24:52,031 - logging_config - INFO - utility_endpoints.py:204 - POST /settings for BTCUSDT and email klemenzivkovic@gmail.com: Settings updated in Redis for BTCUSDT: {'resolution': '1d', 'range': '3m', 'xAxisMin': 1748869920000, 'xAxisMax': 1757328480000, 'yAxisMin': 96802.69, 'yAxisMax': 125893.51, 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4'], 'liveDataEnabled': False, 'streamDeltaTime': 1, 'useLocalOllama': False, 'localOllamaModelName': '', 'showAgentTrades': False, 'symbol': 'BTCUSDT', 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'last_selected_symbol': 'BTCUSDT'}
2025-09-04 14:24:53,114 - logging_config - INFO - websocket_handlers.py:742 - üì® RAW MESSAGE RECEIVED for BTCUSDT: {
  "type": "config",
  "symbol": "BTCUSDT",
  "indicators": [
    "macd",
    "rsi",
    "stochrsi_9_3",
    "stochrsi_14_3",
    "stochrsi_40_4",
    "stochrsi_60_10"
  ],
  "resolution": "1d",
  "from_ts": 1744640640000,
  "to_ts": 1761557760000
}
2025-09-04 14:24:53,115 - logging_config - INFO - websocket_handlers.py:747 - [TIMESTAMP DEBUG] websocket_handlers.py - Received timestamps:
2025-09-04 14:24:53,115 - logging_config - INFO - websocket_handlers.py:748 -   from_ts: 1744640640000 (type: <class 'int'>)
2025-09-04 14:24:53,115 - logging_config - INFO - websocket_handlers.py:749 -   to_ts: 1761557760000 (type: <class 'int'>)
2025-09-04 14:24:53,115 - logging_config - WARNING - websocket_handlers.py:769 - [TIMESTAMP DEBUG] from_ts 1744640640000 appears to be in MILLISECONDS (should be seconds)
2025-09-04 14:24:53,115 - logging_config - INFO - websocket_handlers.py:770 -   Converting to seconds: 1744640640
2025-09-04 14:24:53,116 - logging_config - INFO - websocket_handlers.py:774 - [TIMESTAMP CONVERSION] Client milliseconds -> Server seconds:
2025-09-04 14:24:53,116 - logging_config - INFO - websocket_handlers.py:775 -   1744640640000 -> 1744640640 (2025-04-14 14:24:00 UTC)
2025-09-04 14:24:53,116 - logging_config - INFO - websocket_handlers.py:776 -   1761557760000 -> 1761557760 (2025-10-27 09:36:00 UTC)
2025-09-04 14:24:53,116 - logging_config - INFO - websocket_handlers.py:795 - [TIMESTAMP FIX] Final timestamps set:
2025-09-04 14:24:53,116 - logging_config - INFO - websocket_handlers.py:796 -   from_ts: 1744640640 (type: <class 'int'>)
2025-09-04 14:24:53,116 - logging_config - INFO - websocket_handlers.py:797 -   to_ts: 1761557760 (type: <class 'int'>)
2025-09-04 14:24:53,116 - logging_config - INFO - websocket_handlers.py:807 - Client config updated for BTCUSDT: indicators=['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4', 'stochrsi_60_10'], resolution=1d
2025-09-04 14:24:53,116 - logging_config - INFO - websocket_handlers.py:808 - üìä MESSAGE FIELD VALUES for BTCUSDT:
2025-09-04 14:24:53,116 - logging_config - INFO - websocket_handlers.py:809 -   symbol: BTCUSDT (fallback: BTCUSDT)
2025-09-04 14:24:53,116 - logging_config - INFO - websocket_handlers.py:810 -   from_ts: 1744640640000 (type: <class 'int'>)
2025-09-04 14:24:53,116 - logging_config - INFO - websocket_handlers.py:811 -   to_ts: 1761557760000 (type: <class 'int'>)
2025-09-04 14:24:53,117 - logging_config - INFO - websocket_handlers.py:812 -   indicators: ['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4', 'stochrsi_60_10'] (type: <class 'list'>)
2025-09-04 14:24:53,117 - logging_config - INFO - websocket_handlers.py:813 -   resolution: 1d (type: <class 'str'>)
2025-09-04 14:24:53,117 - logging_config - INFO - websocket_handlers.py:819 - üìä SERVER TIME RANGE ANALYSIS for BTCUSDT:
2025-09-04 14:24:53,117 - logging_config - INFO - websocket_handlers.py:820 -   Old range: from_ts=1744640640, to_ts=1761557760
2025-09-04 14:24:53,117 - logging_config - INFO - websocket_handlers.py:821 -   New range: from_ts=1744640640, to_ts=1761557760
2025-09-04 14:24:53,117 - logging_config - INFO - websocket_handlers.py:822 -   Time range changed: False
2025-09-04 14:24:53,117 - logging_config - INFO - websocket_handlers.py:823 -   Historical sent: True
2025-09-04 14:24:53,118 - logging_config - INFO - websocket_handlers.py:824 -   Has timestamps: from_ts=True, to_ts=True
2025-09-04 14:24:53,118 - logging_config - INFO - websocket_handlers.py:843 -   üìÖ SERVER RECEIVED RANGE (UTC):
2025-09-04 14:24:53,118 - logging_config - INFO - websocket_handlers.py:844 -     From: 2025-04-14 14:24:00 UTC (1744640640)
2025-09-04 14:24:53,118 - logging_config - INFO - websocket_handlers.py:845 -     To: 2025-10-27 09:36:00 UTC (1761557760)
2025-09-04 14:24:53,118 - logging_config - INFO - websocket_handlers.py:846 -     Range: 16917120 seconds (4699.2 hours)
2025-09-04 14:24:53,118 - logging_config - INFO - websocket_handlers.py:848 -   üìÖ SERVER RECEIVED RANGE (Local Time):
2025-09-04 14:24:53,118 - logging_config - INFO - websocket_handlers.py:849 -     From: 2025-04-14 16:24:00 Central Europe Summer Time
2025-09-04 14:24:53,118 - logging_config - INFO - websocket_handlers.py:850 -     To: 2025-10-27 11:36:00 Central Europe Summer Time
2025-09-04 14:24:53,118 - logging_config - INFO - websocket_handlers.py:853 -   üåç TIMEZONE ANALYSIS:
2025-09-04 14:24:53,118 - logging_config - INFO - websocket_handlers.py:854 -     Server timezone: Central Europe Summer Time (UTC+2.0)
2025-09-04 14:24:53,118 - logging_config - INFO - websocket_handlers.py:855 -     User timezone (from logs): Europe/Ljubljana (UTC+2)
2025-09-04 14:24:53,118 - logging_config - INFO - websocket_handlers.py:856 -     Timezone difference: 0.0 hours
2025-09-04 14:24:53,118 - logging_config - INFO - websocket_handlers.py:859 -   üì§ DATA TO BE SENT TO CLIENT:
2025-09-04 14:24:53,118 - logging_config - INFO - websocket_handlers.py:860 -     Timestamps will be sent as seconds (not milliseconds)
2025-09-04 14:24:53,119 - logging_config - INFO - websocket_handlers.py:861 -     Client will receive: from_ts=1744640640, to_ts=1761557760
2025-09-04 14:24:53,119 - logging_config - INFO - websocket_handlers.py:862 -     Client local time equivalent: 2025-04-14 16:24:00 to 2025-10-27 11:36:00
2025-09-04 14:24:53,119 - logging_config - INFO - websocket_handlers.py:867 -   üìä USER'S CHART VIEW STATE:
2025-09-04 14:24:53,119 - logging_config - INFO - websocket_handlers.py:868 -     X-Axis Min: 30/08/2025, 10:31:39
2025-09-04 14:24:53,119 - logging_config - INFO - websocket_handlers.py:869 -     X-Axis Max: 04/09/2025, 01:58:37
2025-09-04 14:24:53,119 - logging_config - INFO - websocket_handlers.py:870 -     Expected local time range: 2025-08-30 10:31 to 2025-09-04 01:58
2025-09-04 14:24:53,119 - logging_config - INFO - websocket_handlers.py:871 -     Server received UTC equivalent: 2025-04-14 14:24 to 2025-10-27 09:36
2025-09-04 14:24:53,119 - logging_config - INFO - websocket_handlers.py:881 - Should send historical data: False
2025-09-04 14:24:53,120 - logging_config - INFO - websocket_handlers.py:887 - NOT sending historical data for BTCUSDT - conditions not met
2025-09-04 14:24:53,121 - logging_config - INFO - websocket_handlers.py:505 - Starting live stream for BTCUSDT from Redis stream: stream:kline:BTCUSDT:1d
2025-09-04 14:24:53,121 - logging_config - INFO - utility_endpoints.py:168 - POST /settings: RAW data received from client for symbol 'BTCUSDT': {'symbol': 'BTCUSDT', 'resolution': '1d', 'range': '3m', 'xAxisMin': 1748869920000, 'xAxisMax': 1757328480000, 'yAxisMin': 96802.69, 'yAxisMax': 125893.51, 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'useLocalOllama': False, 'localOllamaModelName': '', 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4', 'stochrsi_60_10'], 'liveDataEnabled': False, 'showAgentTrades': False, 'streamDeltaTime': 1, 'last_selected_symbol': 'BTCUSDT'}
2025-09-04 14:24:53,122 - logging_config - INFO - utility_endpoints.py:199 - POST /settings for BTCUSDT and email klemenzivkovic@gmail.com: current_symbol_settings compiled for Redis save: {'resolution': '1d', 'range': '3m', 'xAxisMin': 1748869920000, 'xAxisMax': 1757328480000, 'yAxisMin': 96802.69, 'yAxisMax': 125893.51, 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4', 'stochrsi_60_10'], 'liveDataEnabled': False, 'streamDeltaTime': 1, 'useLocalOllama': False, 'localOllamaModelName': '', 'showAgentTrades': False, 'symbol': 'BTCUSDT', 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'last_selected_symbol': 'BTCUSDT'}
2025-09-04 14:24:53,122 - logging_config - INFO - utility_endpoints.py:201 - POST /settings for BTCUSDT: Client sent streamDeltaTime: 1. Value to be saved in Redis for streamDeltaTime: 1
2025-09-04 14:24:53,122 - logging_config - INFO - utility_endpoints.py:204 - POST /settings for BTCUSDT and email klemenzivkovic@gmail.com: Settings updated in Redis for BTCUSDT: {'resolution': '1d', 'range': '3m', 'xAxisMin': 1748869920000, 'xAxisMax': 1757328480000, 'yAxisMin': 96802.69, 'yAxisMax': 125893.51, 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4', 'stochrsi_60_10'], 'liveDataEnabled': False, 'streamDeltaTime': 1, 'useLocalOllama': False, 'localOllamaModelName': '', 'showAgentTrades': False, 'symbol': 'BTCUSDT', 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'last_selected_symbol': 'BTCUSDT'}
2025-09-04 14:24:56,820 - logging_config - INFO - AppTradingView.py:382 - Symbol chart page request for BTCUSDT from 192.168.1.1. Current session state: authenticated=True, email=klemenzivkovic@gmail.com
2025-09-04 14:24:56,820 - logging_config - INFO - AppTradingView.py:383 - Security debug - Headers: X-Forwarded-For=192.168.1.1, X-Real-IP=192.168.1.1, User-Agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36
2025-09-04 14:24:56,822 - logging_config - INFO - AppTradingView.py:384 - Security debug - Session ID: None, Client IP: 192.168.1.1
2025-09-04 14:24:56,822 - logging_config - INFO - AppTradingView.py:388 - Security debug - Is local test: False (client_host == '192.168.1.52')
2025-09-04 14:24:56,822 - logging_config - INFO - AppTradingView.py:404 - Email found in session for BTCUSDT request from 192.168.1.1: klemenzivkovic@gmail.com
2025-09-04 14:24:56,834 - logging_config - ERROR - websocket_handlers.py:709 - Failed to receive WebSocket message for BTCUSDT: (1001, '')
Traceback (most recent call last):
  File "c:\git\ai-trading-bot-2\websocket_handlers.py", line 704, in stream_combined_data_websocket_endpoint
    message = await asyncio.wait_for(websocket.receive_json(), timeout=1.0)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python312\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
           ^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\websockets.py", line 136, in receive_json
    self._raise_on_disconnect(message)
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\websockets.py", line 114, in _raise_on_disconnect
    raise WebSocketDisconnect(message["code"], message.get("reason"))
starlette.websockets.WebSocketDisconnect: (1001, '')
2025-09-04 14:24:56,836 - logging_config - INFO - utility_endpoints.py:282 - Log stream generator cancelled.
2025-09-04 14:24:56,966 - logging_config - INFO - AppTradingView.py:382 - Symbol chart page request for favicon.ico from 192.168.1.1. Current session state: authenticated=True, email=klemenzivkovic@gmail.com
2025-09-04 14:24:56,967 - logging_config - INFO - AppTradingView.py:383 - Security debug - Headers: X-Forwarded-For=192.168.1.1, X-Real-IP=192.168.1.1, User-Agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36
2025-09-04 14:24:56,967 - logging_config - INFO - AppTradingView.py:384 - Security debug - Session ID: None, Client IP: 192.168.1.1
2025-09-04 14:24:56,967 - logging_config - INFO - AppTradingView.py:388 - Security debug - Is local test: False (client_host == '192.168.1.52')
2025-09-04 14:24:56,967 - logging_config - INFO - AppTradingView.py:404 - Email found in session for favicon.ico request from 192.168.1.1: klemenzivkovic@gmail.com
2025-09-04 14:24:57,005 - logging_config - INFO - utility_endpoints.py:59 - DEBUG: Timestamp conversion for BTCUSDT:
2025-09-04 14:24:57,005 - logging_config - INFO - utility_endpoints.py:60 -   Raw x_axis_min: 1748869920000, x_axis_max: 1757328480000
2025-09-04 14:24:57,005 - logging_config - INFO - utility_endpoints.py:61 -   Converted min_timestamp: 1748869920000, max_timestamp: 1757328480000
2025-09-04 14:24:57,005 - logging_config - INFO - utility_endpoints.py:62 -   Timestamp seconds: min=1748869920.0, max=1757328480.0
2025-09-04 14:24:57,005 - logging_config - INFO - utility_endpoints.py:68 -   Final dates: min=2025-06-02T13:12:00+00:00, max=2025-09-08T10:48:00+00:00
2025-09-04 14:24:57,005 - logging_config - INFO - utility_endpoints.py:141 - GET /settings for BTCUSDT: Retrieved from Redis: {'resolution': '1d', 'range': '3m', 'xAxisMin': 1748869920000, 'xAxisMax': 1757328480000, 'yAxisMin': 96802.69, 'yAxisMax': 125893.51, 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4', 'stochrsi_60_10'], 'liveDataEnabled': False, 'streamDeltaTime': 1, 'useLocalOllama': False, 'localOllamaModelName': '', 'showAgentTrades': False, 'symbol': 'BTCUSDT', 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'last_selected_symbol': 'BTCUSDT'}
2025-09-04 14:24:57,051 - logging_config - INFO - websocket_handlers.py:271 - WebSocket connection accepted for combined data: BTCUSDT
2025-09-04 14:24:57,056 - logging_config - INFO - websocket_handlers.py:742 - üì® RAW MESSAGE RECEIVED for BTCUSDT: {
  "type": "config",
  "symbol": "BTCUSDT",
  "indicators": [
    "macd",
    "rsi",
    "stochrsi_9_3",
    "stochrsi_14_3",
    "stochrsi_40_4",
    "stochrsi_60_10"
  ],
  "resolution": "1d",
  "from_ts": "2025-06-02T13:12:00.000Z",
  "to_ts": "2025-09-08T10:48:00.000Z"
}
2025-09-04 14:24:57,057 - logging_config - INFO - websocket_handlers.py:747 - [TIMESTAMP DEBUG] websocket_handlers.py - Received timestamps:
2025-09-04 14:24:57,057 - logging_config - INFO - websocket_handlers.py:748 -   from_ts: 2025-06-02T13:12:00.000Z (type: <class 'str'>)
2025-09-04 14:24:57,057 - logging_config - INFO - websocket_handlers.py:749 -   to_ts: 2025-09-08T10:48:00.000Z (type: <class 'str'>)
2025-09-04 14:24:57,058 - logging_config - INFO - websocket_handlers.py:754 - [TIMESTAMP DEBUG] Timestamps are ISO strings (correct format)
2025-09-04 14:24:57,058 - logging_config - INFO - websocket_handlers.py:761 - [TIMESTAMP CONVERSION] ISO strings -> Unix seconds:
2025-09-04 14:24:57,058 - logging_config - INFO - websocket_handlers.py:762 -   2025-06-02T13:12:00.000Z -> 1748869920 (2025-06-02 13:12:00 UTC)
2025-09-04 14:24:57,058 - logging_config - INFO - websocket_handlers.py:763 -   2025-09-08T10:48:00.000Z -> 1757328480 (2025-09-08 10:48:00 UTC)
2025-09-04 14:24:57,058 - logging_config - INFO - websocket_handlers.py:795 - [TIMESTAMP FIX] Final timestamps set:
2025-09-04 14:24:57,058 - logging_config - INFO - websocket_handlers.py:796 -   from_ts: 1748869920 (type: <class 'int'>)
2025-09-04 14:24:57,058 - logging_config - INFO - websocket_handlers.py:797 -   to_ts: 1757328480 (type: <class 'int'>)
2025-09-04 14:24:57,059 - logging_config - INFO - websocket_handlers.py:807 - Client config updated for BTCUSDT: indicators=['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4', 'stochrsi_60_10'], resolution=1d
2025-09-04 14:24:57,059 - logging_config - INFO - websocket_handlers.py:808 - üìä MESSAGE FIELD VALUES for BTCUSDT:
2025-09-04 14:24:57,059 - logging_config - INFO - websocket_handlers.py:809 -   symbol: BTCUSDT (fallback: BTCUSDT)
2025-09-04 14:24:57,059 - logging_config - INFO - websocket_handlers.py:810 -   from_ts: 2025-06-02T13:12:00.000Z (type: <class 'str'>)
2025-09-04 14:24:57,059 - logging_config - INFO - websocket_handlers.py:811 -   to_ts: 2025-09-08T10:48:00.000Z (type: <class 'str'>)
2025-09-04 14:24:57,059 - logging_config - INFO - websocket_handlers.py:812 -   indicators: ['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4', 'stochrsi_60_10'] (type: <class 'list'>)
2025-09-04 14:24:57,059 - logging_config - INFO - websocket_handlers.py:813 -   resolution: 1d (type: <class 'str'>)
2025-09-04 14:24:57,059 - logging_config - INFO - websocket_handlers.py:819 - üìä SERVER TIME RANGE ANALYSIS for BTCUSDT:
2025-09-04 14:24:57,060 - logging_config - INFO - websocket_handlers.py:820 -   Old range: from_ts=None, to_ts=None
2025-09-04 14:24:57,060 - logging_config - INFO - websocket_handlers.py:821 -   New range: from_ts=1748869920, to_ts=1757328480
2025-09-04 14:24:57,060 - logging_config - INFO - websocket_handlers.py:822 -   Time range changed: True
2025-09-04 14:24:57,060 - logging_config - INFO - websocket_handlers.py:823 -   Historical sent: False
2025-09-04 14:24:57,060 - logging_config - INFO - websocket_handlers.py:824 -   Has timestamps: from_ts=True, to_ts=True
2025-09-04 14:24:57,060 - logging_config - INFO - websocket_handlers.py:843 -   üìÖ SERVER RECEIVED RANGE (UTC):
2025-09-04 14:24:57,060 - logging_config - INFO - websocket_handlers.py:844 -     From: 2025-06-02 13:12:00 UTC (1748869920)
2025-09-04 14:24:57,060 - logging_config - INFO - websocket_handlers.py:845 -     To: 2025-09-08 10:48:00 UTC (1757328480)
2025-09-04 14:24:57,060 - logging_config - INFO - websocket_handlers.py:846 -     Range: 8458560 seconds (2349.6 hours)
2025-09-04 14:24:57,060 - logging_config - INFO - websocket_handlers.py:848 -   üìÖ SERVER RECEIVED RANGE (Local Time):
2025-09-04 14:24:57,060 - logging_config - INFO - websocket_handlers.py:849 -     From: 2025-06-02 15:12:00 Central Europe Summer Time
2025-09-04 14:24:57,060 - logging_config - INFO - websocket_handlers.py:850 -     To: 2025-09-08 12:48:00 Central Europe Summer Time
2025-09-04 14:24:57,061 - logging_config - INFO - websocket_handlers.py:853 -   üåç TIMEZONE ANALYSIS:
2025-09-04 14:24:57,061 - logging_config - INFO - websocket_handlers.py:854 -     Server timezone: Central Europe Summer Time (UTC+2.0)
2025-09-04 14:24:57,061 - logging_config - INFO - websocket_handlers.py:855 -     User timezone (from logs): Europe/Ljubljana (UTC+2)
2025-09-04 14:24:57,061 - logging_config - INFO - websocket_handlers.py:856 -     Timezone difference: 0.0 hours
2025-09-04 14:24:57,061 - logging_config - INFO - websocket_handlers.py:859 -   üì§ DATA TO BE SENT TO CLIENT:
2025-09-04 14:24:57,061 - logging_config - INFO - websocket_handlers.py:860 -     Timestamps will be sent as seconds (not milliseconds)
2025-09-04 14:24:57,061 - logging_config - INFO - websocket_handlers.py:861 -     Client will receive: from_ts=1748869920, to_ts=1757328480
2025-09-04 14:24:57,061 - logging_config - INFO - websocket_handlers.py:862 -     Client local time equivalent: 2025-06-02 15:12:00 to 2025-09-08 12:48:00
2025-09-04 14:24:57,061 - logging_config - INFO - websocket_handlers.py:867 -   üìä USER'S CHART VIEW STATE:
2025-09-04 14:24:57,061 - logging_config - INFO - websocket_handlers.py:868 -     X-Axis Min: 30/08/2025, 10:31:39
2025-09-04 14:24:57,061 - logging_config - INFO - websocket_handlers.py:869 -     X-Axis Max: 04/09/2025, 01:58:37
2025-09-04 14:24:57,061 - logging_config - INFO - websocket_handlers.py:870 -     Expected local time range: 2025-08-30 10:31 to 2025-09-04 01:58
2025-09-04 14:24:57,061 - logging_config - INFO - websocket_handlers.py:871 -     Server received UTC equivalent: 2025-06-02 13:12 to 2025-09-08 10:48
2025-09-04 14:24:57,061 - logging_config - INFO - websocket_handlers.py:881 - Should send historical data: 1757328480
2025-09-04 14:24:57,061 - logging_config - INFO - websocket_handlers.py:884 - Sending historical data for BTCUSDT - time range changed: True, historical_sent: False
2025-09-04 14:24:57,061 - logging_config - INFO - websocket_handlers.py:309 - Sending historical data for BTCUSDT with indicators: ['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4', 'stochrsi_60_10']
2025-09-04 14:24:57,062 - logging_config - INFO - websocket_handlers.py:310 - Time range: from_ts=1748869920, to_ts=1757328480, resolution=1d
2025-09-04 14:24:57,062 - logging_config - INFO - websocket_handlers.py:320 - WebSocket session email found: klemenzivkovic@gmail.com
2025-09-04 14:24:57,062 - logging_config - INFO - websocket_handlers.py:325 - Looking for drawings: symbol=BTCUSDT, resolution=1d, email=klemenzivkovic@gmail.com
2025-09-04 14:24:57,062 - logging_config - INFO - websocket_handlers.py:330 - Redis key for drawings: drawings:klemenzivkovic@gmail.com:BTCUSDT
2025-09-04 14:24:57,062 - logging_config - INFO - drawing_manager.py:60 - get_drawings for BTCUSDT with resolution '1d': found 2 total, returning 1 filtered.
2025-09-04 14:24:57,062 - logging_config - INFO - websocket_handlers.py:339 - Sending 1 existing drawings for BTCUSDT
2025-09-04 14:24:57,063 - logging_config - INFO - websocket_handlers.py:345 - Sending drawing (1) message: {'type': 'drawings', 'symbol': 'BTCUSDT', 'data': [{'symbol': 'BTCUSDT', 'type': 'line', 'start_time': 1754834563, 'end_time': 1757620497, 'start_price': 125654.72871123493, 'end_price': 105505.85254783757, 'subplot_name': 'BTCUSDT', 'resolution': '1d', 'properties': {'buyOnCross': False, 'sellOnCross': False, 'sendEmailOnCross': True}, 'id': 'a8369b54-997f-455e-9cea-d9fecb571bd3'}]}
2025-09-04 14:24:57,063 - logging_config - INFO - websocket_handlers.py:347 - Successfully sent drawings message to client
2025-09-04 14:24:57,063 - logging_config - INFO - redis_utils.py:103 - Querying sorted set 'zset:kline:BTCUSDT:1d' for range [1748869920, 1757328480]
2025-09-04 14:24:57,063 - logging_config - INFO - redis_utils.py:106 - [TIMESTAMP DEBUG] redis_utils.py - get_cached_klines query:
2025-09-04 14:24:57,063 - logging_config - INFO - redis_utils.py:107 -   start_ts: 1748869920 (type: <class 'int'>)
2025-09-04 14:24:57,063 - logging_config - INFO - redis_utils.py:108 -   end_ts: 1757328480 (type: <class 'int'>)
2025-09-04 14:24:57,063 - logging_config - INFO - redis_utils.py:115 - [TIMESTAMP DEBUG] start_ts 1748869920 appears to be in SECONDS (correct for Redis)
2025-09-04 14:24:57,063 - logging_config - INFO - redis_utils.py:120 - [TIMESTAMP DEBUG] Checking Redis data sample for comparison...
2025-09-04 14:24:57,064 - logging_config - INFO - redis_utils.py:159 - Found 94 cached klines for BTCUSDT 1d between 1748869920 and 1757328480
2025-09-04 14:24:57,065 - logging_config - INFO - redis_utils.py:163 - üîç DATA GAP ANALYSIS for BTCUSDT 1d:
2025-09-04 14:24:57,065 - logging_config - INFO - redis_utils.py:164 -   Expected data points based on time range: ~97
2025-09-04 14:24:57,065 - logging_config - INFO - redis_utils.py:165 -   Actual data points retrieved: 94
2025-09-04 14:24:57,065 - logging_config - INFO - redis_utils.py:194 - ‚úÖ No data gaps detected - data appears continuous
2025-09-04 14:24:57,065 - logging_config - INFO - websocket_handlers.py:362 - ‚úÖ REDIS SUCCESS: Retrieved 94 klines from Redis for BTCUSDT
2025-09-04 14:24:57,065 - logging_config - INFO - websocket_handlers.py:398 - ‚úÖ CACHE HIT: Found 94 klines in Redis cache for BTCUSDT
2025-09-04 14:24:57,065 - logging_config - INFO - websocket_handlers.py:402 - Calculating indicators for BTCUSDT: 6 indicators, 94 klines
2025-09-04 14:24:57,066 - logging_config - INFO - redis_utils.py:265 - Found 94 cached Open Interest entries for BTCUSDT 1d between 1748869920 and 1757328480
2025-09-04 14:24:57,080 - logging_config - WARNING - indicators.py:229 - üîç STOCHRSI INSUFFICIENT DATA: Need at least 140 points, got 94. This will cause 46 NaN values at the start.
2025-09-04 14:24:57,530 - logging_config - INFO - background_tasks.py:75 - üìä STARTING OPEN INTEREST: Data fetch cycle
2025-09-04 14:26:10,243 - logging_config - INFO - background_tasks.py:75 - üìä STARTING OPEN INTEREST: Data fetch cycle
2025-09-04 14:27:21,734 - logging_config - INFO - background_tasks.py:75 - üìä STARTING OPEN INTEREST: Data fetch cycle
2025-09-04 14:28:33,716 - logging_config - INFO - background_tasks.py:75 - üìä STARTING OPEN INTEREST: Data fetch cycle
2025-09-04 14:28:37,001 - logging_config - INFO - AppTradingView.py:382 - Symbol chart page request for BTCUSDT from 192.168.1.1. Current session state: authenticated=True, email=klemenzivkovic@gmail.com
2025-09-04 14:28:37,001 - logging_config - INFO - AppTradingView.py:383 - Security debug - Headers: X-Forwarded-For=192.168.1.1, X-Real-IP=192.168.1.1, User-Agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36
2025-09-04 14:28:37,001 - logging_config - INFO - AppTradingView.py:384 - Security debug - Session ID: None, Client IP: 192.168.1.1
2025-09-04 14:28:37,001 - logging_config - INFO - AppTradingView.py:388 - Security debug - Is local test: False (client_host == '192.168.1.52')
2025-09-04 14:28:37,001 - logging_config - INFO - AppTradingView.py:404 - Email found in session for BTCUSDT request from 192.168.1.1: klemenzivkovic@gmail.com
2025-09-04 14:28:37,185 - logging_config - INFO - utility_endpoints.py:282 - Log stream generator cancelled.
2025-09-04 14:28:37,364 - logging_config - ERROR - websocket_handlers.py:709 - Failed to receive WebSocket message for BTCUSDT: (1001, '')
Traceback (most recent call last):
  File "c:\git\ai-trading-bot-2\websocket_handlers.py", line 704, in stream_combined_data_websocket_endpoint
    message = await asyncio.wait_for(websocket.receive_json(), timeout=1.0)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python312\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
           ^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\websockets.py", line 136, in receive_json
    self._raise_on_disconnect(message)
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\websockets.py", line 114, in _raise_on_disconnect
    raise WebSocketDisconnect(message["code"], message.get("reason"))
starlette.websockets.WebSocketDisconnect: (1001, '')
2025-09-04 14:28:38,048 - logging_config - INFO - AppTradingView.py:382 - Symbol chart page request for favicon.ico from 192.168.1.1. Current session state: authenticated=True, email=klemenzivkovic@gmail.com
2025-09-04 14:28:38,049 - logging_config - INFO - AppTradingView.py:383 - Security debug - Headers: X-Forwarded-For=192.168.1.1, X-Real-IP=192.168.1.1, User-Agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36
2025-09-04 14:28:38,049 - logging_config - INFO - AppTradingView.py:384 - Security debug - Session ID: None, Client IP: 192.168.1.1
2025-09-04 14:28:38,049 - logging_config - INFO - AppTradingView.py:388 - Security debug - Is local test: False (client_host == '192.168.1.52')
2025-09-04 14:28:38,049 - logging_config - INFO - AppTradingView.py:404 - Email found in session for favicon.ico request from 192.168.1.1: klemenzivkovic@gmail.com
2025-09-04 14:28:38,619 - logging_config - INFO - utility_endpoints.py:59 - DEBUG: Timestamp conversion for BTCUSDT:
2025-09-04 14:28:38,619 - logging_config - INFO - utility_endpoints.py:60 -   Raw x_axis_min: 1748869920000, x_axis_max: 1757328480000
2025-09-04 14:28:38,619 - logging_config - INFO - utility_endpoints.py:61 -   Converted min_timestamp: 1748869920000, max_timestamp: 1757328480000
2025-09-04 14:28:38,619 - logging_config - INFO - utility_endpoints.py:62 -   Timestamp seconds: min=1748869920.0, max=1757328480.0
2025-09-04 14:28:38,619 - logging_config - INFO - utility_endpoints.py:68 -   Final dates: min=2025-06-02T13:12:00+00:00, max=2025-09-08T10:48:00+00:00
2025-09-04 14:28:38,619 - logging_config - INFO - utility_endpoints.py:141 - GET /settings for BTCUSDT: Retrieved from Redis: {'resolution': '1d', 'range': '3m', 'xAxisMin': 1748869920000, 'xAxisMax': 1757328480000, 'yAxisMin': 96802.69, 'yAxisMax': 125893.51, 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4', 'stochrsi_60_10'], 'liveDataEnabled': False, 'streamDeltaTime': 1, 'useLocalOllama': False, 'localOllamaModelName': '', 'showAgentTrades': False, 'symbol': 'BTCUSDT', 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'last_selected_symbol': 'BTCUSDT'}
2025-09-04 14:28:38,983 - logging_config - INFO - websocket_handlers.py:271 - WebSocket connection accepted for combined data: BTCUSDT
2025-09-04 14:28:39,487 - logging_config - INFO - websocket_handlers.py:742 - üì® RAW MESSAGE RECEIVED for BTCUSDT: {
  "type": "config",
  "symbol": "BTCUSDT",
  "indicators": [
    "macd",
    "rsi",
    "stochrsi_9_3",
    "stochrsi_14_3",
    "stochrsi_40_4",
    "stochrsi_60_10"
  ],
  "resolution": "1d",
  "from_ts": "2025-06-02T13:12:00.000Z",
  "to_ts": "2025-09-08T10:48:00.000Z"
}
2025-09-04 14:28:39,487 - logging_config - INFO - websocket_handlers.py:747 - [TIMESTAMP DEBUG] websocket_handlers.py - Received timestamps:
2025-09-04 14:28:39,487 - logging_config - INFO - websocket_handlers.py:748 -   from_ts: 2025-06-02T13:12:00.000Z (type: <class 'str'>)
2025-09-04 14:28:39,487 - logging_config - INFO - websocket_handlers.py:749 -   to_ts: 2025-09-08T10:48:00.000Z (type: <class 'str'>)
2025-09-04 14:28:39,488 - logging_config - INFO - websocket_handlers.py:754 - [TIMESTAMP DEBUG] Timestamps are ISO strings (correct format)
2025-09-04 14:28:39,488 - logging_config - INFO - websocket_handlers.py:761 - [TIMESTAMP CONVERSION] ISO strings -> Unix seconds:
2025-09-04 14:28:39,488 - logging_config - INFO - websocket_handlers.py:762 -   2025-06-02T13:12:00.000Z -> 1748869920 (2025-06-02 13:12:00 UTC)
2025-09-04 14:28:39,488 - logging_config - INFO - websocket_handlers.py:763 -   2025-09-08T10:48:00.000Z -> 1757328480 (2025-09-08 10:48:00 UTC)
2025-09-04 14:28:39,488 - logging_config - INFO - websocket_handlers.py:795 - [TIMESTAMP FIX] Final timestamps set:
2025-09-04 14:28:39,488 - logging_config - INFO - websocket_handlers.py:796 -   from_ts: 1748869920 (type: <class 'int'>)
2025-09-04 14:28:39,488 - logging_config - INFO - websocket_handlers.py:797 -   to_ts: 1757328480 (type: <class 'int'>)
2025-09-04 14:28:39,488 - logging_config - INFO - websocket_handlers.py:807 - Client config updated for BTCUSDT: indicators=['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4', 'stochrsi_60_10'], resolution=1d
2025-09-04 14:28:39,488 - logging_config - INFO - websocket_handlers.py:808 - üìä MESSAGE FIELD VALUES for BTCUSDT:
2025-09-04 14:28:39,488 - logging_config - INFO - websocket_handlers.py:809 -   symbol: BTCUSDT (fallback: BTCUSDT)
2025-09-04 14:28:39,489 - logging_config - INFO - websocket_handlers.py:810 -   from_ts: 2025-06-02T13:12:00.000Z (type: <class 'str'>)
2025-09-04 14:28:39,489 - logging_config - INFO - websocket_handlers.py:811 -   to_ts: 2025-09-08T10:48:00.000Z (type: <class 'str'>)
2025-09-04 14:28:39,489 - logging_config - INFO - websocket_handlers.py:812 -   indicators: ['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4', 'stochrsi_60_10'] (type: <class 'list'>)
2025-09-04 14:28:39,489 - logging_config - INFO - websocket_handlers.py:813 -   resolution: 1d (type: <class 'str'>)
2025-09-04 14:28:39,489 - logging_config - INFO - websocket_handlers.py:819 - üìä SERVER TIME RANGE ANALYSIS for BTCUSDT:
2025-09-04 14:28:39,489 - logging_config - INFO - websocket_handlers.py:820 -   Old range: from_ts=None, to_ts=None
2025-09-04 14:28:39,489 - logging_config - INFO - websocket_handlers.py:821 -   New range: from_ts=1748869920, to_ts=1757328480
2025-09-04 14:28:39,489 - logging_config - INFO - websocket_handlers.py:822 -   Time range changed: True
2025-09-04 14:28:39,489 - logging_config - INFO - websocket_handlers.py:823 -   Historical sent: False
2025-09-04 14:28:39,489 - logging_config - INFO - websocket_handlers.py:824 -   Has timestamps: from_ts=True, to_ts=True
2025-09-04 14:28:39,489 - logging_config - INFO - websocket_handlers.py:843 -   üìÖ SERVER RECEIVED RANGE (UTC):
2025-09-04 14:28:39,490 - logging_config - INFO - websocket_handlers.py:844 -     From: 2025-06-02 13:12:00 UTC (1748869920)
2025-09-04 14:28:39,490 - logging_config - INFO - websocket_handlers.py:845 -     To: 2025-09-08 10:48:00 UTC (1757328480)
2025-09-04 14:28:39,490 - logging_config - INFO - websocket_handlers.py:846 -     Range: 8458560 seconds (2349.6 hours)
2025-09-04 14:28:39,490 - logging_config - INFO - websocket_handlers.py:848 -   üìÖ SERVER RECEIVED RANGE (Local Time):
2025-09-04 14:28:39,490 - logging_config - INFO - websocket_handlers.py:849 -     From: 2025-06-02 15:12:00 Central Europe Summer Time
2025-09-04 14:28:39,490 - logging_config - INFO - websocket_handlers.py:850 -     To: 2025-09-08 12:48:00 Central Europe Summer Time
2025-09-04 14:28:39,490 - logging_config - INFO - websocket_handlers.py:853 -   üåç TIMEZONE ANALYSIS:
2025-09-04 14:28:39,490 - logging_config - INFO - websocket_handlers.py:854 -     Server timezone: Central Europe Summer Time (UTC+2.0)
2025-09-04 14:28:39,490 - logging_config - INFO - websocket_handlers.py:855 -     User timezone (from logs): Europe/Ljubljana (UTC+2)
2025-09-04 14:28:39,491 - logging_config - INFO - websocket_handlers.py:856 -     Timezone difference: 0.0 hours
2025-09-04 14:28:39,491 - logging_config - INFO - websocket_handlers.py:859 -   üì§ DATA TO BE SENT TO CLIENT:
2025-09-04 14:28:39,491 - logging_config - INFO - websocket_handlers.py:860 -     Timestamps will be sent as seconds (not milliseconds)
2025-09-04 14:28:39,491 - logging_config - INFO - websocket_handlers.py:861 -     Client will receive: from_ts=1748869920, to_ts=1757328480
2025-09-04 14:28:39,491 - logging_config - INFO - websocket_handlers.py:862 -     Client local time equivalent: 2025-06-02 15:12:00 to 2025-09-08 12:48:00
2025-09-04 14:28:39,491 - logging_config - INFO - websocket_handlers.py:867 -   üìä USER'S CHART VIEW STATE:
2025-09-04 14:28:39,491 - logging_config - INFO - websocket_handlers.py:868 -     X-Axis Min: 30/08/2025, 10:31:39
2025-09-04 14:28:39,491 - logging_config - INFO - websocket_handlers.py:869 -     X-Axis Max: 04/09/2025, 01:58:37
2025-09-04 14:28:39,491 - logging_config - INFO - websocket_handlers.py:870 -     Expected local time range: 2025-08-30 10:31 to 2025-09-04 01:58
2025-09-04 14:28:39,492 - logging_config - INFO - websocket_handlers.py:871 -     Server received UTC equivalent: 2025-06-02 13:12 to 2025-09-08 10:48
2025-09-04 14:28:39,492 - logging_config - INFO - websocket_handlers.py:881 - Should send historical data: 1757328480
2025-09-04 14:28:39,492 - logging_config - INFO - websocket_handlers.py:884 - Sending historical data for BTCUSDT - time range changed: True, historical_sent: False
2025-09-04 14:28:39,492 - logging_config - INFO - websocket_handlers.py:309 - Sending historical data for BTCUSDT with indicators: ['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4', 'stochrsi_60_10']
2025-09-04 14:28:39,492 - logging_config - INFO - websocket_handlers.py:310 - Time range: from_ts=1748869920, to_ts=1757328480, resolution=1d
2025-09-04 14:28:39,492 - logging_config - INFO - websocket_handlers.py:320 - WebSocket session email found: klemenzivkovic@gmail.com
2025-09-04 14:28:39,492 - logging_config - INFO - websocket_handlers.py:325 - Looking for drawings: symbol=BTCUSDT, resolution=1d, email=klemenzivkovic@gmail.com
2025-09-04 14:28:39,492 - logging_config - INFO - websocket_handlers.py:330 - Redis key for drawings: drawings:klemenzivkovic@gmail.com:BTCUSDT
2025-09-04 14:28:39,493 - logging_config - INFO - drawing_manager.py:60 - get_drawings for BTCUSDT with resolution '1d': found 2 total, returning 1 filtered.
2025-09-04 14:28:39,493 - logging_config - INFO - websocket_handlers.py:339 - Sending 1 existing drawings for BTCUSDT
2025-09-04 14:28:39,493 - logging_config - INFO - websocket_handlers.py:345 - Sending drawing (1) message: {'type': 'drawings', 'symbol': 'BTCUSDT', 'data': [{'symbol': 'BTCUSDT', 'type': 'line', 'start_time': 1754834563, 'end_time': 1757620497, 'start_price': 125654.72871123493, 'end_price': 105505.85254783757, 'subplot_name': 'BTCUSDT', 'resolution': '1d', 'properties': {'buyOnCross': False, 'sellOnCross': False, 'sendEmailOnCross': True}, 'id': 'a8369b54-997f-455e-9cea-d9fecb571bd3'}]}
2025-09-04 14:28:39,493 - logging_config - INFO - websocket_handlers.py:347 - Successfully sent drawings message to client
2025-09-04 14:28:39,493 - logging_config - INFO - redis_utils.py:103 - Querying sorted set 'zset:kline:BTCUSDT:1d' for range [1748869920, 1757328480]
2025-09-04 14:28:39,493 - logging_config - INFO - redis_utils.py:106 - [TIMESTAMP DEBUG] redis_utils.py - get_cached_klines query:
2025-09-04 14:28:39,493 - logging_config - INFO - redis_utils.py:107 -   start_ts: 1748869920 (type: <class 'int'>)
2025-09-04 14:28:39,493 - logging_config - INFO - redis_utils.py:108 -   end_ts: 1757328480 (type: <class 'int'>)
2025-09-04 14:28:39,493 - logging_config - INFO - redis_utils.py:115 - [TIMESTAMP DEBUG] start_ts 1748869920 appears to be in SECONDS (correct for Redis)
2025-09-04 14:28:39,493 - logging_config - INFO - redis_utils.py:120 - [TIMESTAMP DEBUG] Checking Redis data sample for comparison...
2025-09-04 14:28:39,496 - logging_config - INFO - redis_utils.py:159 - Found 94 cached klines for BTCUSDT 1d between 1748869920 and 1757328480
2025-09-04 14:28:39,496 - logging_config - INFO - redis_utils.py:163 - üîç DATA GAP ANALYSIS for BTCUSDT 1d:
2025-09-04 14:28:39,496 - logging_config - INFO - redis_utils.py:164 -   Expected data points based on time range: ~97
2025-09-04 14:28:39,496 - logging_config - INFO - redis_utils.py:165 -   Actual data points retrieved: 94
2025-09-04 14:28:39,496 - logging_config - INFO - redis_utils.py:194 - ‚úÖ No data gaps detected - data appears continuous
2025-09-04 14:28:39,496 - logging_config - INFO - websocket_handlers.py:362 - ‚úÖ REDIS SUCCESS: Retrieved 94 klines from Redis for BTCUSDT
2025-09-04 14:28:39,496 - logging_config - INFO - websocket_handlers.py:398 - ‚úÖ CACHE HIT: Found 94 klines in Redis cache for BTCUSDT
2025-09-04 14:28:39,497 - logging_config - INFO - websocket_handlers.py:402 - Calculating indicators for BTCUSDT: 6 indicators, 94 klines
2025-09-04 14:28:39,677 - logging_config - INFO - redis_utils.py:265 - Found 94 cached Open Interest entries for BTCUSDT 1d between 1748869920 and 1757328480
2025-09-04 14:28:39,689 - logging_config - WARNING - indicators.py:229 - üîç STOCHRSI INSUFFICIENT DATA: Need at least 140 points, got 94. This will cause 46 NaN values at the start.
2025-09-04 14:28:51,762 - logging_config - INFO - websocket_handlers.py:742 - üì® RAW MESSAGE RECEIVED for BTCUSDT: {
  "type": "config",
  "symbol": "BTCUSDT",
  "indicators": [
    "macd",
    "rsi",
    "stochrsi_9_3",
    "stochrsi_14_3",
    "stochrsi_40_4",
    "stochrsi_60_10"
  ],
  "resolution": "1d",
  "from_ts": 1737972230449,
  "to_ts": 1765863846033
}
2025-09-04 14:28:51,763 - logging_config - INFO - websocket_handlers.py:747 - [TIMESTAMP DEBUG] websocket_handlers.py - Received timestamps:
2025-09-04 14:28:51,763 - logging_config - INFO - websocket_handlers.py:748 -   from_ts: 1737972230449 (type: <class 'int'>)
2025-09-04 14:28:51,763 - logging_config - INFO - websocket_handlers.py:749 -   to_ts: 1765863846033 (type: <class 'int'>)
2025-09-04 14:28:51,763 - logging_config - WARNING - websocket_handlers.py:769 - [TIMESTAMP DEBUG] from_ts 1737972230449 appears to be in MILLISECONDS (should be seconds)
2025-09-04 14:28:51,763 - logging_config - INFO - websocket_handlers.py:770 -   Converting to seconds: 1737972230
2025-09-04 14:28:51,763 - logging_config - INFO - websocket_handlers.py:774 - [TIMESTAMP CONVERSION] Client milliseconds -> Server seconds:
2025-09-04 14:28:51,763 - logging_config - INFO - websocket_handlers.py:775 -   1737972230449 -> 1737972230 (2025-01-27 10:03:50 UTC)
2025-09-04 14:28:51,763 - logging_config - INFO - websocket_handlers.py:776 -   1765863846033 -> 1765863846 (2025-12-16 05:44:06 UTC)
2025-09-04 14:28:51,764 - logging_config - INFO - websocket_handlers.py:795 - [TIMESTAMP FIX] Final timestamps set:
2025-09-04 14:28:51,764 - logging_config - INFO - websocket_handlers.py:796 -   from_ts: 1737972230 (type: <class 'int'>)
2025-09-04 14:28:51,764 - logging_config - INFO - websocket_handlers.py:797 -   to_ts: 1765863846 (type: <class 'int'>)
2025-09-04 14:28:51,764 - logging_config - INFO - websocket_handlers.py:807 - Client config updated for BTCUSDT: indicators=['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4', 'stochrsi_60_10'], resolution=1d
2025-09-04 14:28:51,764 - logging_config - INFO - websocket_handlers.py:808 - üìä MESSAGE FIELD VALUES for BTCUSDT:
2025-09-04 14:28:51,764 - logging_config - INFO - websocket_handlers.py:809 -   symbol: BTCUSDT (fallback: BTCUSDT)
2025-09-04 14:28:51,764 - logging_config - INFO - websocket_handlers.py:810 -   from_ts: 1737972230449 (type: <class 'int'>)
2025-09-04 14:28:51,764 - logging_config - INFO - websocket_handlers.py:811 -   to_ts: 1765863846033 (type: <class 'int'>)
2025-09-04 14:28:51,764 - logging_config - INFO - websocket_handlers.py:812 -   indicators: ['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4', 'stochrsi_60_10'] (type: <class 'list'>)
2025-09-04 14:28:51,764 - logging_config - INFO - websocket_handlers.py:813 -   resolution: 1d (type: <class 'str'>)
2025-09-04 14:28:51,764 - logging_config - INFO - websocket_handlers.py:819 - üìä SERVER TIME RANGE ANALYSIS for BTCUSDT:
2025-09-04 14:28:51,764 - logging_config - INFO - websocket_handlers.py:820 -   Old range: from_ts=1748869920, to_ts=1757328480
2025-09-04 14:28:51,765 - logging_config - INFO - websocket_handlers.py:821 -   New range: from_ts=1737972230, to_ts=1765863846
2025-09-04 14:28:51,765 - logging_config - INFO - websocket_handlers.py:822 -   Time range changed: True
2025-09-04 14:28:51,765 - logging_config - INFO - websocket_handlers.py:823 -   Historical sent: True
2025-09-04 14:28:51,765 - logging_config - INFO - websocket_handlers.py:824 -   Has timestamps: from_ts=True, to_ts=True
2025-09-04 14:28:51,765 - logging_config - INFO - websocket_handlers.py:843 -   üìÖ SERVER RECEIVED RANGE (UTC):
2025-09-04 14:28:51,765 - logging_config - INFO - websocket_handlers.py:844 -     From: 2025-01-27 10:03:50 UTC (1737972230)
2025-09-04 14:28:51,765 - logging_config - INFO - websocket_handlers.py:845 -     To: 2025-12-16 05:44:06 UTC (1765863846)
2025-09-04 14:28:51,765 - logging_config - INFO - websocket_handlers.py:846 -     Range: 27891616 seconds (7747.7 hours)
2025-09-04 14:28:51,765 - logging_config - INFO - websocket_handlers.py:848 -   üìÖ SERVER RECEIVED RANGE (Local Time):
2025-09-04 14:28:51,765 - logging_config - INFO - websocket_handlers.py:849 -     From: 2025-01-27 12:03:50 Central Europe Summer Time
2025-09-04 14:28:51,765 - logging_config - INFO - websocket_handlers.py:850 -     To: 2025-12-16 07:44:06 Central Europe Summer Time
2025-09-04 14:28:51,765 - logging_config - INFO - websocket_handlers.py:853 -   üåç TIMEZONE ANALYSIS:
2025-09-04 14:28:51,765 - logging_config - INFO - websocket_handlers.py:854 -     Server timezone: Central Europe Summer Time (UTC+2.0)
2025-09-04 14:28:51,765 - logging_config - INFO - websocket_handlers.py:855 -     User timezone (from logs): Europe/Ljubljana (UTC+2)
2025-09-04 14:28:51,766 - logging_config - INFO - websocket_handlers.py:856 -     Timezone difference: 0.0 hours
2025-09-04 14:28:51,766 - logging_config - INFO - websocket_handlers.py:859 -   üì§ DATA TO BE SENT TO CLIENT:
2025-09-04 14:28:51,766 - logging_config - INFO - websocket_handlers.py:860 -     Timestamps will be sent as seconds (not milliseconds)
2025-09-04 14:28:51,766 - logging_config - INFO - websocket_handlers.py:861 -     Client will receive: from_ts=1737972230, to_ts=1765863846
2025-09-04 14:28:51,766 - logging_config - INFO - websocket_handlers.py:862 -     Client local time equivalent: 2025-01-27 12:03:50 to 2025-12-16 07:44:06
2025-09-04 14:28:51,766 - logging_config - INFO - websocket_handlers.py:867 -   üìä USER'S CHART VIEW STATE:
2025-09-04 14:28:51,766 - logging_config - INFO - websocket_handlers.py:868 -     X-Axis Min: 30/08/2025, 10:31:39
2025-09-04 14:28:51,766 - logging_config - INFO - websocket_handlers.py:869 -     X-Axis Max: 04/09/2025, 01:58:37
2025-09-04 14:28:51,766 - logging_config - INFO - websocket_handlers.py:870 -     Expected local time range: 2025-08-30 10:31 to 2025-09-04 01:58
2025-09-04 14:28:51,766 - logging_config - INFO - websocket_handlers.py:871 -     Server received UTC equivalent: 2025-01-27 10:03 to 2025-12-16 05:44
2025-09-04 14:28:51,766 - logging_config - INFO - websocket_handlers.py:881 - Should send historical data: 1765863846
2025-09-04 14:28:51,766 - logging_config - INFO - websocket_handlers.py:884 - Sending historical data for BTCUSDT - time range changed: True, historical_sent: True
2025-09-04 14:28:51,766 - logging_config - INFO - websocket_handlers.py:309 - Sending historical data for BTCUSDT with indicators: ['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4', 'stochrsi_60_10']
2025-09-04 14:28:51,766 - logging_config - INFO - websocket_handlers.py:310 - Time range: from_ts=1737972230, to_ts=1765863846, resolution=1d
2025-09-04 14:28:51,766 - logging_config - INFO - websocket_handlers.py:320 - WebSocket session email found: klemenzivkovic@gmail.com
2025-09-04 14:28:51,766 - logging_config - INFO - websocket_handlers.py:325 - Looking for drawings: symbol=BTCUSDT, resolution=1d, email=klemenzivkovic@gmail.com
2025-09-04 14:28:51,766 - logging_config - INFO - websocket_handlers.py:330 - Redis key for drawings: drawings:klemenzivkovic@gmail.com:BTCUSDT
2025-09-04 14:28:51,767 - logging_config - INFO - drawing_manager.py:60 - get_drawings for BTCUSDT with resolution '1d': found 2 total, returning 1 filtered.
2025-09-04 14:28:51,767 - logging_config - INFO - websocket_handlers.py:339 - Sending 1 existing drawings for BTCUSDT
2025-09-04 14:28:51,767 - logging_config - INFO - websocket_handlers.py:345 - Sending drawing (1) message: {'type': 'drawings', 'symbol': 'BTCUSDT', 'data': [{'symbol': 'BTCUSDT', 'type': 'line', 'start_time': 1754834563, 'end_time': 1757620497, 'start_price': 125654.72871123493, 'end_price': 105505.85254783757, 'subplot_name': 'BTCUSDT', 'resolution': '1d', 'properties': {'buyOnCross': False, 'sellOnCross': False, 'sendEmailOnCross': True}, 'id': 'a8369b54-997f-455e-9cea-d9fecb571bd3'}]}
2025-09-04 14:28:51,768 - logging_config - INFO - websocket_handlers.py:347 - Successfully sent drawings message to client
2025-09-04 14:28:51,768 - logging_config - INFO - redis_utils.py:103 - Querying sorted set 'zset:kline:BTCUSDT:1d' for range [1737972230, 1765863846]
2025-09-04 14:28:51,768 - logging_config - INFO - redis_utils.py:106 - [TIMESTAMP DEBUG] redis_utils.py - get_cached_klines query:
2025-09-04 14:28:51,768 - logging_config - INFO - redis_utils.py:107 -   start_ts: 1737972230 (type: <class 'int'>)
2025-09-04 14:28:51,768 - logging_config - INFO - redis_utils.py:108 -   end_ts: 1765863846 (type: <class 'int'>)
2025-09-04 14:28:51,768 - logging_config - INFO - redis_utils.py:115 - [TIMESTAMP DEBUG] start_ts 1737972230 appears to be in SECONDS (correct for Redis)
2025-09-04 14:28:51,768 - logging_config - INFO - redis_utils.py:120 - [TIMESTAMP DEBUG] Checking Redis data sample for comparison...
2025-09-04 14:28:51,770 - logging_config - INFO - redis_utils.py:159 - Found 220 cached klines for BTCUSDT 1d between 1737972230 and 1765863846
2025-09-04 14:28:51,771 - logging_config - INFO - redis_utils.py:163 - üîç DATA GAP ANALYSIS for BTCUSDT 1d:
2025-09-04 14:28:51,771 - logging_config - INFO - redis_utils.py:164 -   Expected data points based on time range: ~322
2025-09-04 14:28:51,771 - logging_config - INFO - redis_utils.py:165 -   Actual data points retrieved: 220
2025-09-04 14:28:51,771 - logging_config - INFO - redis_utils.py:194 - ‚úÖ No data gaps detected - data appears continuous
2025-09-04 14:28:51,771 - logging_config - INFO - websocket_handlers.py:362 - ‚úÖ REDIS SUCCESS: Retrieved 220 klines from Redis for BTCUSDT
2025-09-04 14:28:51,772 - logging_config - INFO - websocket_handlers.py:398 - ‚úÖ CACHE HIT: Found 220 klines in Redis cache for BTCUSDT
2025-09-04 14:28:51,772 - logging_config - INFO - websocket_handlers.py:402 - Calculating indicators for BTCUSDT: 6 indicators, 220 klines
2025-09-04 14:28:51,774 - logging_config - INFO - redis_utils.py:265 - Found 220 cached Open Interest entries for BTCUSDT 1d between 1737972230 and 1765863846
2025-09-04 14:28:51,825 - logging_config - INFO - utility_endpoints.py:168 - POST /settings: RAW data received from client for symbol 'BTCUSDT': {'symbol': 'BTCUSDT', 'resolution': '1d', 'range': '3m', 'xAxisMin': 1746753262367, 'xAxisMax': 1758171124082, 'yAxisMin': 94331.56618765231, 'yAxisMax': 133600.06578426046, 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'useLocalOllama': False, 'localOllamaModelName': '', 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4', 'stochrsi_60_10'], 'liveDataEnabled': False, 'showAgentTrades': False, 'streamDeltaTime': 1, 'last_selected_symbol': 'BTCUSDT'}
2025-09-04 14:28:51,826 - logging_config - INFO - utility_endpoints.py:199 - POST /settings for BTCUSDT and email klemenzivkovic@gmail.com: current_symbol_settings compiled for Redis save: {'resolution': '1d', 'range': '3m', 'xAxisMin': 1746753262367, 'xAxisMax': 1758171124082, 'yAxisMin': 94331.56618765231, 'yAxisMax': 133600.06578426046, 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4', 'stochrsi_60_10'], 'liveDataEnabled': False, 'streamDeltaTime': 1, 'useLocalOllama': False, 'localOllamaModelName': '', 'showAgentTrades': False, 'symbol': 'BTCUSDT', 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'last_selected_symbol': 'BTCUSDT'}
2025-09-04 14:28:51,826 - logging_config - INFO - utility_endpoints.py:201 - POST /settings for BTCUSDT: Client sent streamDeltaTime: 1. Value to be saved in Redis for streamDeltaTime: 1
2025-09-04 14:28:51,827 - logging_config - INFO - utility_endpoints.py:204 - POST /settings for BTCUSDT and email klemenzivkovic@gmail.com: Settings updated in Redis for BTCUSDT: {'resolution': '1d', 'range': '3m', 'xAxisMin': 1746753262367, 'xAxisMax': 1758171124082, 'yAxisMin': 94331.56618765231, 'yAxisMax': 133600.06578426046, 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4', 'stochrsi_60_10'], 'liveDataEnabled': False, 'streamDeltaTime': 1, 'useLocalOllama': False, 'localOllamaModelName': '', 'showAgentTrades': False, 'symbol': 'BTCUSDT', 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'last_selected_symbol': 'BTCUSDT'}
2025-09-04 14:28:51,835 - logging_config - INFO - utility_endpoints.py:168 - POST /settings: RAW data received from client for symbol 'BTCUSDT': {'symbol': 'BTCUSDT', 'resolution': '1d', 'range': '3m', 'xAxisMin': 1744945134345, 'xAxisMax': 1758890942137, 'yAxisMin': 92220.63991325097, 'yAxisMax': 140183.29362935966, 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'useLocalOllama': False, 'localOllamaModelName': '', 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4', 'stochrsi_60_10'], 'liveDataEnabled': False, 'showAgentTrades': False, 'streamDeltaTime': 1, 'last_selected_symbol': 'BTCUSDT'}
2025-09-04 14:28:51,836 - logging_config - INFO - utility_endpoints.py:199 - POST /settings for BTCUSDT and email klemenzivkovic@gmail.com: current_symbol_settings compiled for Redis save: {'resolution': '1d', 'range': '3m', 'xAxisMin': 1744945134345, 'xAxisMax': 1758890942137, 'yAxisMin': 92220.63991325097, 'yAxisMax': 140183.29362935966, 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4', 'stochrsi_60_10'], 'liveDataEnabled': False, 'streamDeltaTime': 1, 'useLocalOllama': False, 'localOllamaModelName': '', 'showAgentTrades': False, 'symbol': 'BTCUSDT', 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'last_selected_symbol': 'BTCUSDT'}
2025-09-04 14:28:51,836 - logging_config - INFO - utility_endpoints.py:201 - POST /settings for BTCUSDT: Client sent streamDeltaTime: 1. Value to be saved in Redis for streamDeltaTime: 1
2025-09-04 14:28:51,836 - logging_config - INFO - utility_endpoints.py:204 - POST /settings for BTCUSDT and email klemenzivkovic@gmail.com: Settings updated in Redis for BTCUSDT: {'resolution': '1d', 'range': '3m', 'xAxisMin': 1744945134345, 'xAxisMax': 1758890942137, 'yAxisMin': 92220.63991325097, 'yAxisMax': 140183.29362935966, 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4', 'stochrsi_60_10'], 'liveDataEnabled': False, 'streamDeltaTime': 1, 'useLocalOllama': False, 'localOllamaModelName': '', 'showAgentTrades': False, 'symbol': 'BTCUSDT', 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'last_selected_symbol': 'BTCUSDT'}
2025-09-04 14:28:51,844 - logging_config - INFO - utility_endpoints.py:168 - POST /settings: RAW data received from client for symbol 'BTCUSDT': {'symbol': 'BTCUSDT', 'resolution': '1d', 'range': '3m', 'xAxisMin': 1742740281792, 'xAxisMax': 1759770129894, 'yAxisMin': 89642.3487394244, 'yAxisMax': 148224.0662769607, 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'useLocalOllama': False, 'localOllamaModelName': '', 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4', 'stochrsi_60_10'], 'liveDataEnabled': False, 'showAgentTrades': False, 'streamDeltaTime': 1, 'last_selected_symbol': 'BTCUSDT'}
2025-09-04 14:28:51,845 - logging_config - INFO - utility_endpoints.py:199 - POST /settings for BTCUSDT and email klemenzivkovic@gmail.com: current_symbol_settings compiled for Redis save: {'resolution': '1d', 'range': '3m', 'xAxisMin': 1742740281792, 'xAxisMax': 1759770129894, 'yAxisMin': 89642.3487394244, 'yAxisMax': 148224.0662769607, 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4', 'stochrsi_60_10'], 'liveDataEnabled': False, 'streamDeltaTime': 1, 'useLocalOllama': False, 'localOllamaModelName': '', 'showAgentTrades': False, 'symbol': 'BTCUSDT', 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'last_selected_symbol': 'BTCUSDT'}
2025-09-04 14:28:51,845 - logging_config - INFO - utility_endpoints.py:201 - POST /settings for BTCUSDT: Client sent streamDeltaTime: 1. Value to be saved in Redis for streamDeltaTime: 1
2025-09-04 14:28:51,846 - logging_config - INFO - utility_endpoints.py:204 - POST /settings for BTCUSDT and email klemenzivkovic@gmail.com: Settings updated in Redis for BTCUSDT: {'resolution': '1d', 'range': '3m', 'xAxisMin': 1742740281792, 'xAxisMax': 1759770129894, 'yAxisMin': 89642.3487394244, 'yAxisMax': 148224.0662769607, 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4', 'stochrsi_60_10'], 'liveDataEnabled': False, 'streamDeltaTime': 1, 'useLocalOllama': False, 'localOllamaModelName': '', 'showAgentTrades': False, 'symbol': 'BTCUSDT', 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'last_selected_symbol': 'BTCUSDT'}
2025-09-04 14:28:51,939 - logging_config - INFO - websocket_handlers.py:742 - üì® RAW MESSAGE RECEIVED for BTCUSDT: {
  "type": "config",
  "symbol": "BTCUSDT",
  "indicators": [
    "macd",
    "rsi",
    "stochrsi_9_3",
    "stochrsi_14_3",
    "stochrsi_40_4",
    "stochrsi_60_10"
  ],
  "resolution": "1d",
  "from_ts": 1737972230449,
  "to_ts": 1765863846033
}
2025-09-04 14:28:51,940 - logging_config - INFO - websocket_handlers.py:747 - [TIMESTAMP DEBUG] websocket_handlers.py - Received timestamps:
2025-09-04 14:28:51,940 - logging_config - INFO - websocket_handlers.py:748 -   from_ts: 1737972230449 (type: <class 'int'>)
2025-09-04 14:28:51,940 - logging_config - INFO - websocket_handlers.py:749 -   to_ts: 1765863846033 (type: <class 'int'>)
2025-09-04 14:28:51,940 - logging_config - WARNING - websocket_handlers.py:769 - [TIMESTAMP DEBUG] from_ts 1737972230449 appears to be in MILLISECONDS (should be seconds)
2025-09-04 14:28:51,940 - logging_config - INFO - websocket_handlers.py:770 -   Converting to seconds: 1737972230
2025-09-04 14:28:51,940 - logging_config - INFO - websocket_handlers.py:774 - [TIMESTAMP CONVERSION] Client milliseconds -> Server seconds:
2025-09-04 14:28:51,940 - logging_config - INFO - websocket_handlers.py:775 -   1737972230449 -> 1737972230 (2025-01-27 10:03:50 UTC)
2025-09-04 14:28:51,940 - logging_config - INFO - websocket_handlers.py:776 -   1765863846033 -> 1765863846 (2025-12-16 05:44:06 UTC)
2025-09-04 14:28:51,940 - logging_config - INFO - websocket_handlers.py:795 - [TIMESTAMP FIX] Final timestamps set:
2025-09-04 14:28:51,941 - logging_config - INFO - websocket_handlers.py:796 -   from_ts: 1737972230 (type: <class 'int'>)
2025-09-04 14:28:51,941 - logging_config - INFO - websocket_handlers.py:797 -   to_ts: 1765863846 (type: <class 'int'>)
2025-09-04 14:28:51,941 - logging_config - INFO - websocket_handlers.py:807 - Client config updated for BTCUSDT: indicators=['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4', 'stochrsi_60_10'], resolution=1d
2025-09-04 14:28:51,941 - logging_config - INFO - websocket_handlers.py:808 - üìä MESSAGE FIELD VALUES for BTCUSDT:
2025-09-04 14:28:51,941 - logging_config - INFO - websocket_handlers.py:809 -   symbol: BTCUSDT (fallback: BTCUSDT)
2025-09-04 14:28:51,941 - logging_config - INFO - websocket_handlers.py:810 -   from_ts: 1737972230449 (type: <class 'int'>)
2025-09-04 14:28:51,941 - logging_config - INFO - websocket_handlers.py:811 -   to_ts: 1765863846033 (type: <class 'int'>)
2025-09-04 14:28:51,941 - logging_config - INFO - websocket_handlers.py:812 -   indicators: ['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4', 'stochrsi_60_10'] (type: <class 'list'>)
2025-09-04 14:28:51,941 - logging_config - INFO - websocket_handlers.py:813 -   resolution: 1d (type: <class 'str'>)
2025-09-04 14:28:51,941 - logging_config - INFO - websocket_handlers.py:819 - üìä SERVER TIME RANGE ANALYSIS for BTCUSDT:
2025-09-04 14:28:51,941 - logging_config - INFO - websocket_handlers.py:820 -   Old range: from_ts=1737972230, to_ts=1765863846
2025-09-04 14:28:51,942 - logging_config - INFO - websocket_handlers.py:821 -   New range: from_ts=1737972230, to_ts=1765863846
2025-09-04 14:28:51,942 - logging_config - INFO - websocket_handlers.py:822 -   Time range changed: False
2025-09-04 14:28:51,942 - logging_config - INFO - websocket_handlers.py:823 -   Historical sent: True
2025-09-04 14:28:51,942 - logging_config - INFO - websocket_handlers.py:824 -   Has timestamps: from_ts=True, to_ts=True
2025-09-04 14:28:51,942 - logging_config - INFO - websocket_handlers.py:843 -   üìÖ SERVER RECEIVED RANGE (UTC):
2025-09-04 14:28:51,942 - logging_config - INFO - websocket_handlers.py:844 -     From: 2025-01-27 10:03:50 UTC (1737972230)
2025-09-04 14:28:51,942 - logging_config - INFO - websocket_handlers.py:845 -     To: 2025-12-16 05:44:06 UTC (1765863846)
2025-09-04 14:28:51,942 - logging_config - INFO - websocket_handlers.py:846 -     Range: 27891616 seconds (7747.7 hours)
2025-09-04 14:28:51,942 - logging_config - INFO - websocket_handlers.py:848 -   üìÖ SERVER RECEIVED RANGE (Local Time):
2025-09-04 14:28:51,942 - logging_config - INFO - websocket_handlers.py:849 -     From: 2025-01-27 12:03:50 Central Europe Summer Time
2025-09-04 14:28:51,942 - logging_config - INFO - websocket_handlers.py:850 -     To: 2025-12-16 07:44:06 Central Europe Summer Time
2025-09-04 14:28:51,942 - logging_config - INFO - websocket_handlers.py:853 -   üåç TIMEZONE ANALYSIS:
2025-09-04 14:28:51,943 - logging_config - INFO - websocket_handlers.py:854 -     Server timezone: Central Europe Summer Time (UTC+2.0)
2025-09-04 14:28:51,943 - logging_config - INFO - websocket_handlers.py:855 -     User timezone (from logs): Europe/Ljubljana (UTC+2)
2025-09-04 14:28:51,943 - logging_config - INFO - websocket_handlers.py:856 -     Timezone difference: 0.0 hours
2025-09-04 14:28:51,943 - logging_config - INFO - websocket_handlers.py:859 -   üì§ DATA TO BE SENT TO CLIENT:
2025-09-04 14:28:51,943 - logging_config - INFO - websocket_handlers.py:860 -     Timestamps will be sent as seconds (not milliseconds)
2025-09-04 14:28:51,943 - logging_config - INFO - websocket_handlers.py:861 -     Client will receive: from_ts=1737972230, to_ts=1765863846
2025-09-04 14:28:51,943 - logging_config - INFO - websocket_handlers.py:862 -     Client local time equivalent: 2025-01-27 12:03:50 to 2025-12-16 07:44:06
2025-09-04 14:28:51,943 - logging_config - INFO - websocket_handlers.py:867 -   üìä USER'S CHART VIEW STATE:
2025-09-04 14:28:51,943 - logging_config - INFO - websocket_handlers.py:868 -     X-Axis Min: 30/08/2025, 10:31:39
2025-09-04 14:28:51,943 - logging_config - INFO - websocket_handlers.py:869 -     X-Axis Max: 04/09/2025, 01:58:37
2025-09-04 14:28:51,943 - logging_config - INFO - websocket_handlers.py:870 -     Expected local time range: 2025-08-30 10:31 to 2025-09-04 01:58
2025-09-04 14:28:51,943 - logging_config - INFO - websocket_handlers.py:871 -     Server received UTC equivalent: 2025-01-27 10:03 to 2025-12-16 05:44
2025-09-04 14:28:51,944 - logging_config - INFO - websocket_handlers.py:881 - Should send historical data: False
2025-09-04 14:28:51,944 - logging_config - INFO - websocket_handlers.py:887 - NOT sending historical data for BTCUSDT - conditions not met
2025-09-04 14:28:51,945 - logging_config - INFO - websocket_handlers.py:505 - Starting live stream for BTCUSDT from Redis stream: stream:kline:BTCUSDT:1d
2025-09-04 14:28:52,018 - logging_config - INFO - utility_endpoints.py:168 - POST /settings: RAW data received from client for symbol 'BTCUSDT': {'symbol': 'BTCUSDT', 'resolution': '1d', 'range': '3m', 'xAxisMin': 1748233632384, 'xAxisMax': 1757581786905, 'yAxisMin': 96059.84644598502, 'yAxisMax': 128210.17469295843, 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'useLocalOllama': False, 'localOllamaModelName': '', 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4', 'stochrsi_60_10'], 'liveDataEnabled': False, 'showAgentTrades': False, 'streamDeltaTime': 1, 'last_selected_symbol': 'BTCUSDT'}
2025-09-04 14:28:52,020 - logging_config - INFO - utility_endpoints.py:199 - POST /settings for BTCUSDT and email klemenzivkovic@gmail.com: current_symbol_settings compiled for Redis save: {'resolution': '1d', 'range': '3m', 'xAxisMin': 1748233632384, 'xAxisMax': 1757581786905, 'yAxisMin': 96059.84644598502, 'yAxisMax': 128210.17469295843, 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4', 'stochrsi_60_10'], 'liveDataEnabled': False, 'streamDeltaTime': 1, 'useLocalOllama': False, 'localOllamaModelName': '', 'showAgentTrades': False, 'symbol': 'BTCUSDT', 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'last_selected_symbol': 'BTCUSDT'}
2025-09-04 14:28:52,020 - logging_config - INFO - utility_endpoints.py:201 - POST /settings for BTCUSDT: Client sent streamDeltaTime: 1. Value to be saved in Redis for streamDeltaTime: 1
2025-09-04 14:28:52,021 - logging_config - INFO - utility_endpoints.py:204 - POST /settings for BTCUSDT and email klemenzivkovic@gmail.com: Settings updated in Redis for BTCUSDT: {'resolution': '1d', 'range': '3m', 'xAxisMin': 1748233632384, 'xAxisMax': 1757581786905, 'yAxisMin': 96059.84644598502, 'yAxisMax': 128210.17469295843, 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4', 'stochrsi_60_10'], 'liveDataEnabled': False, 'streamDeltaTime': 1, 'useLocalOllama': False, 'localOllamaModelName': '', 'showAgentTrades': False, 'symbol': 'BTCUSDT', 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'last_selected_symbol': 'BTCUSDT'}
2025-09-04 14:28:52,049 - logging_config - INFO - websocket_handlers.py:742 - üì® RAW MESSAGE RECEIVED for BTCUSDT: {
  "type": "config",
  "symbol": "BTCUSDT",
  "indicators": [
    "macd",
    "rsi",
    "stochrsi_9_3",
    "stochrsi_14_3",
    "stochrsi_40_4",
    "stochrsi_60_10"
  ],
  "resolution": "1d",
  "from_ts": 1737972230449,
  "to_ts": 1765863846033
}
2025-09-04 14:28:52,050 - logging_config - INFO - websocket_handlers.py:747 - [TIMESTAMP DEBUG] websocket_handlers.py - Received timestamps:
2025-09-04 14:28:52,050 - logging_config - INFO - websocket_handlers.py:748 -   from_ts: 1737972230449 (type: <class 'int'>)
2025-09-04 14:28:52,050 - logging_config - INFO - websocket_handlers.py:749 -   to_ts: 1765863846033 (type: <class 'int'>)
2025-09-04 14:28:52,050 - logging_config - WARNING - websocket_handlers.py:769 - [TIMESTAMP DEBUG] from_ts 1737972230449 appears to be in MILLISECONDS (should be seconds)
2025-09-04 14:28:52,050 - logging_config - INFO - websocket_handlers.py:770 -   Converting to seconds: 1737972230
2025-09-04 14:28:52,050 - logging_config - INFO - websocket_handlers.py:774 - [TIMESTAMP CONVERSION] Client milliseconds -> Server seconds:
2025-09-04 14:28:52,050 - logging_config - INFO - websocket_handlers.py:775 -   1737972230449 -> 1737972230 (2025-01-27 10:03:50 UTC)
2025-09-04 14:28:52,050 - logging_config - INFO - websocket_handlers.py:776 -   1765863846033 -> 1765863846 (2025-12-16 05:44:06 UTC)
2025-09-04 14:28:52,050 - logging_config - INFO - websocket_handlers.py:795 - [TIMESTAMP FIX] Final timestamps set:
2025-09-04 14:28:52,051 - logging_config - INFO - websocket_handlers.py:796 -   from_ts: 1737972230 (type: <class 'int'>)
2025-09-04 14:28:52,051 - logging_config - INFO - websocket_handlers.py:797 -   to_ts: 1765863846 (type: <class 'int'>)
2025-09-04 14:28:52,051 - logging_config - INFO - websocket_handlers.py:807 - Client config updated for BTCUSDT: indicators=['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4', 'stochrsi_60_10'], resolution=1d
2025-09-04 14:28:52,051 - logging_config - INFO - websocket_handlers.py:808 - üìä MESSAGE FIELD VALUES for BTCUSDT:
2025-09-04 14:28:52,051 - logging_config - INFO - websocket_handlers.py:809 -   symbol: BTCUSDT (fallback: BTCUSDT)
2025-09-04 14:28:52,051 - logging_config - INFO - websocket_handlers.py:810 -   from_ts: 1737972230449 (type: <class 'int'>)
2025-09-04 14:28:52,051 - logging_config - INFO - websocket_handlers.py:811 -   to_ts: 1765863846033 (type: <class 'int'>)
2025-09-04 14:28:52,051 - logging_config - INFO - websocket_handlers.py:812 -   indicators: ['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4', 'stochrsi_60_10'] (type: <class 'list'>)
2025-09-04 14:28:52,052 - logging_config - INFO - websocket_handlers.py:813 -   resolution: 1d (type: <class 'str'>)
2025-09-04 14:28:52,052 - logging_config - INFO - websocket_handlers.py:819 - üìä SERVER TIME RANGE ANALYSIS for BTCUSDT:
2025-09-04 14:28:52,052 - logging_config - INFO - websocket_handlers.py:820 -   Old range: from_ts=1737972230, to_ts=1765863846
2025-09-04 14:28:52,052 - logging_config - INFO - websocket_handlers.py:821 -   New range: from_ts=1737972230, to_ts=1765863846
2025-09-04 14:28:52,052 - logging_config - INFO - websocket_handlers.py:822 -   Time range changed: False
2025-09-04 14:28:52,052 - logging_config - INFO - websocket_handlers.py:823 -   Historical sent: True
2025-09-04 14:28:52,052 - logging_config - INFO - websocket_handlers.py:824 -   Has timestamps: from_ts=True, to_ts=True
2025-09-04 14:28:52,052 - logging_config - INFO - websocket_handlers.py:843 -   üìÖ SERVER RECEIVED RANGE (UTC):
2025-09-04 14:28:52,052 - logging_config - INFO - websocket_handlers.py:844 -     From: 2025-01-27 10:03:50 UTC (1737972230)
2025-09-04 14:28:52,053 - logging_config - INFO - websocket_handlers.py:845 -     To: 2025-12-16 05:44:06 UTC (1765863846)
2025-09-04 14:28:52,053 - logging_config - INFO - websocket_handlers.py:846 -     Range: 27891616 seconds (7747.7 hours)
2025-09-04 14:28:52,053 - logging_config - INFO - websocket_handlers.py:848 -   üìÖ SERVER RECEIVED RANGE (Local Time):
2025-09-04 14:28:52,053 - logging_config - INFO - websocket_handlers.py:849 -     From: 2025-01-27 12:03:50 Central Europe Summer Time
2025-09-04 14:28:52,053 - logging_config - INFO - websocket_handlers.py:850 -     To: 2025-12-16 07:44:06 Central Europe Summer Time
2025-09-04 14:28:52,053 - logging_config - INFO - websocket_handlers.py:853 -   üåç TIMEZONE ANALYSIS:
2025-09-04 14:28:52,053 - logging_config - INFO - websocket_handlers.py:854 -     Server timezone: Central Europe Summer Time (UTC+2.0)
2025-09-04 14:28:52,053 - logging_config - INFO - websocket_handlers.py:855 -     User timezone (from logs): Europe/Ljubljana (UTC+2)
2025-09-04 14:28:52,053 - logging_config - INFO - websocket_handlers.py:856 -     Timezone difference: 0.0 hours
2025-09-04 14:28:52,053 - logging_config - INFO - websocket_handlers.py:859 -   üì§ DATA TO BE SENT TO CLIENT:
2025-09-04 14:28:52,053 - logging_config - INFO - websocket_handlers.py:860 -     Timestamps will be sent as seconds (not milliseconds)
2025-09-04 14:28:52,053 - logging_config - INFO - websocket_handlers.py:861 -     Client will receive: from_ts=1737972230, to_ts=1765863846
2025-09-04 14:28:52,053 - logging_config - INFO - websocket_handlers.py:862 -     Client local time equivalent: 2025-01-27 12:03:50 to 2025-12-16 07:44:06
2025-09-04 14:28:52,053 - logging_config - INFO - websocket_handlers.py:867 -   üìä USER'S CHART VIEW STATE:
2025-09-04 14:28:52,053 - logging_config - INFO - websocket_handlers.py:868 -     X-Axis Min: 30/08/2025, 10:31:39
2025-09-04 14:28:52,053 - logging_config - INFO - websocket_handlers.py:869 -     X-Axis Max: 04/09/2025, 01:58:37
2025-09-04 14:28:52,053 - logging_config - INFO - websocket_handlers.py:870 -     Expected local time range: 2025-08-30 10:31 to 2025-09-04 01:58
2025-09-04 14:28:52,053 - logging_config - INFO - websocket_handlers.py:871 -     Server received UTC equivalent: 2025-01-27 10:03 to 2025-12-16 05:44
2025-09-04 14:28:52,054 - logging_config - INFO - websocket_handlers.py:881 - Should send historical data: False
2025-09-04 14:28:52,054 - logging_config - INFO - websocket_handlers.py:887 - NOT sending historical data for BTCUSDT - conditions not met
2025-09-04 14:28:52,054 - logging_config - INFO - websocket_handlers.py:505 - Starting live stream for BTCUSDT from Redis stream: stream:kline:BTCUSDT:1d
2025-09-04 14:28:52,124 - logging_config - INFO - utility_endpoints.py:168 - POST /settings: RAW data received from client for symbol 'BTCUSDT': {'symbol': 'BTCUSDT', 'resolution': '1d', 'range': '3m', 'xAxisMin': 1747530425816, 'xAxisMax': 1757861734330, 'yAxisMin': 95238.8773534077, 'yAxisMax': 130770.48513854874, 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'useLocalOllama': False, 'localOllamaModelName': '', 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4', 'stochrsi_60_10'], 'liveDataEnabled': False, 'showAgentTrades': False, 'streamDeltaTime': 1, 'last_selected_symbol': 'BTCUSDT'}
2025-09-04 14:28:52,125 - logging_config - INFO - utility_endpoints.py:199 - POST /settings for BTCUSDT and email klemenzivkovic@gmail.com: current_symbol_settings compiled for Redis save: {'resolution': '1d', 'range': '3m', 'xAxisMin': 1747530425816, 'xAxisMax': 1757861734330, 'yAxisMin': 95238.8773534077, 'yAxisMax': 130770.48513854874, 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4', 'stochrsi_60_10'], 'liveDataEnabled': False, 'streamDeltaTime': 1, 'useLocalOllama': False, 'localOllamaModelName': '', 'showAgentTrades': False, 'symbol': 'BTCUSDT', 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'last_selected_symbol': 'BTCUSDT'}
2025-09-04 14:28:52,125 - logging_config - INFO - utility_endpoints.py:201 - POST /settings for BTCUSDT: Client sent streamDeltaTime: 1. Value to be saved in Redis for streamDeltaTime: 1
2025-09-04 14:28:52,125 - logging_config - INFO - utility_endpoints.py:204 - POST /settings for BTCUSDT and email klemenzivkovic@gmail.com: Settings updated in Redis for BTCUSDT: {'resolution': '1d', 'range': '3m', 'xAxisMin': 1747530425816, 'xAxisMax': 1757861734330, 'yAxisMin': 95238.8773534077, 'yAxisMax': 130770.48513854874, 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4', 'stochrsi_60_10'], 'liveDataEnabled': False, 'streamDeltaTime': 1, 'useLocalOllama': False, 'localOllamaModelName': '', 'showAgentTrades': False, 'symbol': 'BTCUSDT', 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'last_selected_symbol': 'BTCUSDT'}
2025-09-04 14:28:52,155 - logging_config - INFO - websocket_handlers.py:742 - üì® RAW MESSAGE RECEIVED for BTCUSDT: {
  "type": "config",
  "symbol": "BTCUSDT",
  "indicators": [
    "macd",
    "rsi",
    "stochrsi_9_3",
    "stochrsi_14_3",
    "stochrsi_40_4",
    "stochrsi_60_10"
  ],
  "resolution": "1d",
  "from_ts": 1734225357741,
  "to_ts": 1768285053945
}
2025-09-04 14:28:52,156 - logging_config - INFO - websocket_handlers.py:747 - [TIMESTAMP DEBUG] websocket_handlers.py - Received timestamps:
2025-09-04 14:28:52,156 - logging_config - INFO - websocket_handlers.py:748 -   from_ts: 1734225357741 (type: <class 'int'>)
2025-09-04 14:28:52,156 - logging_config - INFO - websocket_handlers.py:749 -   to_ts: 1768285053945 (type: <class 'int'>)
2025-09-04 14:28:52,156 - logging_config - WARNING - websocket_handlers.py:769 - [TIMESTAMP DEBUG] from_ts 1734225357741 appears to be in MILLISECONDS (should be seconds)
2025-09-04 14:28:52,156 - logging_config - INFO - websocket_handlers.py:770 -   Converting to seconds: 1734225357
2025-09-04 14:28:52,156 - logging_config - INFO - websocket_handlers.py:774 - [TIMESTAMP CONVERSION] Client milliseconds -> Server seconds:
2025-09-04 14:28:52,156 - logging_config - INFO - websocket_handlers.py:775 -   1734225357741 -> 1734225357 (2024-12-15 01:15:57 UTC)
2025-09-04 14:28:52,156 - logging_config - INFO - websocket_handlers.py:776 -   1768285053945 -> 1768285053 (2026-01-13 06:17:33 UTC)
2025-09-04 14:28:52,156 - logging_config - INFO - websocket_handlers.py:795 - [TIMESTAMP FIX] Final timestamps set:
2025-09-04 14:28:52,156 - logging_config - INFO - websocket_handlers.py:796 -   from_ts: 1734225357 (type: <class 'int'>)
2025-09-04 14:28:52,156 - logging_config - INFO - websocket_handlers.py:797 -   to_ts: 1768285053 (type: <class 'int'>)
2025-09-04 14:28:52,156 - logging_config - INFO - websocket_handlers.py:807 - Client config updated for BTCUSDT: indicators=['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4', 'stochrsi_60_10'], resolution=1d
2025-09-04 14:28:52,157 - logging_config - INFO - websocket_handlers.py:808 - üìä MESSAGE FIELD VALUES for BTCUSDT:
2025-09-04 14:28:52,157 - logging_config - INFO - websocket_handlers.py:809 -   symbol: BTCUSDT (fallback: BTCUSDT)
2025-09-04 14:28:52,157 - logging_config - INFO - websocket_handlers.py:810 -   from_ts: 1734225357741 (type: <class 'int'>)
2025-09-04 14:28:52,157 - logging_config - INFO - websocket_handlers.py:811 -   to_ts: 1768285053945 (type: <class 'int'>)
2025-09-04 14:28:52,157 - logging_config - INFO - websocket_handlers.py:812 -   indicators: ['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4', 'stochrsi_60_10'] (type: <class 'list'>)
2025-09-04 14:28:52,157 - logging_config - INFO - websocket_handlers.py:813 -   resolution: 1d (type: <class 'str'>)
2025-09-04 14:28:52,157 - logging_config - INFO - websocket_handlers.py:819 - üìä SERVER TIME RANGE ANALYSIS for BTCUSDT:
2025-09-04 14:28:52,157 - logging_config - INFO - websocket_handlers.py:820 -   Old range: from_ts=1737972230, to_ts=1765863846
2025-09-04 14:28:52,157 - logging_config - INFO - websocket_handlers.py:821 -   New range: from_ts=1734225357, to_ts=1768285053
2025-09-04 14:28:52,158 - logging_config - INFO - websocket_handlers.py:822 -   Time range changed: True
2025-09-04 14:28:52,158 - logging_config - INFO - websocket_handlers.py:823 -   Historical sent: True
2025-09-04 14:28:52,158 - logging_config - INFO - websocket_handlers.py:824 -   Has timestamps: from_ts=True, to_ts=True
2025-09-04 14:28:52,158 - logging_config - INFO - websocket_handlers.py:843 -   üìÖ SERVER RECEIVED RANGE (UTC):
2025-09-04 14:28:52,158 - logging_config - INFO - websocket_handlers.py:844 -     From: 2024-12-15 01:15:57 UTC (1734225357)
2025-09-04 14:28:52,158 - logging_config - INFO - websocket_handlers.py:845 -     To: 2026-01-13 06:17:33 UTC (1768285053)
2025-09-04 14:28:52,158 - logging_config - INFO - websocket_handlers.py:846 -     Range: 34059696 seconds (9461.0 hours)
2025-09-04 14:28:52,158 - logging_config - INFO - websocket_handlers.py:848 -   üìÖ SERVER RECEIVED RANGE (Local Time):
2025-09-04 14:28:52,158 - logging_config - INFO - websocket_handlers.py:849 -     From: 2024-12-15 03:15:57 Central Europe Summer Time
2025-09-04 14:28:52,158 - logging_config - INFO - websocket_handlers.py:850 -     To: 2026-01-13 08:17:33 Central Europe Summer Time
2025-09-04 14:28:52,159 - logging_config - INFO - websocket_handlers.py:853 -   üåç TIMEZONE ANALYSIS:
2025-09-04 14:28:52,159 - logging_config - INFO - websocket_handlers.py:854 -     Server timezone: Central Europe Summer Time (UTC+2.0)
2025-09-04 14:28:52,159 - logging_config - INFO - websocket_handlers.py:855 -     User timezone (from logs): Europe/Ljubljana (UTC+2)
2025-09-04 14:28:52,159 - logging_config - INFO - websocket_handlers.py:856 -     Timezone difference: 0.0 hours
2025-09-04 14:28:52,159 - logging_config - INFO - websocket_handlers.py:859 -   üì§ DATA TO BE SENT TO CLIENT:
2025-09-04 14:28:52,159 - logging_config - INFO - websocket_handlers.py:860 -     Timestamps will be sent as seconds (not milliseconds)
2025-09-04 14:28:52,159 - logging_config - INFO - websocket_handlers.py:861 -     Client will receive: from_ts=1734225357, to_ts=1768285053
2025-09-04 14:28:52,159 - logging_config - INFO - websocket_handlers.py:862 -     Client local time equivalent: 2024-12-15 03:15:57 to 2026-01-13 08:17:33
2025-09-04 14:28:52,159 - logging_config - INFO - websocket_handlers.py:867 -   üìä USER'S CHART VIEW STATE:
2025-09-04 14:28:52,159 - logging_config - INFO - websocket_handlers.py:868 -     X-Axis Min: 30/08/2025, 10:31:39
2025-09-04 14:28:52,160 - logging_config - INFO - websocket_handlers.py:869 -     X-Axis Max: 04/09/2025, 01:58:37
2025-09-04 14:28:52,160 - logging_config - INFO - websocket_handlers.py:870 -     Expected local time range: 2025-08-30 10:31 to 2025-09-04 01:58
2025-09-04 14:28:52,160 - logging_config - INFO - websocket_handlers.py:871 -     Server received UTC equivalent: 2024-12-15 01:15 to 2026-01-13 06:17
2025-09-04 14:28:52,160 - logging_config - INFO - websocket_handlers.py:881 - Should send historical data: 1768285053
2025-09-04 14:28:52,160 - logging_config - INFO - websocket_handlers.py:884 - Sending historical data for BTCUSDT - time range changed: True, historical_sent: True
2025-09-04 14:28:52,160 - logging_config - INFO - websocket_handlers.py:309 - Sending historical data for BTCUSDT with indicators: ['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4', 'stochrsi_60_10']
2025-09-04 14:28:52,160 - logging_config - INFO - websocket_handlers.py:310 - Time range: from_ts=1734225357, to_ts=1768285053, resolution=1d
2025-09-04 14:28:52,160 - logging_config - INFO - websocket_handlers.py:320 - WebSocket session email found: klemenzivkovic@gmail.com
2025-09-04 14:28:52,161 - logging_config - INFO - websocket_handlers.py:325 - Looking for drawings: symbol=BTCUSDT, resolution=1d, email=klemenzivkovic@gmail.com
2025-09-04 14:28:52,161 - logging_config - INFO - websocket_handlers.py:330 - Redis key for drawings: drawings:klemenzivkovic@gmail.com:BTCUSDT
2025-09-04 14:28:52,161 - logging_config - INFO - drawing_manager.py:60 - get_drawings for BTCUSDT with resolution '1d': found 2 total, returning 1 filtered.
2025-09-04 14:28:52,162 - logging_config - INFO - websocket_handlers.py:339 - Sending 1 existing drawings for BTCUSDT
2025-09-04 14:28:52,162 - logging_config - INFO - websocket_handlers.py:345 - Sending drawing (1) message: {'type': 'drawings', 'symbol': 'BTCUSDT', 'data': [{'symbol': 'BTCUSDT', 'type': 'line', 'start_time': 1754834563, 'end_time': 1757620497, 'start_price': 125654.72871123493, 'end_price': 105505.85254783757, 'subplot_name': 'BTCUSDT', 'resolution': '1d', 'properties': {'buyOnCross': False, 'sellOnCross': False, 'sendEmailOnCross': True}, 'id': 'a8369b54-997f-455e-9cea-d9fecb571bd3'}]}
2025-09-04 14:28:52,162 - logging_config - INFO - websocket_handlers.py:347 - Successfully sent drawings message to client
2025-09-04 14:28:52,162 - logging_config - INFO - redis_utils.py:103 - Querying sorted set 'zset:kline:BTCUSDT:1d' for range [1734225357, 1768285053]
2025-09-04 14:28:52,162 - logging_config - INFO - redis_utils.py:106 - [TIMESTAMP DEBUG] redis_utils.py - get_cached_klines query:
2025-09-04 14:28:52,162 - logging_config - INFO - redis_utils.py:107 -   start_ts: 1734225357 (type: <class 'int'>)
2025-09-04 14:28:52,162 - logging_config - INFO - redis_utils.py:108 -   end_ts: 1768285053 (type: <class 'int'>)
2025-09-04 14:28:52,162 - logging_config - INFO - redis_utils.py:115 - [TIMESTAMP DEBUG] start_ts 1734225357 appears to be in SECONDS (correct for Redis)
2025-09-04 14:28:52,163 - logging_config - INFO - redis_utils.py:120 - [TIMESTAMP DEBUG] Checking Redis data sample for comparison...
2025-09-04 14:28:52,165 - logging_config - INFO - redis_utils.py:159 - Found 263 cached klines for BTCUSDT 1d between 1734225357 and 1768285053
2025-09-04 14:28:52,165 - logging_config - INFO - redis_utils.py:163 - üîç DATA GAP ANALYSIS for BTCUSDT 1d:
2025-09-04 14:28:52,165 - logging_config - INFO - redis_utils.py:164 -   Expected data points based on time range: ~394
2025-09-04 14:28:52,165 - logging_config - INFO - redis_utils.py:165 -   Actual data points retrieved: 263
2025-09-04 14:28:52,165 - logging_config - INFO - redis_utils.py:194 - ‚úÖ No data gaps detected - data appears continuous
2025-09-04 14:28:52,165 - logging_config - INFO - websocket_handlers.py:362 - ‚úÖ REDIS SUCCESS: Retrieved 263 klines from Redis for BTCUSDT
2025-09-04 14:28:52,165 - logging_config - INFO - websocket_handlers.py:398 - ‚úÖ CACHE HIT: Found 263 klines in Redis cache for BTCUSDT
2025-09-04 14:28:52,165 - logging_config - INFO - websocket_handlers.py:402 - Calculating indicators for BTCUSDT: 6 indicators, 263 klines
2025-09-04 14:28:52,167 - logging_config - INFO - redis_utils.py:265 - Found 263 cached Open Interest entries for BTCUSDT 1d between 1734225357 and 1768285053
2025-09-04 14:28:52,342 - logging_config - INFO - websocket_handlers.py:742 - üì® RAW MESSAGE RECEIVED for BTCUSDT: {
  "type": "config",
  "symbol": "BTCUSDT",
  "indicators": [
    "macd",
    "rsi",
    "stochrsi_9_3",
    "stochrsi_14_3",
    "stochrsi_40_4",
    "stochrsi_60_10"
  ],
  "resolution": "1d",
  "from_ts": 1734225357741,
  "to_ts": 1768285053945
}
2025-09-04 14:28:52,342 - logging_config - INFO - websocket_handlers.py:747 - [TIMESTAMP DEBUG] websocket_handlers.py - Received timestamps:
2025-09-04 14:28:52,342 - logging_config - INFO - websocket_handlers.py:748 -   from_ts: 1734225357741 (type: <class 'int'>)
2025-09-04 14:28:52,342 - logging_config - INFO - websocket_handlers.py:749 -   to_ts: 1768285053945 (type: <class 'int'>)
2025-09-04 14:28:52,342 - logging_config - WARNING - websocket_handlers.py:769 - [TIMESTAMP DEBUG] from_ts 1734225357741 appears to be in MILLISECONDS (should be seconds)
2025-09-04 14:28:52,342 - logging_config - INFO - websocket_handlers.py:770 -   Converting to seconds: 1734225357
2025-09-04 14:28:52,342 - logging_config - INFO - websocket_handlers.py:774 - [TIMESTAMP CONVERSION] Client milliseconds -> Server seconds:
2025-09-04 14:28:52,342 - logging_config - INFO - websocket_handlers.py:775 -   1734225357741 -> 1734225357 (2024-12-15 01:15:57 UTC)
2025-09-04 14:28:52,343 - logging_config - INFO - websocket_handlers.py:776 -   1768285053945 -> 1768285053 (2026-01-13 06:17:33 UTC)
2025-09-04 14:28:52,343 - logging_config - INFO - websocket_handlers.py:795 - [TIMESTAMP FIX] Final timestamps set:
2025-09-04 14:28:52,343 - logging_config - INFO - websocket_handlers.py:796 -   from_ts: 1734225357 (type: <class 'int'>)
2025-09-04 14:28:52,343 - logging_config - INFO - websocket_handlers.py:797 -   to_ts: 1768285053 (type: <class 'int'>)
2025-09-04 14:28:52,343 - logging_config - INFO - websocket_handlers.py:807 - Client config updated for BTCUSDT: indicators=['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4', 'stochrsi_60_10'], resolution=1d
2025-09-04 14:28:52,343 - logging_config - INFO - websocket_handlers.py:808 - üìä MESSAGE FIELD VALUES for BTCUSDT:
2025-09-04 14:28:52,343 - logging_config - INFO - websocket_handlers.py:809 -   symbol: BTCUSDT (fallback: BTCUSDT)
2025-09-04 14:28:52,343 - logging_config - INFO - websocket_handlers.py:810 -   from_ts: 1734225357741 (type: <class 'int'>)
2025-09-04 14:28:52,343 - logging_config - INFO - websocket_handlers.py:811 -   to_ts: 1768285053945 (type: <class 'int'>)
2025-09-04 14:28:52,343 - logging_config - INFO - websocket_handlers.py:812 -   indicators: ['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4', 'stochrsi_60_10'] (type: <class 'list'>)
2025-09-04 14:28:52,344 - logging_config - INFO - websocket_handlers.py:813 -   resolution: 1d (type: <class 'str'>)
2025-09-04 14:28:52,344 - logging_config - INFO - websocket_handlers.py:819 - üìä SERVER TIME RANGE ANALYSIS for BTCUSDT:
2025-09-04 14:28:52,344 - logging_config - INFO - websocket_handlers.py:820 -   Old range: from_ts=1734225357, to_ts=1768285053
2025-09-04 14:28:52,344 - logging_config - INFO - websocket_handlers.py:821 -   New range: from_ts=1734225357, to_ts=1768285053
2025-09-04 14:28:52,344 - logging_config - INFO - websocket_handlers.py:822 -   Time range changed: False
2025-09-04 14:28:52,344 - logging_config - INFO - websocket_handlers.py:823 -   Historical sent: True
2025-09-04 14:28:52,344 - logging_config - INFO - websocket_handlers.py:824 -   Has timestamps: from_ts=True, to_ts=True
2025-09-04 14:28:52,344 - logging_config - INFO - websocket_handlers.py:843 -   üìÖ SERVER RECEIVED RANGE (UTC):
2025-09-04 14:28:52,344 - logging_config - INFO - websocket_handlers.py:844 -     From: 2024-12-15 01:15:57 UTC (1734225357)
2025-09-04 14:28:52,345 - logging_config - INFO - websocket_handlers.py:845 -     To: 2026-01-13 06:17:33 UTC (1768285053)
2025-09-04 14:28:52,345 - logging_config - INFO - websocket_handlers.py:846 -     Range: 34059696 seconds (9461.0 hours)
2025-09-04 14:28:52,345 - logging_config - INFO - websocket_handlers.py:848 -   üìÖ SERVER RECEIVED RANGE (Local Time):
2025-09-04 14:28:52,345 - logging_config - INFO - websocket_handlers.py:849 -     From: 2024-12-15 03:15:57 Central Europe Summer Time
2025-09-04 14:28:52,345 - logging_config - INFO - websocket_handlers.py:850 -     To: 2026-01-13 08:17:33 Central Europe Summer Time
2025-09-04 14:28:52,345 - logging_config - INFO - websocket_handlers.py:853 -   üåç TIMEZONE ANALYSIS:
2025-09-04 14:28:52,345 - logging_config - INFO - websocket_handlers.py:854 -     Server timezone: Central Europe Summer Time (UTC+2.0)
2025-09-04 14:28:52,345 - logging_config - INFO - websocket_handlers.py:855 -     User timezone (from logs): Europe/Ljubljana (UTC+2)
2025-09-04 14:28:52,345 - logging_config - INFO - websocket_handlers.py:856 -     Timezone difference: 0.0 hours
2025-09-04 14:28:52,345 - logging_config - INFO - websocket_handlers.py:859 -   üì§ DATA TO BE SENT TO CLIENT:
2025-09-04 14:28:52,346 - logging_config - INFO - websocket_handlers.py:860 -     Timestamps will be sent as seconds (not milliseconds)
2025-09-04 14:28:52,346 - logging_config - INFO - websocket_handlers.py:861 -     Client will receive: from_ts=1734225357, to_ts=1768285053
2025-09-04 14:28:52,346 - logging_config - INFO - websocket_handlers.py:862 -     Client local time equivalent: 2024-12-15 03:15:57 to 2026-01-13 08:17:33
2025-09-04 14:28:52,346 - logging_config - INFO - websocket_handlers.py:867 -   üìä USER'S CHART VIEW STATE:
2025-09-04 14:28:52,346 - logging_config - INFO - websocket_handlers.py:868 -     X-Axis Min: 30/08/2025, 10:31:39
2025-09-04 14:28:52,346 - logging_config - INFO - websocket_handlers.py:869 -     X-Axis Max: 04/09/2025, 01:58:37
2025-09-04 14:28:52,346 - logging_config - INFO - websocket_handlers.py:870 -     Expected local time range: 2025-08-30 10:31 to 2025-09-04 01:58
2025-09-04 14:28:52,346 - logging_config - INFO - websocket_handlers.py:871 -     Server received UTC equivalent: 2024-12-15 01:15 to 2026-01-13 06:17
2025-09-04 14:28:52,346 - logging_config - INFO - websocket_handlers.py:881 - Should send historical data: False
2025-09-04 14:28:52,346 - logging_config - INFO - websocket_handlers.py:887 - NOT sending historical data for BTCUSDT - conditions not met
2025-09-04 14:28:52,347 - logging_config - INFO - websocket_handlers.py:505 - Starting live stream for BTCUSDT from Redis stream: stream:kline:BTCUSDT:1d
2025-09-04 14:28:52,883 - logging_config - INFO - utility_endpoints.py:168 - POST /settings: RAW data received from client for symbol 'BTCUSDT': {'symbol': 'BTCUSDT', 'resolution': '1d', 'range': '3m', 'xAxisMin': 1741471931335, 'xAxisMax': 1760293202812, 'yAxisMin': 88583.80706483846, 'yAxisMax': 153326.6176182457, 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'useLocalOllama': False, 'localOllamaModelName': '', 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4', 'stochrsi_60_10'], 'liveDataEnabled': False, 'showAgentTrades': False, 'streamDeltaTime': 1, 'last_selected_symbol': 'BTCUSDT'}
2025-09-04 14:28:52,884 - logging_config - INFO - utility_endpoints.py:199 - POST /settings for BTCUSDT and email klemenzivkovic@gmail.com: current_symbol_settings compiled for Redis save: {'resolution': '1d', 'range': '3m', 'xAxisMin': 1741471931335, 'xAxisMax': 1760293202812, 'yAxisMin': 88583.80706483846, 'yAxisMax': 153326.6176182457, 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4', 'stochrsi_60_10'], 'liveDataEnabled': False, 'streamDeltaTime': 1, 'useLocalOllama': False, 'localOllamaModelName': '', 'showAgentTrades': False, 'symbol': 'BTCUSDT', 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'last_selected_symbol': 'BTCUSDT'}
2025-09-04 14:28:52,884 - logging_config - INFO - utility_endpoints.py:201 - POST /settings for BTCUSDT: Client sent streamDeltaTime: 1. Value to be saved in Redis for streamDeltaTime: 1
2025-09-04 14:28:52,885 - logging_config - INFO - utility_endpoints.py:204 - POST /settings for BTCUSDT and email klemenzivkovic@gmail.com: Settings updated in Redis for BTCUSDT: {'resolution': '1d', 'range': '3m', 'xAxisMin': 1741471931335, 'xAxisMax': 1760293202812, 'yAxisMin': 88583.80706483846, 'yAxisMax': 153326.6176182457, 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4', 'stochrsi_60_10'], 'liveDataEnabled': False, 'streamDeltaTime': 1, 'useLocalOllama': False, 'localOllamaModelName': '', 'showAgentTrades': False, 'symbol': 'BTCUSDT', 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'last_selected_symbol': 'BTCUSDT'}
2025-09-04 14:28:52,947 - logging_config - INFO - utility_endpoints.py:168 - POST /settings: RAW data received from client for symbol 'BTCUSDT': {'symbol': 'BTCUSDT', 'resolution': '1d', 'range': '3m', 'xAxisMin': 1740070187297, 'xAxisMax': 1760871287789, 'yAxisMin': 87413.93759051498, 'yAxisMax': 158965.8089686218, 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'useLocalOllama': False, 'localOllamaModelName': '', 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4', 'stochrsi_60_10'], 'liveDataEnabled': False, 'showAgentTrades': False, 'streamDeltaTime': 1, 'last_selected_symbol': 'BTCUSDT'}
2025-09-04 14:28:52,948 - logging_config - INFO - utility_endpoints.py:199 - POST /settings for BTCUSDT and email klemenzivkovic@gmail.com: current_symbol_settings compiled for Redis save: {'resolution': '1d', 'range': '3m', 'xAxisMin': 1740070187297, 'xAxisMax': 1760871287789, 'yAxisMin': 87413.93759051498, 'yAxisMax': 158965.8089686218, 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4', 'stochrsi_60_10'], 'liveDataEnabled': False, 'streamDeltaTime': 1, 'useLocalOllama': False, 'localOllamaModelName': '', 'showAgentTrades': False, 'symbol': 'BTCUSDT', 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'last_selected_symbol': 'BTCUSDT'}
2025-09-04 14:28:52,948 - logging_config - INFO - utility_endpoints.py:201 - POST /settings for BTCUSDT: Client sent streamDeltaTime: 1. Value to be saved in Redis for streamDeltaTime: 1
2025-09-04 14:28:52,948 - logging_config - INFO - utility_endpoints.py:204 - POST /settings for BTCUSDT and email klemenzivkovic@gmail.com: Settings updated in Redis for BTCUSDT: {'resolution': '1d', 'range': '3m', 'xAxisMin': 1740070187297, 'xAxisMax': 1760871287789, 'yAxisMin': 87413.93759051498, 'yAxisMax': 158965.8089686218, 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4', 'stochrsi_60_10'], 'liveDataEnabled': False, 'streamDeltaTime': 1, 'useLocalOllama': False, 'localOllamaModelName': '', 'showAgentTrades': False, 'symbol': 'BTCUSDT', 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'last_selected_symbol': 'BTCUSDT'}
2025-09-04 14:28:53,042 - logging_config - INFO - utility_endpoints.py:168 - POST /settings: RAW data received from client for symbol 'BTCUSDT': {'symbol': 'BTCUSDT', 'resolution': '1d', 'range': '3m', 'xAxisMin': 1738521020551, 'xAxisMax': 1761513770495, 'yAxisMin': 86121.03186954823, 'yAxisMax': 165198.0792505212, 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'useLocalOllama': False, 'localOllamaModelName': '', 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4', 'stochrsi_60_10'], 'liveDataEnabled': False, 'showAgentTrades': False, 'streamDeltaTime': 1, 'last_selected_symbol': 'BTCUSDT'}
2025-09-04 14:28:53,043 - logging_config - INFO - utility_endpoints.py:199 - POST /settings for BTCUSDT and email klemenzivkovic@gmail.com: current_symbol_settings compiled for Redis save: {'resolution': '1d', 'range': '3m', 'xAxisMin': 1738521020551, 'xAxisMax': 1761513770495, 'yAxisMin': 86121.03186954823, 'yAxisMax': 165198.0792505212, 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4', 'stochrsi_60_10'], 'liveDataEnabled': False, 'streamDeltaTime': 1, 'useLocalOllama': False, 'localOllamaModelName': '', 'showAgentTrades': False, 'symbol': 'BTCUSDT', 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'last_selected_symbol': 'BTCUSDT'}
2025-09-04 14:28:53,043 - logging_config - INFO - utility_endpoints.py:201 - POST /settings for BTCUSDT: Client sent streamDeltaTime: 1. Value to be saved in Redis for streamDeltaTime: 1
2025-09-04 14:28:53,044 - logging_config - INFO - utility_endpoints.py:204 - POST /settings for BTCUSDT and email klemenzivkovic@gmail.com: Settings updated in Redis for BTCUSDT: {'resolution': '1d', 'range': '3m', 'xAxisMin': 1738521020551, 'xAxisMax': 1761513770495, 'yAxisMin': 86121.03186954823, 'yAxisMax': 165198.0792505212, 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4', 'stochrsi_60_10'], 'liveDataEnabled': False, 'streamDeltaTime': 1, 'useLocalOllama': False, 'localOllamaModelName': '', 'showAgentTrades': False, 'symbol': 'BTCUSDT', 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'last_selected_symbol': 'BTCUSDT'}
2025-09-04 14:28:53,086 - logging_config - INFO - utility_endpoints.py:168 - POST /settings: RAW data received from client for symbol 'BTCUSDT': {'symbol': 'BTCUSDT', 'resolution': '1d', 'range': '3m', 'xAxisMin': 1736808926516, 'xAxisMax': 1762219845081, 'yAxisMin': 84692.15006692214, 'yAxisMax': 172085.80311966356, 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'useLocalOllama': False, 'localOllamaModelName': '', 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4', 'stochrsi_60_10'], 'liveDataEnabled': False, 'showAgentTrades': False, 'streamDeltaTime': 1, 'last_selected_symbol': 'BTCUSDT'}
2025-09-04 14:28:53,087 - logging_config - INFO - utility_endpoints.py:199 - POST /settings for BTCUSDT and email klemenzivkovic@gmail.com: current_symbol_settings compiled for Redis save: {'resolution': '1d', 'range': '3m', 'xAxisMin': 1736808926516, 'xAxisMax': 1762219845081, 'yAxisMin': 84692.15006692214, 'yAxisMax': 172085.80311966356, 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4', 'stochrsi_60_10'], 'liveDataEnabled': False, 'streamDeltaTime': 1, 'useLocalOllama': False, 'localOllamaModelName': '', 'showAgentTrades': False, 'symbol': 'BTCUSDT', 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'last_selected_symbol': 'BTCUSDT'}
2025-09-04 14:28:53,087 - logging_config - INFO - utility_endpoints.py:201 - POST /settings for BTCUSDT: Client sent streamDeltaTime: 1. Value to be saved in Redis for streamDeltaTime: 1
2025-09-04 14:28:53,088 - logging_config - INFO - utility_endpoints.py:204 - POST /settings for BTCUSDT and email klemenzivkovic@gmail.com: Settings updated in Redis for BTCUSDT: {'resolution': '1d', 'range': '3m', 'xAxisMin': 1736808926516, 'xAxisMax': 1762219845081, 'yAxisMin': 84692.15006692214, 'yAxisMax': 172085.80311966356, 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4', 'stochrsi_60_10'], 'liveDataEnabled': False, 'streamDeltaTime': 1, 'useLocalOllama': False, 'localOllamaModelName': '', 'showAgentTrades': False, 'symbol': 'BTCUSDT', 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'last_selected_symbol': 'BTCUSDT'}
2025-09-04 14:28:53,386 - logging_config - INFO - websocket_handlers.py:742 - üì® RAW MESSAGE RECEIVED for BTCUSDT: {
  "type": "config",
  "symbol": "BTCUSDT",
  "indicators": [
    "macd",
    "rsi",
    "stochrsi_9_3",
    "stochrsi_14_3",
    "stochrsi_40_4",
    "stochrsi_60_10"
  ],
  "resolution": "1d",
  "from_ts": 1724103467233,
  "to_ts": 1774925304363
}
2025-09-04 14:28:53,386 - logging_config - INFO - websocket_handlers.py:747 - [TIMESTAMP DEBUG] websocket_handlers.py - Received timestamps:
2025-09-04 14:28:53,387 - logging_config - INFO - websocket_handlers.py:748 -   from_ts: 1724103467233 (type: <class 'int'>)
2025-09-04 14:28:53,387 - logging_config - INFO - websocket_handlers.py:749 -   to_ts: 1774925304363 (type: <class 'int'>)
2025-09-04 14:28:53,387 - logging_config - WARNING - websocket_handlers.py:769 - [TIMESTAMP DEBUG] from_ts 1724103467233 appears to be in MILLISECONDS (should be seconds)
2025-09-04 14:28:53,387 - logging_config - INFO - websocket_handlers.py:770 -   Converting to seconds: 1724103467
2025-09-04 14:28:53,387 - logging_config - INFO - websocket_handlers.py:774 - [TIMESTAMP CONVERSION] Client milliseconds -> Server seconds:
2025-09-04 14:28:53,387 - logging_config - INFO - websocket_handlers.py:775 -   1724103467233 -> 1724103467 (2024-08-19 21:37:47 UTC)
2025-09-04 14:28:53,387 - logging_config - INFO - websocket_handlers.py:776 -   1774925304363 -> 1774925304 (2026-03-31 02:48:24 UTC)
2025-09-04 14:28:53,387 - logging_config - INFO - websocket_handlers.py:795 - [TIMESTAMP FIX] Final timestamps set:
2025-09-04 14:28:53,387 - logging_config - INFO - websocket_handlers.py:796 -   from_ts: 1724103467 (type: <class 'int'>)
2025-09-04 14:28:53,388 - logging_config - INFO - websocket_handlers.py:797 -   to_ts: 1774925304 (type: <class 'int'>)
2025-09-04 14:28:53,388 - logging_config - INFO - websocket_handlers.py:807 - Client config updated for BTCUSDT: indicators=['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4', 'stochrsi_60_10'], resolution=1d
2025-09-04 14:28:53,388 - logging_config - INFO - websocket_handlers.py:808 - üìä MESSAGE FIELD VALUES for BTCUSDT:
2025-09-04 14:28:53,388 - logging_config - INFO - websocket_handlers.py:809 -   symbol: BTCUSDT (fallback: BTCUSDT)
2025-09-04 14:28:53,388 - logging_config - INFO - websocket_handlers.py:810 -   from_ts: 1724103467233 (type: <class 'int'>)
2025-09-04 14:28:53,388 - logging_config - INFO - websocket_handlers.py:811 -   to_ts: 1774925304363 (type: <class 'int'>)
2025-09-04 14:28:53,388 - logging_config - INFO - websocket_handlers.py:812 -   indicators: ['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4', 'stochrsi_60_10'] (type: <class 'list'>)
2025-09-04 14:28:53,388 - logging_config - INFO - websocket_handlers.py:813 -   resolution: 1d (type: <class 'str'>)
2025-09-04 14:28:53,388 - logging_config - INFO - websocket_handlers.py:819 - üìä SERVER TIME RANGE ANALYSIS for BTCUSDT:
2025-09-04 14:28:53,388 - logging_config - INFO - websocket_handlers.py:820 -   Old range: from_ts=1734225357, to_ts=1768285053
2025-09-04 14:28:53,388 - logging_config - INFO - websocket_handlers.py:821 -   New range: from_ts=1724103467, to_ts=1774925304
2025-09-04 14:28:53,389 - logging_config - INFO - websocket_handlers.py:822 -   Time range changed: True
2025-09-04 14:28:53,389 - logging_config - INFO - websocket_handlers.py:823 -   Historical sent: True
2025-09-04 14:28:53,389 - logging_config - INFO - websocket_handlers.py:824 -   Has timestamps: from_ts=True, to_ts=True
2025-09-04 14:28:53,389 - logging_config - INFO - websocket_handlers.py:843 -   üìÖ SERVER RECEIVED RANGE (UTC):
2025-09-04 14:28:53,389 - logging_config - INFO - websocket_handlers.py:844 -     From: 2024-08-19 21:37:47 UTC (1724103467)
2025-09-04 14:28:53,389 - logging_config - INFO - websocket_handlers.py:845 -     To: 2026-03-31 02:48:24 UTC (1774925304)
2025-09-04 14:28:53,389 - logging_config - INFO - websocket_handlers.py:846 -     Range: 50821837 seconds (14117.2 hours)
2025-09-04 14:28:53,390 - logging_config - INFO - websocket_handlers.py:848 -   üìÖ SERVER RECEIVED RANGE (Local Time):
2025-09-04 14:28:53,390 - logging_config - INFO - websocket_handlers.py:849 -     From: 2024-08-19 23:37:47 Central Europe Summer Time
2025-09-04 14:28:53,390 - logging_config - INFO - websocket_handlers.py:850 -     To: 2026-03-31 04:48:24 Central Europe Summer Time
2025-09-04 14:28:53,390 - logging_config - INFO - websocket_handlers.py:853 -   üåç TIMEZONE ANALYSIS:
2025-09-04 14:28:53,390 - logging_config - INFO - websocket_handlers.py:854 -     Server timezone: Central Europe Summer Time (UTC+2.0)
2025-09-04 14:28:53,390 - logging_config - INFO - websocket_handlers.py:855 -     User timezone (from logs): Europe/Ljubljana (UTC+2)
2025-09-04 14:28:53,390 - logging_config - INFO - websocket_handlers.py:856 -     Timezone difference: 0.0 hours
2025-09-04 14:28:53,390 - logging_config - INFO - websocket_handlers.py:859 -   üì§ DATA TO BE SENT TO CLIENT:
2025-09-04 14:28:53,390 - logging_config - INFO - websocket_handlers.py:860 -     Timestamps will be sent as seconds (not milliseconds)
2025-09-04 14:28:53,390 - logging_config - INFO - websocket_handlers.py:861 -     Client will receive: from_ts=1724103467, to_ts=1774925304
2025-09-04 14:28:53,390 - logging_config - INFO - websocket_handlers.py:862 -     Client local time equivalent: 2024-08-19 23:37:47 to 2026-03-31 04:48:24
2025-09-04 14:28:53,390 - logging_config - INFO - websocket_handlers.py:867 -   üìä USER'S CHART VIEW STATE:
2025-09-04 14:28:53,391 - logging_config - INFO - websocket_handlers.py:868 -     X-Axis Min: 30/08/2025, 10:31:39
2025-09-04 14:28:53,391 - logging_config - INFO - websocket_handlers.py:869 -     X-Axis Max: 04/09/2025, 01:58:37
2025-09-04 14:28:53,391 - logging_config - INFO - websocket_handlers.py:870 -     Expected local time range: 2025-08-30 10:31 to 2025-09-04 01:58
2025-09-04 14:28:53,391 - logging_config - INFO - websocket_handlers.py:871 -     Server received UTC equivalent: 2024-08-19 21:37 to 2026-03-31 02:48
2025-09-04 14:28:53,391 - logging_config - INFO - websocket_handlers.py:881 - Should send historical data: 1774925304
2025-09-04 14:28:53,391 - logging_config - INFO - websocket_handlers.py:884 - Sending historical data for BTCUSDT - time range changed: True, historical_sent: True
2025-09-04 14:28:53,391 - logging_config - INFO - websocket_handlers.py:309 - Sending historical data for BTCUSDT with indicators: ['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4', 'stochrsi_60_10']
2025-09-04 14:28:53,391 - logging_config - INFO - websocket_handlers.py:310 - Time range: from_ts=1724103467, to_ts=1774925304, resolution=1d
2025-09-04 14:28:53,391 - logging_config - INFO - websocket_handlers.py:320 - WebSocket session email found: klemenzivkovic@gmail.com
2025-09-04 14:28:53,391 - logging_config - INFO - websocket_handlers.py:325 - Looking for drawings: symbol=BTCUSDT, resolution=1d, email=klemenzivkovic@gmail.com
2025-09-04 14:28:53,391 - logging_config - INFO - websocket_handlers.py:330 - Redis key for drawings: drawings:klemenzivkovic@gmail.com:BTCUSDT
2025-09-04 14:28:53,392 - logging_config - INFO - drawing_manager.py:60 - get_drawings for BTCUSDT with resolution '1d': found 2 total, returning 1 filtered.
2025-09-04 14:28:53,392 - logging_config - INFO - websocket_handlers.py:339 - Sending 1 existing drawings for BTCUSDT
2025-09-04 14:28:53,392 - logging_config - INFO - websocket_handlers.py:345 - Sending drawing (1) message: {'type': 'drawings', 'symbol': 'BTCUSDT', 'data': [{'symbol': 'BTCUSDT', 'type': 'line', 'start_time': 1754834563, 'end_time': 1757620497, 'start_price': 125654.72871123493, 'end_price': 105505.85254783757, 'subplot_name': 'BTCUSDT', 'resolution': '1d', 'properties': {'buyOnCross': False, 'sellOnCross': False, 'sendEmailOnCross': True}, 'id': 'a8369b54-997f-455e-9cea-d9fecb571bd3'}]}
2025-09-04 14:28:53,392 - logging_config - INFO - websocket_handlers.py:347 - Successfully sent drawings message to client
2025-09-04 14:28:53,393 - logging_config - INFO - redis_utils.py:103 - Querying sorted set 'zset:kline:BTCUSDT:1d' for range [1724103467, 1774925304]
2025-09-04 14:28:53,393 - logging_config - INFO - redis_utils.py:106 - [TIMESTAMP DEBUG] redis_utils.py - get_cached_klines query:
2025-09-04 14:28:53,393 - logging_config - INFO - redis_utils.py:107 -   start_ts: 1724103467 (type: <class 'int'>)
2025-09-04 14:28:53,393 - logging_config - INFO - redis_utils.py:108 -   end_ts: 1774925304 (type: <class 'int'>)
2025-09-04 14:28:53,393 - logging_config - INFO - redis_utils.py:115 - [TIMESTAMP DEBUG] start_ts 1724103467 appears to be in SECONDS (correct for Redis)
2025-09-04 14:28:53,393 - logging_config - INFO - redis_utils.py:120 - [TIMESTAMP DEBUG] Checking Redis data sample for comparison...
2025-09-04 14:28:53,395 - logging_config - INFO - redis_utils.py:159 - Found 381 cached klines for BTCUSDT 1d between 1724103467 and 1774925304
2025-09-04 14:28:53,395 - logging_config - INFO - redis_utils.py:163 - üîç DATA GAP ANALYSIS for BTCUSDT 1d:
2025-09-04 14:28:53,396 - logging_config - INFO - redis_utils.py:164 -   Expected data points based on time range: ~588
2025-09-04 14:28:53,396 - logging_config - INFO - redis_utils.py:165 -   Actual data points retrieved: 381
2025-09-04 14:28:53,396 - logging_config - INFO - redis_utils.py:194 - ‚úÖ No data gaps detected - data appears continuous
2025-09-04 14:28:53,396 - logging_config - INFO - websocket_handlers.py:362 - ‚úÖ REDIS SUCCESS: Retrieved 381 klines from Redis for BTCUSDT
2025-09-04 14:28:53,396 - logging_config - INFO - websocket_handlers.py:398 - ‚úÖ CACHE HIT: Found 381 klines in Redis cache for BTCUSDT
2025-09-04 14:28:53,396 - logging_config - INFO - websocket_handlers.py:402 - Calculating indicators for BTCUSDT: 6 indicators, 381 klines
2025-09-04 14:28:53,398 - logging_config - INFO - redis_utils.py:265 - Found 273 cached Open Interest entries for BTCUSDT 1d between 1724103467 and 1774925304
2025-09-04 14:28:53,586 - logging_config - INFO - websocket_handlers.py:742 - üì® RAW MESSAGE RECEIVED for BTCUSDT: {
  "type": "config",
  "symbol": "BTCUSDT",
  "indicators": [
    "macd",
    "rsi",
    "stochrsi_9_3",
    "stochrsi_14_3",
    "stochrsi_40_4",
    "stochrsi_60_10"
  ],
  "resolution": "1d",
  "from_ts": 1724103467233,
  "to_ts": 1774925304363
}
2025-09-04 14:28:53,586 - logging_config - INFO - websocket_handlers.py:747 - [TIMESTAMP DEBUG] websocket_handlers.py - Received timestamps:
2025-09-04 14:28:53,586 - logging_config - INFO - websocket_handlers.py:748 -   from_ts: 1724103467233 (type: <class 'int'>)
2025-09-04 14:28:53,586 - logging_config - INFO - websocket_handlers.py:749 -   to_ts: 1774925304363 (type: <class 'int'>)
2025-09-04 14:28:53,587 - logging_config - WARNING - websocket_handlers.py:769 - [TIMESTAMP DEBUG] from_ts 1724103467233 appears to be in MILLISECONDS (should be seconds)
2025-09-04 14:28:53,587 - logging_config - INFO - websocket_handlers.py:770 -   Converting to seconds: 1724103467
2025-09-04 14:28:53,587 - logging_config - INFO - websocket_handlers.py:774 - [TIMESTAMP CONVERSION] Client milliseconds -> Server seconds:
2025-09-04 14:28:53,587 - logging_config - INFO - websocket_handlers.py:775 -   1724103467233 -> 1724103467 (2024-08-19 21:37:47 UTC)
2025-09-04 14:28:53,587 - logging_config - INFO - websocket_handlers.py:776 -   1774925304363 -> 1774925304 (2026-03-31 02:48:24 UTC)
2025-09-04 14:28:53,587 - logging_config - INFO - websocket_handlers.py:795 - [TIMESTAMP FIX] Final timestamps set:
2025-09-04 14:28:53,587 - logging_config - INFO - websocket_handlers.py:796 -   from_ts: 1724103467 (type: <class 'int'>)
2025-09-04 14:28:53,587 - logging_config - INFO - websocket_handlers.py:797 -   to_ts: 1774925304 (type: <class 'int'>)
2025-09-04 14:28:53,587 - logging_config - INFO - websocket_handlers.py:807 - Client config updated for BTCUSDT: indicators=['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4', 'stochrsi_60_10'], resolution=1d
2025-09-04 14:28:53,587 - logging_config - INFO - websocket_handlers.py:808 - üìä MESSAGE FIELD VALUES for BTCUSDT:
2025-09-04 14:28:53,587 - logging_config - INFO - websocket_handlers.py:809 -   symbol: BTCUSDT (fallback: BTCUSDT)
2025-09-04 14:28:53,587 - logging_config - INFO - websocket_handlers.py:810 -   from_ts: 1724103467233 (type: <class 'int'>)
2025-09-04 14:28:53,587 - logging_config - INFO - websocket_handlers.py:811 -   to_ts: 1774925304363 (type: <class 'int'>)
2025-09-04 14:28:53,587 - logging_config - INFO - websocket_handlers.py:812 -   indicators: ['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4', 'stochrsi_60_10'] (type: <class 'list'>)
2025-09-04 14:28:53,588 - logging_config - INFO - websocket_handlers.py:813 -   resolution: 1d (type: <class 'str'>)
2025-09-04 14:28:53,588 - logging_config - INFO - websocket_handlers.py:819 - üìä SERVER TIME RANGE ANALYSIS for BTCUSDT:
2025-09-04 14:28:53,588 - logging_config - INFO - websocket_handlers.py:820 -   Old range: from_ts=1724103467, to_ts=1774925304
2025-09-04 14:28:53,588 - logging_config - INFO - websocket_handlers.py:821 -   New range: from_ts=1724103467, to_ts=1774925304
2025-09-04 14:28:53,588 - logging_config - INFO - websocket_handlers.py:822 -   Time range changed: False
2025-09-04 14:28:53,588 - logging_config - INFO - websocket_handlers.py:823 -   Historical sent: True
2025-09-04 14:28:53,588 - logging_config - INFO - websocket_handlers.py:824 -   Has timestamps: from_ts=True, to_ts=True
2025-09-04 14:28:53,588 - logging_config - INFO - websocket_handlers.py:843 -   üìÖ SERVER RECEIVED RANGE (UTC):
2025-09-04 14:28:53,588 - logging_config - INFO - websocket_handlers.py:844 -     From: 2024-08-19 21:37:47 UTC (1724103467)
2025-09-04 14:28:53,588 - logging_config - INFO - websocket_handlers.py:845 -     To: 2026-03-31 02:48:24 UTC (1774925304)
2025-09-04 14:28:53,588 - logging_config - INFO - websocket_handlers.py:846 -     Range: 50821837 seconds (14117.2 hours)
2025-09-04 14:28:53,590 - logging_config - INFO - websocket_handlers.py:848 -   üìÖ SERVER RECEIVED RANGE (Local Time):
2025-09-04 14:28:53,590 - logging_config - INFO - websocket_handlers.py:849 -     From: 2024-08-19 23:37:47 Central Europe Summer Time
2025-09-04 14:28:53,590 - logging_config - INFO - websocket_handlers.py:850 -     To: 2026-03-31 04:48:24 Central Europe Summer Time
2025-09-04 14:28:53,590 - logging_config - INFO - websocket_handlers.py:853 -   üåç TIMEZONE ANALYSIS:
2025-09-04 14:28:53,590 - logging_config - INFO - websocket_handlers.py:854 -     Server timezone: Central Europe Summer Time (UTC+2.0)
2025-09-04 14:28:53,590 - logging_config - INFO - websocket_handlers.py:855 -     User timezone (from logs): Europe/Ljubljana (UTC+2)
2025-09-04 14:28:53,590 - logging_config - INFO - websocket_handlers.py:856 -     Timezone difference: 0.0 hours
2025-09-04 14:28:53,590 - logging_config - INFO - websocket_handlers.py:859 -   üì§ DATA TO BE SENT TO CLIENT:
2025-09-04 14:28:53,590 - logging_config - INFO - websocket_handlers.py:860 -     Timestamps will be sent as seconds (not milliseconds)
2025-09-04 14:28:53,590 - logging_config - INFO - websocket_handlers.py:861 -     Client will receive: from_ts=1724103467, to_ts=1774925304
2025-09-04 14:28:53,590 - logging_config - INFO - websocket_handlers.py:862 -     Client local time equivalent: 2024-08-19 23:37:47 to 2026-03-31 04:48:24
2025-09-04 14:28:53,590 - logging_config - INFO - websocket_handlers.py:867 -   üìä USER'S CHART VIEW STATE:
2025-09-04 14:28:53,591 - logging_config - INFO - websocket_handlers.py:868 -     X-Axis Min: 30/08/2025, 10:31:39
2025-09-04 14:28:53,591 - logging_config - INFO - websocket_handlers.py:869 -     X-Axis Max: 04/09/2025, 01:58:37
2025-09-04 14:28:53,591 - logging_config - INFO - websocket_handlers.py:870 -     Expected local time range: 2025-08-30 10:31 to 2025-09-04 01:58
2025-09-04 14:28:53,591 - logging_config - INFO - websocket_handlers.py:871 -     Server received UTC equivalent: 2024-08-19 21:37 to 2026-03-31 02:48
2025-09-04 14:28:53,591 - logging_config - INFO - websocket_handlers.py:881 - Should send historical data: False
2025-09-04 14:28:53,591 - logging_config - INFO - websocket_handlers.py:887 - NOT sending historical data for BTCUSDT - conditions not met
2025-09-04 14:28:53,592 - logging_config - INFO - websocket_handlers.py:505 - Starting live stream for BTCUSDT from Redis stream: stream:kline:BTCUSDT:1d
2025-09-04 14:28:53,695 - logging_config - INFO - websocket_handlers.py:742 - üì® RAW MESSAGE RECEIVED for BTCUSDT: {
  "type": "config",
  "symbol": "BTCUSDT",
  "indicators": [
    "macd",
    "rsi",
    "stochrsi_9_3",
    "stochrsi_14_3",
    "stochrsi_40_4",
    "stochrsi_60_10"
  ],
  "resolution": "1d",
  "from_ts": 1724103467233,
  "to_ts": 1774925304363
}
2025-09-04 14:28:53,695 - logging_config - INFO - websocket_handlers.py:747 - [TIMESTAMP DEBUG] websocket_handlers.py - Received timestamps:
2025-09-04 14:28:53,695 - logging_config - INFO - websocket_handlers.py:748 -   from_ts: 1724103467233 (type: <class 'int'>)
2025-09-04 14:28:53,695 - logging_config - INFO - websocket_handlers.py:749 -   to_ts: 1774925304363 (type: <class 'int'>)
2025-09-04 14:28:53,696 - logging_config - WARNING - websocket_handlers.py:769 - [TIMESTAMP DEBUG] from_ts 1724103467233 appears to be in MILLISECONDS (should be seconds)
2025-09-04 14:28:53,696 - logging_config - INFO - websocket_handlers.py:770 -   Converting to seconds: 1724103467
2025-09-04 14:28:53,696 - logging_config - INFO - websocket_handlers.py:774 - [TIMESTAMP CONVERSION] Client milliseconds -> Server seconds:
2025-09-04 14:28:53,696 - logging_config - INFO - websocket_handlers.py:775 -   1724103467233 -> 1724103467 (2024-08-19 21:37:47 UTC)
2025-09-04 14:28:53,696 - logging_config - INFO - websocket_handlers.py:776 -   1774925304363 -> 1774925304 (2026-03-31 02:48:24 UTC)
2025-09-04 14:28:53,696 - logging_config - INFO - websocket_handlers.py:795 - [TIMESTAMP FIX] Final timestamps set:
2025-09-04 14:28:53,696 - logging_config - INFO - websocket_handlers.py:796 -   from_ts: 1724103467 (type: <class 'int'>)
2025-09-04 14:28:53,696 - logging_config - INFO - websocket_handlers.py:797 -   to_ts: 1774925304 (type: <class 'int'>)
2025-09-04 14:28:53,696 - logging_config - INFO - websocket_handlers.py:807 - Client config updated for BTCUSDT: indicators=['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4', 'stochrsi_60_10'], resolution=1d
2025-09-04 14:28:53,696 - logging_config - INFO - websocket_handlers.py:808 - üìä MESSAGE FIELD VALUES for BTCUSDT:
2025-09-04 14:28:53,696 - logging_config - INFO - websocket_handlers.py:809 -   symbol: BTCUSDT (fallback: BTCUSDT)
2025-09-04 14:28:53,696 - logging_config - INFO - websocket_handlers.py:810 -   from_ts: 1724103467233 (type: <class 'int'>)
2025-09-04 14:28:53,697 - logging_config - INFO - websocket_handlers.py:811 -   to_ts: 1774925304363 (type: <class 'int'>)
2025-09-04 14:28:53,697 - logging_config - INFO - websocket_handlers.py:812 -   indicators: ['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4', 'stochrsi_60_10'] (type: <class 'list'>)
2025-09-04 14:28:53,697 - logging_config - INFO - websocket_handlers.py:813 -   resolution: 1d (type: <class 'str'>)
2025-09-04 14:28:53,697 - logging_config - INFO - websocket_handlers.py:819 - üìä SERVER TIME RANGE ANALYSIS for BTCUSDT:
2025-09-04 14:28:53,697 - logging_config - INFO - websocket_handlers.py:820 -   Old range: from_ts=1724103467, to_ts=1774925304
2025-09-04 14:28:53,697 - logging_config - INFO - websocket_handlers.py:821 -   New range: from_ts=1724103467, to_ts=1774925304
2025-09-04 14:28:53,697 - logging_config - INFO - websocket_handlers.py:822 -   Time range changed: False
2025-09-04 14:28:53,697 - logging_config - INFO - websocket_handlers.py:823 -   Historical sent: True
2025-09-04 14:28:53,697 - logging_config - INFO - websocket_handlers.py:824 -   Has timestamps: from_ts=True, to_ts=True
2025-09-04 14:28:53,697 - logging_config - INFO - websocket_handlers.py:843 -   üìÖ SERVER RECEIVED RANGE (UTC):
2025-09-04 14:28:53,697 - logging_config - INFO - websocket_handlers.py:844 -     From: 2024-08-19 21:37:47 UTC (1724103467)
2025-09-04 14:28:53,697 - logging_config - INFO - websocket_handlers.py:845 -     To: 2026-03-31 02:48:24 UTC (1774925304)
2025-09-04 14:28:53,697 - logging_config - INFO - websocket_handlers.py:846 -     Range: 50821837 seconds (14117.2 hours)
2025-09-04 14:28:53,697 - logging_config - INFO - websocket_handlers.py:848 -   üìÖ SERVER RECEIVED RANGE (Local Time):
2025-09-04 14:28:53,698 - logging_config - INFO - websocket_handlers.py:849 -     From: 2024-08-19 23:37:47 Central Europe Summer Time
2025-09-04 14:28:53,698 - logging_config - INFO - websocket_handlers.py:850 -     To: 2026-03-31 04:48:24 Central Europe Summer Time
2025-09-04 14:28:53,698 - logging_config - INFO - websocket_handlers.py:853 -   üåç TIMEZONE ANALYSIS:
2025-09-04 14:28:53,698 - logging_config - INFO - websocket_handlers.py:854 -     Server timezone: Central Europe Summer Time (UTC+2.0)
2025-09-04 14:28:53,698 - logging_config - INFO - websocket_handlers.py:855 -     User timezone (from logs): Europe/Ljubljana (UTC+2)
2025-09-04 14:28:53,698 - logging_config - INFO - websocket_handlers.py:856 -     Timezone difference: 0.0 hours
2025-09-04 14:28:53,698 - logging_config - INFO - websocket_handlers.py:859 -   üì§ DATA TO BE SENT TO CLIENT:
2025-09-04 14:28:53,698 - logging_config - INFO - websocket_handlers.py:860 -     Timestamps will be sent as seconds (not milliseconds)
2025-09-04 14:28:53,698 - logging_config - INFO - websocket_handlers.py:861 -     Client will receive: from_ts=1724103467, to_ts=1774925304
2025-09-04 14:28:53,698 - logging_config - INFO - websocket_handlers.py:862 -     Client local time equivalent: 2024-08-19 23:37:47 to 2026-03-31 04:48:24
2025-09-04 14:28:53,698 - logging_config - INFO - websocket_handlers.py:867 -   üìä USER'S CHART VIEW STATE:
2025-09-04 14:28:53,698 - logging_config - INFO - websocket_handlers.py:868 -     X-Axis Min: 30/08/2025, 10:31:39
2025-09-04 14:28:53,700 - logging_config - INFO - websocket_handlers.py:869 -     X-Axis Max: 04/09/2025, 01:58:37
2025-09-04 14:28:53,700 - logging_config - INFO - websocket_handlers.py:870 -     Expected local time range: 2025-08-30 10:31 to 2025-09-04 01:58
2025-09-04 14:28:53,700 - logging_config - INFO - websocket_handlers.py:871 -     Server received UTC equivalent: 2024-08-19 21:37 to 2026-03-31 02:48
2025-09-04 14:28:53,700 - logging_config - INFO - websocket_handlers.py:881 - Should send historical data: False
2025-09-04 14:28:53,700 - logging_config - INFO - websocket_handlers.py:887 - NOT sending historical data for BTCUSDT - conditions not met
2025-09-04 14:28:53,701 - logging_config - INFO - websocket_handlers.py:505 - Starting live stream for BTCUSDT from Redis stream: stream:kline:BTCUSDT:1d
2025-09-04 14:28:53,819 - logging_config - INFO - websocket_handlers.py:742 - üì® RAW MESSAGE RECEIVED for BTCUSDT: {
  "type": "config",
  "symbol": "BTCUSDT",
  "indicators": [
    "macd",
    "rsi",
    "stochrsi_9_3",
    "stochrsi_14_3",
    "stochrsi_40_4",
    "stochrsi_60_10"
  ],
  "resolution": "1d",
  "from_ts": 1724103467233,
  "to_ts": 1774925304363
}
2025-09-04 14:28:53,819 - logging_config - INFO - websocket_handlers.py:747 - [TIMESTAMP DEBUG] websocket_handlers.py - Received timestamps:
2025-09-04 14:28:53,819 - logging_config - INFO - websocket_handlers.py:748 -   from_ts: 1724103467233 (type: <class 'int'>)
2025-09-04 14:28:53,819 - logging_config - INFO - websocket_handlers.py:749 -   to_ts: 1774925304363 (type: <class 'int'>)
2025-09-04 14:28:53,819 - logging_config - WARNING - websocket_handlers.py:769 - [TIMESTAMP DEBUG] from_ts 1724103467233 appears to be in MILLISECONDS (should be seconds)
2025-09-04 14:28:53,820 - logging_config - INFO - websocket_handlers.py:770 -   Converting to seconds: 1724103467
2025-09-04 14:28:53,820 - logging_config - INFO - websocket_handlers.py:774 - [TIMESTAMP CONVERSION] Client milliseconds -> Server seconds:
2025-09-04 14:28:53,820 - logging_config - INFO - websocket_handlers.py:775 -   1724103467233 -> 1724103467 (2024-08-19 21:37:47 UTC)
2025-09-04 14:28:53,820 - logging_config - INFO - websocket_handlers.py:776 -   1774925304363 -> 1774925304 (2026-03-31 02:48:24 UTC)
2025-09-04 14:28:53,820 - logging_config - INFO - websocket_handlers.py:795 - [TIMESTAMP FIX] Final timestamps set:
2025-09-04 14:28:53,820 - logging_config - INFO - websocket_handlers.py:796 -   from_ts: 1724103467 (type: <class 'int'>)
2025-09-04 14:28:53,820 - logging_config - INFO - websocket_handlers.py:797 -   to_ts: 1774925304 (type: <class 'int'>)
2025-09-04 14:28:53,820 - logging_config - INFO - websocket_handlers.py:807 - Client config updated for BTCUSDT: indicators=['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4', 'stochrsi_60_10'], resolution=1d
2025-09-04 14:28:53,820 - logging_config - INFO - websocket_handlers.py:808 - üìä MESSAGE FIELD VALUES for BTCUSDT:
2025-09-04 14:28:53,820 - logging_config - INFO - websocket_handlers.py:809 -   symbol: BTCUSDT (fallback: BTCUSDT)
2025-09-04 14:28:53,820 - logging_config - INFO - websocket_handlers.py:810 -   from_ts: 1724103467233 (type: <class 'int'>)
2025-09-04 14:28:53,820 - logging_config - INFO - websocket_handlers.py:811 -   to_ts: 1774925304363 (type: <class 'int'>)
2025-09-04 14:28:53,820 - logging_config - INFO - websocket_handlers.py:812 -   indicators: ['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4', 'stochrsi_60_10'] (type: <class 'list'>)
2025-09-04 14:28:53,821 - logging_config - INFO - websocket_handlers.py:813 -   resolution: 1d (type: <class 'str'>)
2025-09-04 14:28:53,821 - logging_config - INFO - websocket_handlers.py:819 - üìä SERVER TIME RANGE ANALYSIS for BTCUSDT:
2025-09-04 14:28:53,821 - logging_config - INFO - websocket_handlers.py:820 -   Old range: from_ts=1724103467, to_ts=1774925304
2025-09-04 14:28:53,821 - logging_config - INFO - websocket_handlers.py:821 -   New range: from_ts=1724103467, to_ts=1774925304
2025-09-04 14:28:53,821 - logging_config - INFO - websocket_handlers.py:822 -   Time range changed: False
2025-09-04 14:28:53,821 - logging_config - INFO - websocket_handlers.py:823 -   Historical sent: True
2025-09-04 14:28:53,821 - logging_config - INFO - websocket_handlers.py:824 -   Has timestamps: from_ts=True, to_ts=True
2025-09-04 14:28:53,821 - logging_config - INFO - websocket_handlers.py:843 -   üìÖ SERVER RECEIVED RANGE (UTC):
2025-09-04 14:28:53,821 - logging_config - INFO - websocket_handlers.py:844 -     From: 2024-08-19 21:37:47 UTC (1724103467)
2025-09-04 14:28:53,821 - logging_config - INFO - websocket_handlers.py:845 -     To: 2026-03-31 02:48:24 UTC (1774925304)
2025-09-04 14:28:53,821 - logging_config - INFO - websocket_handlers.py:846 -     Range: 50821837 seconds (14117.2 hours)
2025-09-04 14:28:53,821 - logging_config - INFO - websocket_handlers.py:848 -   üìÖ SERVER RECEIVED RANGE (Local Time):
2025-09-04 14:28:53,821 - logging_config - INFO - websocket_handlers.py:849 -     From: 2024-08-19 23:37:47 Central Europe Summer Time
2025-09-04 14:28:53,821 - logging_config - INFO - websocket_handlers.py:850 -     To: 2026-03-31 04:48:24 Central Europe Summer Time
2025-09-04 14:28:53,821 - logging_config - INFO - websocket_handlers.py:853 -   üåç TIMEZONE ANALYSIS:
2025-09-04 14:28:53,822 - logging_config - INFO - websocket_handlers.py:854 -     Server timezone: Central Europe Summer Time (UTC+2.0)
2025-09-04 14:28:53,822 - logging_config - INFO - websocket_handlers.py:855 -     User timezone (from logs): Europe/Ljubljana (UTC+2)
2025-09-04 14:28:53,822 - logging_config - INFO - websocket_handlers.py:856 -     Timezone difference: 0.0 hours
2025-09-04 14:28:53,822 - logging_config - INFO - websocket_handlers.py:859 -   üì§ DATA TO BE SENT TO CLIENT:
2025-09-04 14:28:53,822 - logging_config - INFO - websocket_handlers.py:860 -     Timestamps will be sent as seconds (not milliseconds)
2025-09-04 14:28:53,822 - logging_config - INFO - websocket_handlers.py:861 -     Client will receive: from_ts=1724103467, to_ts=1774925304
2025-09-04 14:28:53,822 - logging_config - INFO - websocket_handlers.py:862 -     Client local time equivalent: 2024-08-19 23:37:47 to 2026-03-31 04:48:24
2025-09-04 14:28:53,822 - logging_config - INFO - websocket_handlers.py:867 -   üìä USER'S CHART VIEW STATE:
2025-09-04 14:28:53,822 - logging_config - INFO - websocket_handlers.py:868 -     X-Axis Min: 30/08/2025, 10:31:39
2025-09-04 14:28:53,823 - logging_config - INFO - websocket_handlers.py:869 -     X-Axis Max: 04/09/2025, 01:58:37
2025-09-04 14:28:53,823 - logging_config - INFO - websocket_handlers.py:870 -     Expected local time range: 2025-08-30 10:31 to 2025-09-04 01:58
2025-09-04 14:28:53,823 - logging_config - INFO - websocket_handlers.py:871 -     Server received UTC equivalent: 2024-08-19 21:37 to 2026-03-31 02:48
2025-09-04 14:28:53,823 - logging_config - INFO - websocket_handlers.py:881 - Should send historical data: False
2025-09-04 14:28:53,823 - logging_config - INFO - websocket_handlers.py:887 - NOT sending historical data for BTCUSDT - conditions not met
2025-09-04 14:28:53,824 - logging_config - INFO - websocket_handlers.py:505 - Starting live stream for BTCUSDT from Redis stream: stream:kline:BTCUSDT:1d
2025-09-04 14:28:54,475 - logging_config - INFO - utility_endpoints.py:168 - POST /settings: RAW data received from client for symbol 'BTCUSDT': {'symbol': 'BTCUSDT', 'resolution': '1d', 'range': '3m', 'xAxisMin': 1736808926516, 'xAxisMax': 1762219845081, 'yAxisMin': 84692.15006692214, 'yAxisMax': 172085.80311966356, 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'useLocalOllama': False, 'localOllamaModelName': '', 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4', 'stochrsi_60_10'], 'liveDataEnabled': False, 'showAgentTrades': False, 'streamDeltaTime': 1, 'last_selected_symbol': 'BTCUSDT'}
2025-09-04 14:28:54,476 - logging_config - INFO - utility_endpoints.py:199 - POST /settings for BTCUSDT and email klemenzivkovic@gmail.com: current_symbol_settings compiled for Redis save: {'resolution': '1d', 'range': '3m', 'xAxisMin': 1736808926516, 'xAxisMax': 1762219845081, 'yAxisMin': 84692.15006692214, 'yAxisMax': 172085.80311966356, 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4', 'stochrsi_60_10'], 'liveDataEnabled': False, 'streamDeltaTime': 1, 'useLocalOllama': False, 'localOllamaModelName': '', 'showAgentTrades': False, 'symbol': 'BTCUSDT', 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'last_selected_symbol': 'BTCUSDT'}
2025-09-04 14:28:54,476 - logging_config - INFO - utility_endpoints.py:201 - POST /settings for BTCUSDT: Client sent streamDeltaTime: 1. Value to be saved in Redis for streamDeltaTime: 1
2025-09-04 14:28:54,477 - logging_config - INFO - utility_endpoints.py:204 - POST /settings for BTCUSDT and email klemenzivkovic@gmail.com: Settings updated in Redis for BTCUSDT: {'resolution': '1d', 'range': '3m', 'xAxisMin': 1736808926516, 'xAxisMax': 1762219845081, 'yAxisMin': 84692.15006692214, 'yAxisMax': 172085.80311966356, 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4', 'stochrsi_60_10'], 'liveDataEnabled': False, 'streamDeltaTime': 1, 'useLocalOllama': False, 'localOllamaModelName': '', 'showAgentTrades': False, 'symbol': 'BTCUSDT', 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'last_selected_symbol': 'BTCUSDT'}
2025-09-04 14:28:55,044 - logging_config - INFO - websocket_handlers.py:742 - üì® RAW MESSAGE RECEIVED for BTCUSDT: {
  "type": "config",
  "symbol": "BTCUSDT",
  "indicators": [
    "macd",
    "rsi",
    "stochrsi_9_3",
    "stochrsi_14_3",
    "stochrsi_40_4",
    "stochrsi_60_10"
  ],
  "resolution": "1d",
  "from_ts": 1724103467233,
  "to_ts": 1774925304363
}
2025-09-04 14:28:55,045 - logging_config - INFO - websocket_handlers.py:747 - [TIMESTAMP DEBUG] websocket_handlers.py - Received timestamps:
2025-09-04 14:28:55,045 - logging_config - INFO - websocket_handlers.py:748 -   from_ts: 1724103467233 (type: <class 'int'>)
2025-09-04 14:28:55,045 - logging_config - INFO - websocket_handlers.py:749 -   to_ts: 1774925304363 (type: <class 'int'>)
2025-09-04 14:28:55,045 - logging_config - WARNING - websocket_handlers.py:769 - [TIMESTAMP DEBUG] from_ts 1724103467233 appears to be in MILLISECONDS (should be seconds)
2025-09-04 14:28:55,045 - logging_config - INFO - websocket_handlers.py:770 -   Converting to seconds: 1724103467
2025-09-04 14:28:55,045 - logging_config - INFO - websocket_handlers.py:774 - [TIMESTAMP CONVERSION] Client milliseconds -> Server seconds:
2025-09-04 14:28:55,045 - logging_config - INFO - websocket_handlers.py:775 -   1724103467233 -> 1724103467 (2024-08-19 21:37:47 UTC)
2025-09-04 14:28:55,045 - logging_config - INFO - websocket_handlers.py:776 -   1774925304363 -> 1774925304 (2026-03-31 02:48:24 UTC)
2025-09-04 14:28:55,045 - logging_config - INFO - websocket_handlers.py:795 - [TIMESTAMP FIX] Final timestamps set:
2025-09-04 14:28:55,045 - logging_config - INFO - websocket_handlers.py:796 -   from_ts: 1724103467 (type: <class 'int'>)
2025-09-04 14:28:55,045 - logging_config - INFO - websocket_handlers.py:797 -   to_ts: 1774925304 (type: <class 'int'>)
2025-09-04 14:28:55,046 - logging_config - INFO - websocket_handlers.py:807 - Client config updated for BTCUSDT: indicators=['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4', 'stochrsi_60_10'], resolution=1d
2025-09-04 14:28:55,046 - logging_config - INFO - websocket_handlers.py:808 - üìä MESSAGE FIELD VALUES for BTCUSDT:
2025-09-04 14:28:55,046 - logging_config - INFO - websocket_handlers.py:809 -   symbol: BTCUSDT (fallback: BTCUSDT)
2025-09-04 14:28:55,046 - logging_config - INFO - websocket_handlers.py:810 -   from_ts: 1724103467233 (type: <class 'int'>)
2025-09-04 14:28:55,046 - logging_config - INFO - websocket_handlers.py:811 -   to_ts: 1774925304363 (type: <class 'int'>)
2025-09-04 14:28:55,046 - logging_config - INFO - websocket_handlers.py:812 -   indicators: ['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4', 'stochrsi_60_10'] (type: <class 'list'>)
2025-09-04 14:28:55,046 - logging_config - INFO - websocket_handlers.py:813 -   resolution: 1d (type: <class 'str'>)
2025-09-04 14:28:55,046 - logging_config - INFO - websocket_handlers.py:819 - üìä SERVER TIME RANGE ANALYSIS for BTCUSDT:
2025-09-04 14:28:55,046 - logging_config - INFO - websocket_handlers.py:820 -   Old range: from_ts=1724103467, to_ts=1774925304
2025-09-04 14:28:55,046 - logging_config - INFO - websocket_handlers.py:821 -   New range: from_ts=1724103467, to_ts=1774925304
2025-09-04 14:28:55,046 - logging_config - INFO - websocket_handlers.py:822 -   Time range changed: False
2025-09-04 14:28:55,046 - logging_config - INFO - websocket_handlers.py:823 -   Historical sent: True
2025-09-04 14:28:55,047 - logging_config - INFO - websocket_handlers.py:824 -   Has timestamps: from_ts=True, to_ts=True
2025-09-04 14:28:55,047 - logging_config - INFO - websocket_handlers.py:843 -   üìÖ SERVER RECEIVED RANGE (UTC):
2025-09-04 14:28:55,047 - logging_config - INFO - websocket_handlers.py:844 -     From: 2024-08-19 21:37:47 UTC (1724103467)
2025-09-04 14:28:55,047 - logging_config - INFO - websocket_handlers.py:845 -     To: 2026-03-31 02:48:24 UTC (1774925304)
2025-09-04 14:28:55,047 - logging_config - INFO - websocket_handlers.py:846 -     Range: 50821837 seconds (14117.2 hours)
2025-09-04 14:28:55,047 - logging_config - INFO - websocket_handlers.py:848 -   üìÖ SERVER RECEIVED RANGE (Local Time):
2025-09-04 14:28:55,047 - logging_config - INFO - websocket_handlers.py:849 -     From: 2024-08-19 23:37:47 Central Europe Summer Time
2025-09-04 14:28:55,047 - logging_config - INFO - websocket_handlers.py:850 -     To: 2026-03-31 04:48:24 Central Europe Summer Time
2025-09-04 14:28:55,047 - logging_config - INFO - websocket_handlers.py:853 -   üåç TIMEZONE ANALYSIS:
2025-09-04 14:28:55,047 - logging_config - INFO - websocket_handlers.py:854 -     Server timezone: Central Europe Summer Time (UTC+2.0)
2025-09-04 14:28:55,047 - logging_config - INFO - websocket_handlers.py:855 -     User timezone (from logs): Europe/Ljubljana (UTC+2)
2025-09-04 14:28:55,047 - logging_config - INFO - websocket_handlers.py:856 -     Timezone difference: 0.0 hours
2025-09-04 14:28:55,047 - logging_config - INFO - websocket_handlers.py:859 -   üì§ DATA TO BE SENT TO CLIENT:
2025-09-04 14:28:55,047 - logging_config - INFO - websocket_handlers.py:860 -     Timestamps will be sent as seconds (not milliseconds)
2025-09-04 14:28:55,048 - logging_config - INFO - websocket_handlers.py:861 -     Client will receive: from_ts=1724103467, to_ts=1774925304
2025-09-04 14:28:55,048 - logging_config - INFO - websocket_handlers.py:862 -     Client local time equivalent: 2024-08-19 23:37:47 to 2026-03-31 04:48:24
2025-09-04 14:28:55,048 - logging_config - INFO - websocket_handlers.py:867 -   üìä USER'S CHART VIEW STATE:
2025-09-04 14:28:55,048 - logging_config - INFO - websocket_handlers.py:868 -     X-Axis Min: 30/08/2025, 10:31:39
2025-09-04 14:28:55,048 - logging_config - INFO - websocket_handlers.py:869 -     X-Axis Max: 04/09/2025, 01:58:37
2025-09-04 14:28:55,048 - logging_config - INFO - websocket_handlers.py:870 -     Expected local time range: 2025-08-30 10:31 to 2025-09-04 01:58
2025-09-04 14:28:55,048 - logging_config - INFO - websocket_handlers.py:871 -     Server received UTC equivalent: 2024-08-19 21:37 to 2026-03-31 02:48
2025-09-04 14:28:55,048 - logging_config - INFO - websocket_handlers.py:881 - Should send historical data: False
2025-09-04 14:28:55,048 - logging_config - INFO - websocket_handlers.py:887 - NOT sending historical data for BTCUSDT - conditions not met
2025-09-04 14:28:55,049 - logging_config - INFO - websocket_handlers.py:505 - Starting live stream for BTCUSDT from Redis stream: stream:kline:BTCUSDT:1d
2025-09-04 14:29:00,153 - logging_config - INFO - utility_endpoints.py:168 - POST /settings: RAW data received from client for symbol 'BTCUSDT': {'symbol': 'BTCUSDT', 'resolution': '1d', 'range': '3m', 'xAxisMin': 1722470400000, 'xAxisMax': 1758585600000, 'yAxisMin': 52500.2, 'yAxisMax': 124571.2, 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'useLocalOllama': False, 'localOllamaModelName': '', 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4', 'stochrsi_60_10'], 'liveDataEnabled': False, 'showAgentTrades': False, 'streamDeltaTime': 1, 'last_selected_symbol': 'BTCUSDT'}
2025-09-04 14:29:00,154 - logging_config - INFO - utility_endpoints.py:168 - POST /settings: RAW data received from client for symbol 'BTCUSDT': {'symbol': 'BTCUSDT', 'resolution': '1d', 'range': '3m', 'xAxisMin': 1722470400000, 'xAxisMax': 1758585600000, 'yAxisMin': 48896.649999999994, 'yAxisMax': 128174.75, 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'useLocalOllama': False, 'localOllamaModelName': '', 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4', 'stochrsi_60_10'], 'liveDataEnabled': False, 'showAgentTrades': False, 'streamDeltaTime': 1, 'last_selected_symbol': 'BTCUSDT'}
2025-09-04 14:29:00,154 - logging_config - INFO - utility_endpoints.py:199 - POST /settings for BTCUSDT and email klemenzivkovic@gmail.com: current_symbol_settings compiled for Redis save: {'resolution': '1d', 'range': '3m', 'xAxisMin': 1722470400000, 'xAxisMax': 1758585600000, 'yAxisMin': 52500.2, 'yAxisMax': 124571.2, 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4', 'stochrsi_60_10'], 'liveDataEnabled': False, 'streamDeltaTime': 1, 'useLocalOllama': False, 'localOllamaModelName': '', 'showAgentTrades': False, 'symbol': 'BTCUSDT', 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'last_selected_symbol': 'BTCUSDT'}
2025-09-04 14:29:00,154 - logging_config - INFO - utility_endpoints.py:201 - POST /settings for BTCUSDT: Client sent streamDeltaTime: 1. Value to be saved in Redis for streamDeltaTime: 1
2025-09-04 14:29:00,155 - logging_config - INFO - utility_endpoints.py:199 - POST /settings for BTCUSDT and email klemenzivkovic@gmail.com: current_symbol_settings compiled for Redis save: {'resolution': '1d', 'range': '3m', 'xAxisMin': 1722470400000, 'xAxisMax': 1758585600000, 'yAxisMin': 48896.649999999994, 'yAxisMax': 128174.75, 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4', 'stochrsi_60_10'], 'liveDataEnabled': False, 'streamDeltaTime': 1, 'useLocalOllama': False, 'localOllamaModelName': '', 'showAgentTrades': False, 'symbol': 'BTCUSDT', 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'last_selected_symbol': 'BTCUSDT'}
2025-09-04 14:29:00,155 - logging_config - INFO - utility_endpoints.py:201 - POST /settings for BTCUSDT: Client sent streamDeltaTime: 1. Value to be saved in Redis for streamDeltaTime: 1
2025-09-04 14:29:00,155 - logging_config - INFO - utility_endpoints.py:204 - POST /settings for BTCUSDT and email klemenzivkovic@gmail.com: Settings updated in Redis for BTCUSDT: {'resolution': '1d', 'range': '3m', 'xAxisMin': 1722470400000, 'xAxisMax': 1758585600000, 'yAxisMin': 52500.2, 'yAxisMax': 124571.2, 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4', 'stochrsi_60_10'], 'liveDataEnabled': False, 'streamDeltaTime': 1, 'useLocalOllama': False, 'localOllamaModelName': '', 'showAgentTrades': False, 'symbol': 'BTCUSDT', 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'last_selected_symbol': 'BTCUSDT'}
2025-09-04 14:29:00,155 - logging_config - INFO - utility_endpoints.py:204 - POST /settings for BTCUSDT and email klemenzivkovic@gmail.com: Settings updated in Redis for BTCUSDT: {'resolution': '1d', 'range': '3m', 'xAxisMin': 1722470400000, 'xAxisMax': 1758585600000, 'yAxisMin': 48896.649999999994, 'yAxisMax': 128174.75, 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4', 'stochrsi_60_10'], 'liveDataEnabled': False, 'streamDeltaTime': 1, 'useLocalOllama': False, 'localOllamaModelName': '', 'showAgentTrades': False, 'symbol': 'BTCUSDT', 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'last_selected_symbol': 'BTCUSDT'}
2025-09-04 14:29:00,724 - logging_config - INFO - websocket_handlers.py:742 - üì® RAW MESSAGE RECEIVED for BTCUSDT: {
  "type": "config",
  "symbol": "BTCUSDT",
  "indicators": [
    "macd",
    "rsi",
    "stochrsi_9_3",
    "stochrsi_14_3",
    "stochrsi_40_4",
    "stochrsi_60_10"
  ],
  "resolution": "1d",
  "from_ts": 1704412800000,
  "to_ts": 1776643200000
}
2025-09-04 14:29:00,724 - logging_config - INFO - websocket_handlers.py:747 - [TIMESTAMP DEBUG] websocket_handlers.py - Received timestamps:
2025-09-04 14:29:00,724 - logging_config - INFO - websocket_handlers.py:748 -   from_ts: 1704412800000 (type: <class 'int'>)
2025-09-04 14:29:00,724 - logging_config - INFO - websocket_handlers.py:749 -   to_ts: 1776643200000 (type: <class 'int'>)
2025-09-04 14:29:00,724 - logging_config - WARNING - websocket_handlers.py:769 - [TIMESTAMP DEBUG] from_ts 1704412800000 appears to be in MILLISECONDS (should be seconds)
2025-09-04 14:29:00,724 - logging_config - INFO - websocket_handlers.py:770 -   Converting to seconds: 1704412800
2025-09-04 14:29:00,724 - logging_config - INFO - websocket_handlers.py:774 - [TIMESTAMP CONVERSION] Client milliseconds -> Server seconds:
2025-09-04 14:29:00,724 - logging_config - INFO - websocket_handlers.py:775 -   1704412800000 -> 1704412800 (2024-01-05 00:00:00 UTC)
2025-09-04 14:29:00,724 - logging_config - INFO - websocket_handlers.py:776 -   1776643200000 -> 1776643200 (2026-04-20 00:00:00 UTC)
2025-09-04 14:29:00,724 - logging_config - INFO - websocket_handlers.py:795 - [TIMESTAMP FIX] Final timestamps set:
2025-09-04 14:29:00,724 - logging_config - INFO - websocket_handlers.py:796 -   from_ts: 1704412800 (type: <class 'int'>)
2025-09-04 14:29:00,724 - logging_config - INFO - websocket_handlers.py:797 -   to_ts: 1776643200 (type: <class 'int'>)
2025-09-04 14:29:00,724 - logging_config - INFO - websocket_handlers.py:807 - Client config updated for BTCUSDT: indicators=['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4', 'stochrsi_60_10'], resolution=1d
2025-09-04 14:29:00,724 - logging_config - INFO - websocket_handlers.py:808 - üìä MESSAGE FIELD VALUES for BTCUSDT:
2025-09-04 14:29:00,725 - logging_config - INFO - websocket_handlers.py:809 -   symbol: BTCUSDT (fallback: BTCUSDT)
2025-09-04 14:29:00,725 - logging_config - INFO - websocket_handlers.py:810 -   from_ts: 1704412800000 (type: <class 'int'>)
2025-09-04 14:29:00,725 - logging_config - INFO - websocket_handlers.py:811 -   to_ts: 1776643200000 (type: <class 'int'>)
2025-09-04 14:29:00,725 - logging_config - INFO - websocket_handlers.py:812 -   indicators: ['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4', 'stochrsi_60_10'] (type: <class 'list'>)
2025-09-04 14:29:00,725 - logging_config - INFO - websocket_handlers.py:813 -   resolution: 1d (type: <class 'str'>)
2025-09-04 14:29:00,725 - logging_config - INFO - websocket_handlers.py:819 - üìä SERVER TIME RANGE ANALYSIS for BTCUSDT:
2025-09-04 14:29:00,725 - logging_config - INFO - websocket_handlers.py:820 -   Old range: from_ts=1724103467, to_ts=1774925304
2025-09-04 14:29:00,725 - logging_config - INFO - websocket_handlers.py:821 -   New range: from_ts=1704412800, to_ts=1776643200
2025-09-04 14:29:00,725 - logging_config - INFO - websocket_handlers.py:822 -   Time range changed: True
2025-09-04 14:29:00,725 - logging_config - INFO - websocket_handlers.py:823 -   Historical sent: True
2025-09-04 14:29:00,725 - logging_config - INFO - websocket_handlers.py:824 -   Has timestamps: from_ts=True, to_ts=True
2025-09-04 14:29:00,725 - logging_config - INFO - websocket_handlers.py:843 -   üìÖ SERVER RECEIVED RANGE (UTC):
2025-09-04 14:29:00,725 - logging_config - INFO - websocket_handlers.py:844 -     From: 2024-01-05 00:00:00 UTC (1704412800)
2025-09-04 14:29:00,726 - logging_config - INFO - websocket_handlers.py:845 -     To: 2026-04-20 00:00:00 UTC (1776643200)
2025-09-04 14:29:00,726 - logging_config - INFO - websocket_handlers.py:846 -     Range: 72230400 seconds (20064.0 hours)
2025-09-04 14:29:00,726 - logging_config - INFO - websocket_handlers.py:848 -   üìÖ SERVER RECEIVED RANGE (Local Time):
2025-09-04 14:29:00,726 - logging_config - INFO - websocket_handlers.py:849 -     From: 2024-01-05 02:00:00 Central Europe Summer Time
2025-09-04 14:29:00,726 - logging_config - INFO - websocket_handlers.py:850 -     To: 2026-04-20 02:00:00 Central Europe Summer Time
2025-09-04 14:29:00,726 - logging_config - INFO - websocket_handlers.py:853 -   üåç TIMEZONE ANALYSIS:
2025-09-04 14:29:00,726 - logging_config - INFO - websocket_handlers.py:854 -     Server timezone: Central Europe Summer Time (UTC+2.0)
2025-09-04 14:29:00,726 - logging_config - INFO - websocket_handlers.py:855 -     User timezone (from logs): Europe/Ljubljana (UTC+2)
2025-09-04 14:29:00,726 - logging_config - INFO - websocket_handlers.py:856 -     Timezone difference: 0.0 hours
2025-09-04 14:29:00,726 - logging_config - INFO - websocket_handlers.py:859 -   üì§ DATA TO BE SENT TO CLIENT:
2025-09-04 14:29:00,726 - logging_config - INFO - websocket_handlers.py:860 -     Timestamps will be sent as seconds (not milliseconds)
2025-09-04 14:29:00,726 - logging_config - INFO - websocket_handlers.py:861 -     Client will receive: from_ts=1704412800, to_ts=1776643200
2025-09-04 14:29:00,726 - logging_config - INFO - websocket_handlers.py:862 -     Client local time equivalent: 2024-01-05 02:00:00 to 2026-04-20 02:00:00
2025-09-04 14:29:00,727 - logging_config - INFO - websocket_handlers.py:867 -   üìä USER'S CHART VIEW STATE:
2025-09-04 14:29:00,727 - logging_config - INFO - websocket_handlers.py:868 -     X-Axis Min: 30/08/2025, 10:31:39
2025-09-04 14:29:00,727 - logging_config - INFO - websocket_handlers.py:869 -     X-Axis Max: 04/09/2025, 01:58:37
2025-09-04 14:29:00,727 - logging_config - INFO - websocket_handlers.py:870 -     Expected local time range: 2025-08-30 10:31 to 2025-09-04 01:58
2025-09-04 14:29:00,727 - logging_config - INFO - websocket_handlers.py:871 -     Server received UTC equivalent: 2024-01-05 00:00 to 2026-04-20 00:00
2025-09-04 14:29:00,727 - logging_config - INFO - websocket_handlers.py:881 - Should send historical data: 1776643200
2025-09-04 14:29:00,727 - logging_config - INFO - websocket_handlers.py:884 - Sending historical data for BTCUSDT - time range changed: True, historical_sent: True
2025-09-04 14:29:00,727 - logging_config - INFO - websocket_handlers.py:309 - Sending historical data for BTCUSDT with indicators: ['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4', 'stochrsi_60_10']
2025-09-04 14:29:00,727 - logging_config - INFO - websocket_handlers.py:310 - Time range: from_ts=1704412800, to_ts=1776643200, resolution=1d
2025-09-04 14:29:00,727 - logging_config - INFO - websocket_handlers.py:320 - WebSocket session email found: klemenzivkovic@gmail.com
2025-09-04 14:29:00,727 - logging_config - INFO - websocket_handlers.py:325 - Looking for drawings: symbol=BTCUSDT, resolution=1d, email=klemenzivkovic@gmail.com
2025-09-04 14:29:00,727 - logging_config - INFO - websocket_handlers.py:330 - Redis key for drawings: drawings:klemenzivkovic@gmail.com:BTCUSDT
2025-09-04 14:29:00,728 - logging_config - INFO - drawing_manager.py:60 - get_drawings for BTCUSDT with resolution '1d': found 2 total, returning 1 filtered.
2025-09-04 14:29:00,728 - logging_config - INFO - websocket_handlers.py:339 - Sending 1 existing drawings for BTCUSDT
2025-09-04 14:29:00,728 - logging_config - INFO - websocket_handlers.py:345 - Sending drawing (1) message: {'type': 'drawings', 'symbol': 'BTCUSDT', 'data': [{'symbol': 'BTCUSDT', 'type': 'line', 'start_time': 1754834563, 'end_time': 1757620497, 'start_price': 125654.72871123493, 'end_price': 105505.85254783757, 'subplot_name': 'BTCUSDT', 'resolution': '1d', 'properties': {'buyOnCross': False, 'sellOnCross': False, 'sendEmailOnCross': True}, 'id': 'a8369b54-997f-455e-9cea-d9fecb571bd3'}]}
2025-09-04 14:29:00,728 - logging_config - INFO - websocket_handlers.py:347 - Successfully sent drawings message to client
2025-09-04 14:29:00,728 - logging_config - INFO - redis_utils.py:103 - Querying sorted set 'zset:kline:BTCUSDT:1d' for range [1704412800, 1776643200]
2025-09-04 14:29:00,728 - logging_config - INFO - redis_utils.py:106 - [TIMESTAMP DEBUG] redis_utils.py - get_cached_klines query:
2025-09-04 14:29:00,728 - logging_config - INFO - redis_utils.py:107 -   start_ts: 1704412800 (type: <class 'int'>)
2025-09-04 14:29:00,728 - logging_config - INFO - redis_utils.py:108 -   end_ts: 1776643200 (type: <class 'int'>)
2025-09-04 14:29:00,728 - logging_config - INFO - redis_utils.py:115 - [TIMESTAMP DEBUG] start_ts 1704412800 appears to be in SECONDS (correct for Redis)
2025-09-04 14:29:00,728 - logging_config - INFO - redis_utils.py:120 - [TIMESTAMP DEBUG] Checking Redis data sample for comparison...
2025-09-04 14:29:00,733 - logging_config - INFO - redis_utils.py:159 - Found 609 cached klines for BTCUSDT 1d between 1704412800 and 1776643200
2025-09-04 14:29:00,733 - logging_config - INFO - redis_utils.py:163 - üîç DATA GAP ANALYSIS for BTCUSDT 1d:
2025-09-04 14:29:00,733 - logging_config - INFO - redis_utils.py:164 -   Expected data points based on time range: ~836
2025-09-04 14:29:00,734 - logging_config - INFO - redis_utils.py:165 -   Actual data points retrieved: 609
2025-09-04 14:29:00,734 - logging_config - INFO - redis_utils.py:194 - ‚úÖ No data gaps detected - data appears continuous
2025-09-04 14:29:00,734 - logging_config - INFO - websocket_handlers.py:362 - ‚úÖ REDIS SUCCESS: Retrieved 609 klines from Redis for BTCUSDT
2025-09-04 14:29:00,735 - logging_config - INFO - websocket_handlers.py:398 - ‚úÖ CACHE HIT: Found 609 klines in Redis cache for BTCUSDT
2025-09-04 14:29:00,735 - logging_config - INFO - websocket_handlers.py:402 - Calculating indicators for BTCUSDT: 6 indicators, 609 klines
2025-09-04 14:29:00,736 - logging_config - INFO - redis_utils.py:265 - Found 273 cached Open Interest entries for BTCUSDT 1d between 1704412800 and 1776643200
2025-09-04 14:29:44,501 - logging_config - INFO - background_tasks.py:75 - üìä STARTING OPEN INTEREST: Data fetch cycle
2025-09-04 14:30:11,127 - logging_config - INFO - AppTradingView.py:382 - Symbol chart page request for BTCUSDT from 192.168.1.1. Current session state: authenticated=True, email=klemenzivkovic@gmail.com
2025-09-04 14:30:11,128 - logging_config - INFO - AppTradingView.py:383 - Security debug - Headers: X-Forwarded-For=192.168.1.1, X-Real-IP=192.168.1.1, User-Agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36
2025-09-04 14:30:11,128 - logging_config - INFO - AppTradingView.py:384 - Security debug - Session ID: None, Client IP: 192.168.1.1
2025-09-04 14:30:11,128 - logging_config - INFO - AppTradingView.py:388 - Security debug - Is local test: False (client_host == '192.168.1.52')
2025-09-04 14:30:11,128 - logging_config - INFO - AppTradingView.py:404 - Email found in session for BTCUSDT request from 192.168.1.1: klemenzivkovic@gmail.com
2025-09-04 14:30:11,137 - logging_config - INFO - utility_endpoints.py:282 - Log stream generator cancelled.
2025-09-04 14:30:11,138 - logging_config - ERROR - websocket_handlers.py:709 - Failed to receive WebSocket message for BTCUSDT: (1001, '')
Traceback (most recent call last):
  File "c:\git\ai-trading-bot-2\websocket_handlers.py", line 704, in stream_combined_data_websocket_endpoint
    message = await asyncio.wait_for(websocket.receive_json(), timeout=1.0)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python312\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
           ^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\websockets.py", line 136, in receive_json
    self._raise_on_disconnect(message)
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\websockets.py", line 114, in _raise_on_disconnect
    raise WebSocketDisconnect(message["code"], message.get("reason"))
starlette.websockets.WebSocketDisconnect: (1001, '')
2025-09-04 14:30:11,278 - logging_config - INFO - AppTradingView.py:382 - Symbol chart page request for favicon.ico from 192.168.1.1. Current session state: authenticated=True, email=klemenzivkovic@gmail.com
2025-09-04 14:30:11,279 - logging_config - INFO - AppTradingView.py:383 - Security debug - Headers: X-Forwarded-For=192.168.1.1, X-Real-IP=192.168.1.1, User-Agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36
2025-09-04 14:30:11,279 - logging_config - INFO - AppTradingView.py:384 - Security debug - Session ID: None, Client IP: 192.168.1.1
2025-09-04 14:30:11,279 - logging_config - INFO - AppTradingView.py:388 - Security debug - Is local test: False (client_host == '192.168.1.52')
2025-09-04 14:30:11,279 - logging_config - INFO - AppTradingView.py:404 - Email found in session for favicon.ico request from 192.168.1.1: klemenzivkovic@gmail.com
2025-09-04 14:30:11,294 - logging_config - INFO - utility_endpoints.py:59 - DEBUG: Timestamp conversion for BTCUSDT:
2025-09-04 14:30:11,294 - logging_config - INFO - utility_endpoints.py:60 -   Raw x_axis_min: 1722470400000, x_axis_max: 1758585600000
2025-09-04 14:30:11,294 - logging_config - INFO - utility_endpoints.py:61 -   Converted min_timestamp: 1722470400000, max_timestamp: 1758585600000
2025-09-04 14:30:11,294 - logging_config - INFO - utility_endpoints.py:62 -   Timestamp seconds: min=1722470400.0, max=1758585600.0
2025-09-04 14:30:11,294 - logging_config - INFO - utility_endpoints.py:68 -   Final dates: min=2024-08-01T00:00:00+00:00, max=2025-09-23T00:00:00+00:00
2025-09-04 14:30:11,294 - logging_config - INFO - utility_endpoints.py:141 - GET /settings for BTCUSDT: Retrieved from Redis: {'resolution': '1d', 'range': '3m', 'xAxisMin': 1722470400000, 'xAxisMax': 1758585600000, 'yAxisMin': 48896.649999999994, 'yAxisMax': 128174.75, 'activeIndicators': ['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4', 'stochrsi_60_10'], 'liveDataEnabled': False, 'streamDeltaTime': 1, 'useLocalOllama': False, 'localOllamaModelName': '', 'showAgentTrades': False, 'symbol': 'BTCUSDT', 'replayFrom': '', 'replayTo': '', 'replaySpeed': '1', 'last_selected_symbol': 'BTCUSDT'}
2025-09-04 14:30:11,323 - logging_config - INFO - websocket_handlers.py:271 - WebSocket connection accepted for combined data: BTCUSDT
2025-09-04 14:30:11,327 - logging_config - INFO - websocket_handlers.py:742 - üì® RAW MESSAGE RECEIVED for BTCUSDT: {
  "type": "config",
  "symbol": "BTCUSDT",
  "indicators": [
    "macd",
    "rsi",
    "stochrsi_9_3",
    "stochrsi_14_3",
    "stochrsi_40_4",
    "stochrsi_60_10"
  ],
  "resolution": "1d",
  "from_ts": "2024-08-01T00:00:00.000Z",
  "to_ts": "2025-09-23T00:00:00.000Z"
}
2025-09-04 14:30:11,327 - logging_config - INFO - websocket_handlers.py:747 - [TIMESTAMP DEBUG] websocket_handlers.py - Received timestamps:
2025-09-04 14:30:11,327 - logging_config - INFO - websocket_handlers.py:748 -   from_ts: 2024-08-01T00:00:00.000Z (type: <class 'str'>)
2025-09-04 14:30:11,327 - logging_config - INFO - websocket_handlers.py:749 -   to_ts: 2025-09-23T00:00:00.000Z (type: <class 'str'>)
2025-09-04 14:30:11,327 - logging_config - INFO - websocket_handlers.py:754 - [TIMESTAMP DEBUG] Timestamps are ISO strings (correct format)
2025-09-04 14:30:11,327 - logging_config - INFO - websocket_handlers.py:761 - [TIMESTAMP CONVERSION] ISO strings -> Unix seconds:
2025-09-04 14:30:11,327 - logging_config - INFO - websocket_handlers.py:762 -   2024-08-01T00:00:00.000Z -> 1722470400 (2024-08-01 00:00:00 UTC)
2025-09-04 14:30:11,327 - logging_config - INFO - websocket_handlers.py:763 -   2025-09-23T00:00:00.000Z -> 1758585600 (2025-09-23 00:00:00 UTC)
2025-09-04 14:30:11,327 - logging_config - INFO - websocket_handlers.py:795 - [TIMESTAMP FIX] Final timestamps set:
2025-09-04 14:30:11,328 - logging_config - INFO - websocket_handlers.py:796 -   from_ts: 1722470400 (type: <class 'int'>)
2025-09-04 14:30:11,328 - logging_config - INFO - websocket_handlers.py:797 -   to_ts: 1758585600 (type: <class 'int'>)
2025-09-04 14:30:11,328 - logging_config - INFO - websocket_handlers.py:807 - Client config updated for BTCUSDT: indicators=['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4', 'stochrsi_60_10'], resolution=1d
2025-09-04 14:30:11,328 - logging_config - INFO - websocket_handlers.py:808 - üìä MESSAGE FIELD VALUES for BTCUSDT:
2025-09-04 14:30:11,328 - logging_config - INFO - websocket_handlers.py:809 -   symbol: BTCUSDT (fallback: BTCUSDT)
2025-09-04 14:30:11,328 - logging_config - INFO - websocket_handlers.py:810 -   from_ts: 2024-08-01T00:00:00.000Z (type: <class 'str'>)
2025-09-04 14:30:11,328 - logging_config - INFO - websocket_handlers.py:811 -   to_ts: 2025-09-23T00:00:00.000Z (type: <class 'str'>)
2025-09-04 14:30:11,328 - logging_config - INFO - websocket_handlers.py:812 -   indicators: ['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4', 'stochrsi_60_10'] (type: <class 'list'>)
2025-09-04 14:30:11,328 - logging_config - INFO - websocket_handlers.py:813 -   resolution: 1d (type: <class 'str'>)
2025-09-04 14:30:11,328 - logging_config - INFO - websocket_handlers.py:819 - üìä SERVER TIME RANGE ANALYSIS for BTCUSDT:
2025-09-04 14:30:11,328 - logging_config - INFO - websocket_handlers.py:820 -   Old range: from_ts=None, to_ts=None
2025-09-04 14:30:11,328 - logging_config - INFO - websocket_handlers.py:821 -   New range: from_ts=1722470400, to_ts=1758585600
2025-09-04 14:30:11,329 - logging_config - INFO - websocket_handlers.py:822 -   Time range changed: True
2025-09-04 14:30:11,329 - logging_config - INFO - websocket_handlers.py:823 -   Historical sent: False
2025-09-04 14:30:11,329 - logging_config - INFO - websocket_handlers.py:824 -   Has timestamps: from_ts=True, to_ts=True
2025-09-04 14:30:11,329 - logging_config - INFO - websocket_handlers.py:843 -   üìÖ SERVER RECEIVED RANGE (UTC):
2025-09-04 14:30:11,329 - logging_config - INFO - websocket_handlers.py:844 -     From: 2024-08-01 00:00:00 UTC (1722470400)
2025-09-04 14:30:11,329 - logging_config - INFO - websocket_handlers.py:845 -     To: 2025-09-23 00:00:00 UTC (1758585600)
2025-09-04 14:30:11,329 - logging_config - INFO - websocket_handlers.py:846 -     Range: 36115200 seconds (10032.0 hours)
2025-09-04 14:30:11,329 - logging_config - INFO - websocket_handlers.py:848 -   üìÖ SERVER RECEIVED RANGE (Local Time):
2025-09-04 14:30:11,329 - logging_config - INFO - websocket_handlers.py:849 -     From: 2024-08-01 02:00:00 Central Europe Summer Time
2025-09-04 14:30:11,329 - logging_config - INFO - websocket_handlers.py:850 -     To: 2025-09-23 02:00:00 Central Europe Summer Time
2025-09-04 14:30:11,329 - logging_config - INFO - websocket_handlers.py:853 -   üåç TIMEZONE ANALYSIS:
2025-09-04 14:30:11,329 - logging_config - INFO - websocket_handlers.py:854 -     Server timezone: Central Europe Summer Time (UTC+2.0)
2025-09-04 14:30:11,329 - logging_config - INFO - websocket_handlers.py:855 -     User timezone (from logs): Europe/Ljubljana (UTC+2)
2025-09-04 14:30:11,329 - logging_config - INFO - websocket_handlers.py:856 -     Timezone difference: 0.0 hours
2025-09-04 14:30:11,330 - logging_config - INFO - websocket_handlers.py:859 -   üì§ DATA TO BE SENT TO CLIENT:
2025-09-04 14:30:11,330 - logging_config - INFO - websocket_handlers.py:860 -     Timestamps will be sent as seconds (not milliseconds)
2025-09-04 14:30:11,330 - logging_config - INFO - websocket_handlers.py:861 -     Client will receive: from_ts=1722470400, to_ts=1758585600
2025-09-04 14:30:11,330 - logging_config - INFO - websocket_handlers.py:862 -     Client local time equivalent: 2024-08-01 02:00:00 to 2025-09-23 02:00:00
2025-09-04 14:30:11,330 - logging_config - INFO - websocket_handlers.py:867 -   üìä USER'S CHART VIEW STATE:
2025-09-04 14:30:11,330 - logging_config - INFO - websocket_handlers.py:868 -     X-Axis Min: 30/08/2025, 10:31:39
2025-09-04 14:30:11,330 - logging_config - INFO - websocket_handlers.py:869 -     X-Axis Max: 04/09/2025, 01:58:37
2025-09-04 14:30:11,330 - logging_config - INFO - websocket_handlers.py:870 -     Expected local time range: 2025-08-30 10:31 to 2025-09-04 01:58
2025-09-04 14:30:11,330 - logging_config - INFO - websocket_handlers.py:871 -     Server received UTC equivalent: 2024-08-01 00:00 to 2025-09-23 00:00
2025-09-04 14:30:11,330 - logging_config - INFO - websocket_handlers.py:881 - Should send historical data: 1758585600
2025-09-04 14:30:11,330 - logging_config - INFO - websocket_handlers.py:884 - Sending historical data for BTCUSDT - time range changed: True, historical_sent: False
2025-09-04 14:30:11,330 - logging_config - INFO - websocket_handlers.py:309 - Sending historical data for BTCUSDT with indicators: ['macd', 'rsi', 'stochrsi_9_3', 'stochrsi_14_3', 'stochrsi_40_4', 'stochrsi_60_10']
2025-09-04 14:30:11,330 - logging_config - INFO - websocket_handlers.py:310 - Time range: from_ts=1722470400, to_ts=1758585600, resolution=1d
2025-09-04 14:30:11,330 - logging_config - INFO - websocket_handlers.py:320 - WebSocket session email found: klemenzivkovic@gmail.com
2025-09-04 14:30:11,330 - logging_config - INFO - websocket_handlers.py:325 - Looking for drawings: symbol=BTCUSDT, resolution=1d, email=klemenzivkovic@gmail.com
2025-09-04 14:30:11,330 - logging_config - INFO - websocket_handlers.py:330 - Redis key for drawings: drawings:klemenzivkovic@gmail.com:BTCUSDT
2025-09-04 14:30:11,331 - logging_config - INFO - drawing_manager.py:60 - get_drawings for BTCUSDT with resolution '1d': found 2 total, returning 1 filtered.
2025-09-04 14:30:11,331 - logging_config - INFO - websocket_handlers.py:339 - Sending 1 existing drawings for BTCUSDT
2025-09-04 14:30:11,331 - logging_config - INFO - websocket_handlers.py:345 - Sending drawing (1) message: {'type': 'drawings', 'symbol': 'BTCUSDT', 'data': [{'symbol': 'BTCUSDT', 'type': 'line', 'start_time': 1754834563, 'end_time': 1757620497, 'start_price': 125654.72871123493, 'end_price': 105505.85254783757, 'subplot_name': 'BTCUSDT', 'resolution': '1d', 'properties': {'buyOnCross': False, 'sellOnCross': False, 'sendEmailOnCross': True}, 'id': 'a8369b54-997f-455e-9cea-d9fecb571bd3'}]}
2025-09-04 14:30:11,331 - logging_config - INFO - websocket_handlers.py:347 - Successfully sent drawings message to client
2025-09-04 14:30:11,331 - logging_config - INFO - redis_utils.py:103 - Querying sorted set 'zset:kline:BTCUSDT:1d' for range [1722470400, 1758585600]
2025-09-04 14:30:11,332 - logging_config - INFO - redis_utils.py:106 - [TIMESTAMP DEBUG] redis_utils.py - get_cached_klines query:
2025-09-04 14:30:11,332 - logging_config - INFO - redis_utils.py:107 -   start_ts: 1722470400 (type: <class 'int'>)
2025-09-04 14:30:11,332 - logging_config - INFO - redis_utils.py:108 -   end_ts: 1758585600 (type: <class 'int'>)
2025-09-04 14:30:11,332 - logging_config - INFO - redis_utils.py:115 - [TIMESTAMP DEBUG] start_ts 1722470400 appears to be in SECONDS (correct for Redis)
2025-09-04 14:30:11,332 - logging_config - INFO - redis_utils.py:120 - [TIMESTAMP DEBUG] Checking Redis data sample for comparison...
2025-09-04 14:30:11,334 - logging_config - INFO - redis_utils.py:159 - Found 400 cached klines for BTCUSDT 1d between 1722470400 and 1758585600
2025-09-04 14:30:11,334 - logging_config - INFO - redis_utils.py:163 - üîç DATA GAP ANALYSIS for BTCUSDT 1d:
2025-09-04 14:30:11,334 - logging_config - INFO - redis_utils.py:164 -   Expected data points based on time range: ~418
2025-09-04 14:30:11,334 - logging_config - INFO - redis_utils.py:165 -   Actual data points retrieved: 400
2025-09-04 14:30:11,335 - logging_config - INFO - redis_utils.py:194 - ‚úÖ No data gaps detected - data appears continuous
2025-09-04 14:30:11,335 - logging_config - INFO - websocket_handlers.py:362 - ‚úÖ REDIS SUCCESS: Retrieved 400 klines from Redis for BTCUSDT
2025-09-04 14:30:11,335 - logging_config - INFO - websocket_handlers.py:398 - ‚úÖ CACHE HIT: Found 400 klines in Redis cache for BTCUSDT
2025-09-04 14:30:11,335 - logging_config - INFO - websocket_handlers.py:402 - Calculating indicators for BTCUSDT: 6 indicators, 400 klines
2025-09-04 14:30:11,336 - logging_config - INFO - redis_utils.py:265 - Found 273 cached Open Interest entries for BTCUSDT 1d between 1722470400 and 1758585600
2025-09-04 14:30:55,967 - logging_config - INFO - background_tasks.py:75 - üìä STARTING OPEN INTEREST: Data fetch cycle
2025-09-04 14:31:07,355 - logging_config - INFO - drawing_endpoints.py:120 - GET /get_shape_properties/BTCUSDT/aaa9cbc1-8786-4628-8661-0f156269f3e6 request received
2025-09-04 14:31:07,355 - logging_config - INFO - drawing_endpoints.py:148 - No properties found for drawing aaa9cbc1-8786-4628-8661-0f156269f3e6, returning empty dict
2025-09-04 14:31:10,949 - logging_config - INFO - drawing_endpoints.py:67 - POST /save_shape_properties/BTCUSDT/aaa9cbc1-8786-4628-8661-0f156269f3e6 request received with properties: {'buyOnCross': False, 'sellOnCross': False, 'sendEmailOnCross': True}
2025-09-04 14:31:10,951 - logging_config - INFO - drawing_manager.py:115 - Drawing aaa9cbc1-8786-4628-8661-0f156269f3e6 updated.
2025-09-04 14:31:10,951 - logging_config - INFO - drawing_endpoints.py:116 - Shape aaa9cbc1-8786-4628-8661-0f156269f3e6 properties updated successfully.
2025-09-04 14:32:08,779 - logging_config - INFO - background_tasks.py:75 - üìä STARTING OPEN INTEREST: Data fetch cycle
2025-09-04 14:33:20,590 - logging_config - INFO - background_tasks.py:75 - üìä STARTING OPEN INTEREST: Data fetch cycle
